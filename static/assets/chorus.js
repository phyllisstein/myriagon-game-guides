/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 	};
/******/
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"chorus": 0
/******/ 	};
/******/
/******/
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "js/" + ({"app-auth":"app-auth","app-comments":"app-comments","app-poll":"app-poll","snippet-anim":"snippet-anim","vendors~app-table":"vendors~app-table","app-table":"app-table"}[chunkId]||chunkId) + "-" + {"0":"42406188f523def9d4cf","1":"9a50dcb70379585bebb3","2":"d80e9cbddfeab76e5b11","3":"906e10cb43641d2ce0d1","4":"0edf309207edce359f7b","5":"cba85786d9ca8482171e","app-auth":"50d661b6e2f2c6faa0dd","app-comments":"950e0487aa26b454de42","app-poll":"ff1e727bfcd000cc4e10","snippet-anim":"17cad65e6706120414bb","vendors~app-table":"1fdd0a154ab004a2f21e","app-table":"0a1b3532fa430799e56b"}[chunkId] + ".chunk.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/packs/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./app_unison/frontend/scripts/lib/ad_block_detector.js":
/*!**************************************************************!*\
  !*** ./app_unison/frontend/scripts/lib/ad_block_detector.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /**
  * Detects whether user is using an ad blocker or not.
  * @module lib/ad_block_detector
  */
  /* harmony default export */ __webpack_exports__["default"] = ({
    isAdBlockEnabled: function isAdBlockEnabled() {
      var fakeAd = document.createElement('div');
      fakeAd.innerHTML = '&nbsp;';
      fakeAd.className = 'adsbox';
      document.body.appendChild(fakeAd); // a height of zero indicates element has been blocked

      this._isAdBlockEnabled = fakeAd.offsetHeight === 0;
      fakeAd.parentNode.removeChild(fakeAd);
      return this._isAdBlockEnabled;
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/ajax.js":
  /*!*************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/ajax.js ***!
    \*************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");


  /**
  * Provides a standard interface for managing ajax transactions.
  * This is a mixin library, designed to extend other objects with a standard ajax protocol.
  * @example
  * import Ajax from 'lib/ajax';
  *
  * var Messenger = Ajax.extend({
  *   urls: {
  *     'inbox': '/postal/inbox',
  *     'send': '/postal/send'
  *   },
  *
  *   ajaxOptions: {method: 'post'},
  *
  *   send: function(mssg) {
  *     return this.ajax('send', {
  *       data: {message: mssg},
  *       success: function() { ... },
  *       error: function() { ... }
  *     });
  *   }
  * })
  *
  * Messenger
  *  .send('The monkey flies at midnight')
  *  .done(function() { ... })
  *  .fail(function() { ... })
  * @module lib/ajax
  */

  var AjaxUtils = {
    /**
    * Default options used for all Ajax requests.
    * Any defaults set here are superseded by
    * options passed directly into an <code>ajax</code> call.
    */
    ajaxOptions: {},

    /**
    * <p>URL endpoints table.
    * Defines key/value pairs for all endpoints that this object talks to.
    * Format key/value pairs as:</p>
    * <p><code>'name': '/endpoint/url/:id'</code></p>
    * <p>When a URL includes "/:path/:segment" portions,
    * these fields are swapped for attributes read from this object.
    */
    urls: {},

    /**
    * Gets a url from the <code>urls</code> object, with <code>/:path/:segments</code>
    * mapped to this object's attribute values of the same name.
    * @param {String} action key name to reference from the <code>urls</code> object.
    * @returns {String} the formatted URL with path segments mapped to this object.
    */
    urlFor: function urlFor(action) {
      var _this = this;

      var https = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var url = this.urls[action];

      if (url) {
        url = url.replace(/:([^\d\/\.]+)/g, function (match, capture) {
          if (typeof _this.get === 'function') return _this.get(capture);
          return _this[capture];
        });

        if (https) {
          var protocol = /^(https?:)?\/\//;
          url = url.replace(protocol, 'https://');

          if (!protocol.test(url)) {
            url = location.origin.replace(protocol, 'https://') + '/' + url.replace(/^\//, '');
          }
        }
      }

      return url;
    },

    /**
    * Kicks off an Ajax transaction from the object's table of URL endpoints.
    * @param {String} action URL key from the <code>urls</code> object to fetch for.
    * @param {Object} options object to extend the request with.
    * @returns {Promise} the promise object for the pending Ajax transaction.
    */
    ajax: function ajax(action, options) {
      var _this2 = this;

      var deferred = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();

      var settings = lib_utils__WEBPACK_IMPORTED_MODULE_1__["default"].extend({
        method: 'get',
        dataType: 'json',
        timeout: 15000
      }, this.ajaxOptions, options || {}); // Generate fetch URL:


      settings.url = settings.url || this.urlFor(action, settings.https); // Configure JSON data formatting for non-HTTPS post requests:

      if (typeof settings.data === 'object' && String(settings.method).toLowerCase() === 'post' && !settings.contentType) {
        settings.data = JSON.stringify(settings.data);
        settings.contentType = 'application/json';
        settings.processData = false;
      }

      settings.success = function (response, status, xhr) {
        // Invoke any passed callback function:
        if (options && typeof options.success === 'function') {
          options.success.call(_this2, response, xhr);
        } // Resolve the promised response:


        deferred.resolve(response);
      };

      settings.error = function (xhr, status, message) {
        // Collect any returned message field from the API:
        message = xhr.responseJSON && xhr.responseJSON.message || message; // Invoke any passed callback function:

        if (options && typeof options.error === 'function') {
          options.error.call(_this2, message, xhr);
        } // Reject the promised response:


        deferred.reject(message);
      }; // Start Ajax, and attach a cancelation handle onto the returned promise:


      var xhr = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.ajax(settings);
      var promise = deferred.promise();

      promise.cancel = function () {
        if (xhr.state() === 'pending') xhr.abort();
      };

      return promise;
    },

    /**
    * Returns a resolved or rejected Ajax promise object,
    * which may be returned in place of an actual Ajax call.
    * Useful for when data has already been prefetched or cached,
    * so a stub promise may be returned instead of opening a new network request.
    * @param {Object} options to stub with. Accepts "success:boolean", "message:string".
    * @returns {Promise} a <em>resolved</em> promise indicating the stubbed state.
    */
    ajaxStub: function ajaxStub(opts) {
      return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred()[opts.success ? 'resolve' : 'reject'](opts.message).promise();
    },

    /**
    * Extend Ajax methodologies onto a provided object.
    * This is a convenience for applying Ajax helper methods onto an object.
    * @param {Object} object to extend with Ajax.
    */
    extend: function extend(obj) {
      for (var attr in this) {
        if (this.hasOwnProperty(attr) && !(attr in obj) && attr !== 'extend') {
          obj[attr] = this[attr];
        }
      }

      return obj;
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (AjaxUtils);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/analytics.js":
  /*!******************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/analytics.js ***!
    \******************************************************/
  /*! exports provided: default, constructor */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "constructor", function() { return constructor; });
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var lib_viewport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/viewport */ "./app_unison/frontend/scripts/lib/viewport.js");
  /* harmony import */ var lib_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/time */ "./app_unison/frontend/scripts/lib/time.js");
  /* harmony import */ var web_vitals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! web-vitals */ "./node_modules/web-vitals/dist/web-vitals.js");







  /**
  * <p>Analytics wrapper, designed to interface with the Google Tag Manager (GTM) DataLayer.
  * This is the primary touchpoint of all analytics reporting within the Presto frontend.
  * To contextualize this library, it helps to have some understanding of GTM and its DataLayer:</p>
  * <ul>
  *  <li>GTM provides a <code>dataLayer</code>, which is simply an array for dumping message objects.</li>
  *  <li>On the FE, we're only concerned with getting messages INTO the <code>dataLayer</code> array.</li>
  *  <li>In GTM, we configure client scripts that sift through the <code>dataLayer</code> and report relevant messages.</li>
  * </ul>
  * <p>So, GTM defers the process of reporting analytics to the backend.
  * This library's goal is to simply push well-formed messaged onto the <code>dataLayer</code> for collection.</p>
  * @example
  * import Analytics from 'lib/analytics';
  *
  * Analytics.event('category', 'action', 'label', 23, {nonInteraction: true}, function() { ... });
  * Analytics.eventAutoFormat('category', 'name', {nonInteraction: true});
  * @module lib/analytics
  */

  /**
  * Analytics wrapper.
  * @constructor
  */

  function Analytics() {
    var _this = this;

    var dataLayerNS = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'dataLayer';
    this.dataLayer = window[dataLayerNS] || [];
    this.depths = [25, 50, 75, 90];
    this.onReady(function () {
      _this.trackImpressions();

      _this.trackScrollDepth(true);

      _this.trackCWVStats();
    });
  }

  Analytics.prototype = {
    /**
    * Document ready handler (exposed for testing).
    * @private
    */
    onReady: jquery__WEBPACK_IMPORTED_MODULE_0___default.a,

    /**
     * Pushes a new message onto the analytics dataLayer.
     * @param {Object} message object to push onto the data layer.
     * @returns {undefined}
     */
    push: function push(mssg) {
      this.dataLayer.push(mssg);
    },

    /**
    * Analytics Event object formatting helper.
    * This helper transforms raw arguments into a normalized Event object schema.
    * The formatted event object is returned WITHOUT being reported.
    * @function
    * @param {...Any} parameters used to build an event object.
    * Positional arguments will automatically be mapped to field names.
    * @returns {Object} a formatted event object for use with GTM.
    */
    formatEvent: analyticsFormatter('event', 'analyticsEvent', ['eventCategory', 'eventAction', 'eventLabel', 'eventValue', 'eventNonInt'], {
      'nonInteraction': 'eventNonInt',
      'hitCallback': 'eventCallback'
    }),

    /**
    * Analytics Social object formatting helper.
    * This helper transforms raw arguments into a normalized Social object schema.
    * The formatted social object is returned WITHOUT being reported.
    * @function
    * @param {...Any} parameters used to build a social object.
    * Positional arguments will automatically be mapped to field names.
    * @returns {Object} a formatted social object for use with GTM.
    */
    formatSocial: analyticsFormatter('social', 'social', ['socialNetwork', 'socialAction', 'socialTarget', 'socialPagePath'], {
      'page': 'socialPagePath',
      'hitCallback': 'eventCallback'
    }),

    /**
    * Analytics PageView object formatting helper.
    * This helper transforms raw arguments into a normalized PageView object schema.
    * The formatted pageview object is returned WITHOUT being reported.
    * @function
    * @param {...Any} parameters used to build a pageview object.
    * Positional arguments will automatically be mapped to field names.
    * @returns {Object} a formatted pageview object for use with GTM.
    */
    formatPageview: analyticsFormatter('pageview', 'virtualPageView', ['virtualPagePath', 'virtualPageTitle'], {
      'page': 'virtualPagePath',
      'title': 'virtualPageTitle',
      'hitCallback': 'eventCallback'
    }),

    /**
    * Analytics Event reporter.
    * Transforms raw arguments into a normalized message schema,
    * and then pushes the event message onto the data layer.
    * Accepts analytics arguments to be formatted and sent to GTM.
    * @param {...Any} parameters used to build a pageview object.
    */
    event: function event() {
      this.push(this.formatEvent.apply(this, arguments));
    },

    /**
    * Analytics Social reporter.
    * Transforms raw arguments into a normalized message schema,
    * and then pushes the social message onto the data layer.
    * Accepts analytics arguments to be formatted and sent to GTM.
    * @param {...Any} parameters used to build a social object.
    */
    social: function social() {
      this.push(this.formatSocial.apply(this, arguments));
    },

    /**
    * Analytics Pageview reporter.
    * Transforms raw arguments into a normalized message schema,
    * and then pushes the pageview message onto the data layer.
    * Accepts analytics arguments to be formatted and sent to GTM.
    * @param {...Any} parameters used to build a pageview object.
    */
    pageview: function pageview() {
      this.push(this.formatPageview.apply(this, arguments));
    },

    /**
    * Primary site navigation reporter.
    * Use this for *sanctioned* primary site navigation behavior
    * (which gets tracked within a Unison site's "navigation" event category).
    * DO NOT USE THIS for one-off navigation schemes; those can just use `.event()`.
    * If you're not sure if your nav is a primary site navigation pattern,
    * then check with the analytics team before using this reporter.
    * @param {String} action keyword to report (only pass base actions such as "click" or "expand").
    * @param {String} label of the corresponding element (generally the triggering element's text).
    * @param {Boolean} [non-interaction] pass "true" when event is triggered by a non-touch mouseover.
    */
    nav: function nav(action, label, nonInteraction) {
      action = [action, this.contentType(), this.contentFormat()].join(':');
      this.push(this.formatEvent('navigation', action, label, nonInteraction));
    },

    /**
     * Shorthand for sending an event with only a "category" and an "action".
     * Will automatically format the event as:
     * <ul>
     *   <li>"eventCategory": "category"</li>
     *   <li>"eventAction": "category:name"</li>
     *   <li>"eventLabel": "category:content_type:name"</li>
     * </ul>
     * Use this method for simplicity when possible.
     * @param {String} category name for the event.
     * @param {String} name used to identify the event.
     * @param {Boolean} non-interaction pass true to mark the event as a non-user action.
     * @returns {Object} the formatted object sent to the dataLayer.
     */
    eventAutoFormat: function eventAutoFormat(category, name, nonInteraction) {
      var action = [category, name].join(':');
      var label = [category, this.contentType(), name].join(':');
      return this.event(category, action, label, nonInteraction);
    },

    /**
     * Configures an element to be tracked within the viewport.
     * The element is passed to GTM upon entering view.
     * @param {Element|String} element selector to track.
     */
    trackElementView: function trackElementView(els, scope) {
      var _this2 = this;

      // Impression tracking to be disabled via query param for performance tests.
      if (/analytics-viewport=false/.test(location.search)) return;

      if (typeof els === 'string') {
        els = [].slice.call((scope || document).querySelectorAll(els));
      } else if (!Array.isArray(els)) {
        els = [els];
      } // Filter out "video" impression requests.
      // Unison's video library performs its own (more sophisticated) reporting,
      // and we don't want these elements to be tracked more than once.


      els.filter(function (el) {
        return el.getAttribute('data-analytics-viewport') !== 'video';
      }).forEach(function (el) {
        if (!el.__analytics_vpt__) {
          el.__analytics_vpt__ = true;
          lib_viewport__WEBPACK_IMPORTED_MODULE_4__["default"].trackElement(el, function (el) {
            return _this2.push({
              event: 'elementView',
              'gtm.element': el
            }, 0);
          });
        }
      });
    },

    /**
     * Configures impression tracking (`data-analytics-viewport` reports) for a scope.
     * Calling without a scope element will query the entire document for these attributes.
     */
    trackImpressions: function trackImpressions(scope) {
      this.trackElementView('[data-analytics-viewport]', scope, 0);
    },

    /**
    * Toggles scroll depth tracking.
    * @param {Object|Boolean} enabled status of scroll depth tracker.
    * Pass <code>{disable: true}</code> to fully disable for the page.
    * @example
    * analytics.trackScrollDepth(true);
    * analytics.trackScrollDepth({disable: true});
    */
    trackScrollDepth: function trackScrollDepth(toggle) {
      if (toggle && toggle.hasOwnProperty('disable')) {
        this._noSD = toggle.disable;
      }

      if (this._noSD) {
        toggle = false;
      }

      var EVENT_NS = 'scroll.scrolldepth';
      var $win = jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).off(EVENT_NS);

      if (toggle) {
        $win.on(EVENT_NS, lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].throttle(this._depth, 100, this));

        this._depth(true);
      }
    },

    /**
    * Sends CWV data to GA see https://www.npmjs.com/package/web-vitals
    * @private
    */
    trackCWVStats: function trackCWVStats() {
      var _this3 = this;

      Object(web_vitals__WEBPACK_IMPORTED_MODULE_6__["getCLS"])(function (opts) {
        opts.delta = Math.round(opts.delta * 1000);

        _this3.sendCWVData(opts);
      });
      Object(web_vitals__WEBPACK_IMPORTED_MODULE_6__["getFID"])(function (opts) {
        opts.delta = Math.round(opts.delta);

        _this3.sendCWVData(opts);
      });
      Object(web_vitals__WEBPACK_IMPORTED_MODULE_6__["getLCP"])(function (opts) {
        opts.delta = Math.round(opts.delta);

        _this3.sendCWVData(opts);
      });
    },
    sendCWVData: function sendCWVData(opts) {
      this.event({
        event: 'web-vitals',
        event_action: opts.name,
        eventAction: opts.name,
        event_category: 'Web Vitals',
        eventCategory: 'Web Vitals',
        event_label: opts.id,
        eventLabel: opts.id,
        event_value: opts.delta,
        eventValue: opts.delta,
        nonInteraction: true,
        transport: 'beacon'
      });

      if (lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].urlParams().debugCWVReporting) {
        console.log("".concat(opts.name, " matching ID ").concat(opts.id, " changed by ").concat(opts.delta));
      }
    },

    /**
    * Reports on the current scroll depth.
    * @param {Boolean} [initialReport] reports only once on the maximum threshold passed.
    * @param {Number} [scrollY] optional argument for static testing.
    * @param {Number} [windowH] optional argument for static testing.
    * @param {Number} [pageH] optional argument for static testing.
    * @private
    */
    _depth: function _depth(initialReport, windowH, pageH, scrollY) {
      var depths = this.depths;
      scrollY = scrollY || window.pageYOffset;
      windowH = windowH || window.innerHeight;
      pageH = pageH || document.body.scrollHeight; // Calculate the top and bottom percentages of the viewport:

      var top = scrollY / pageH * 100;
      var bottom = (scrollY + windowH) / pageH * 100; // Loop backward so that we can safely remove tracked values...

      for (var i = depths.length - 1; i >= 0; i--) {
        var value = depths[i]; // Track value thresholds when present within the viewport range:
        // During the initial report, just capture how deep we're starting.

        if (value >= top && value <= bottom || initialReport && value <= bottom) {
          this.eventAutoFormat('interaction', value, true);
          depths.splice(i, 1); // Stop after first reported depth during initial report:
          // we only want to know how deep the user started up front.

          if (initialReport) return;
        }
      } // Disable tracking when we've exhausted all depths to report at:


      if (!depths.length) {
        this.trackScrollDepth(false);
      }
    },

    /**
     * Gets a variable from the Data Layer.
     * Performs a reverse search, looking for the newest variable instance.
     * @param {String} attribute name to find.
     * @param {Object} [default] value to return if attribute is not found.
     */
    getVariable: function getVariable(attribute) {
      var dl = this.dataLayer;

      for (var i = dl.length - 1; i >= 0; i--) {
        if (dl[i].hasOwnProperty(attribute)) return dl[i][attribute];
      }

      return undefined;
    },

    /**
    * Gets the "Content Type" variable.
    * Content Type is written into the page data layer by the Chorus backend.
    * @returns {String} content type data layer variable set by Chorus.
    */
    contentType: function contentType() {
      return this.getVariable('Content Type') || 'other';
    },

    /**
     * Gets a content format assessment (mobile versus desktop).
     * NOTE: this implementation matches the Unison GTM Container implementation.
     * DO NOT CHANGE THIS without consulting with the analytics team.
     * @returns {String} a keywork string describing the (subjective) content display format.
     */
    contentFormat: function contentFormat() {
      var breakpoint = lib_user_agent__WEBPACK_IMPORTED_MODULE_3__["default"].breakpoint();
      var isSmall = /small|medium/.test(breakpoint) || lib_user_agent__WEBPACK_IMPORTED_MODULE_3__["default"].isSmallWindow(600);
      return isSmall ? 'mobile' : 'desktop';
    },

    /**
     * Fetches and submits async context data.
     */
    sendContext: function sendContext() {
      var _this4 = this;

      models_context__WEBPACK_IMPORTED_MODULE_1__["currentUser"].fetch().then(function () {
        var EST = lib_time__WEBPACK_IMPORTED_MODULE_5__["default"].server(lib_time__WEBPACK_IMPORTED_MODULE_5__["default"].EST);

        _this4.push({
          'Hour of Day': EST.getHours(),
          'Day of Week': lib_time__WEBPACK_IMPORTED_MODULE_5__["default"].nameOfDay(EST.getDay()).toLowerCase(),
          'Logged in Status': models_context__WEBPACK_IMPORTED_MODULE_1__["currentUser"].get('id') || 'Logged Out',
          'Breakpoint': lib_user_agent__WEBPACK_IMPORTED_MODULE_3__["default"].breakpoint()
        });
      });
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (new Analytics());
  var constructor = Analytics;
  /**
   * Creates a formatter function to build positional arguments into event objects.
   * This is a brute-force normalization of anything that you can throw at analytics.
   * @param {String} event name assigned to the formatted analytics data.
   * @param {String[]} fields names arranged by call position.
   * @param {Object} mapping hash defining fields to rename.
   * @return {Function} a GTM formatter function that accepts analytics arguments,
   * and returns a formatted analytics event object.
   * @private
   */

  function analyticsFormatter(uaAction, eventName, fields) {
    var uaMapping = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
    return function () {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      // Sanitize arguments array, removing all GA boilerplate from initial arguments:
      // this will take out "send", "event", etc, from the front of the array...
      if (args[0] instanceof Array) args = args[0];
      if (typeof args[0] === 'string' && args[0].match(/send|_track/)) args.shift();
      if (args[0] === uaAction.toLowerCase()) args.shift();
      var position = 0;
      var evt = {}; // Map passed positional arguments into named event keys:
      // this loop runs while we have arguments OR named fields left to fill.

      for (var i = 0; i < args.length || position < fields.length; i++) {
        var value = args[i]; // Formatting rules:
        // - Any function param is assigned as the event callback.
        // - Any boolean param is assigned as the non-interaction flag.
        // - Any object params are extended onto the event object.
        // --> (a mapping table may specify the renaming of legacy field names).
        // - Otherwise, params are positionally mapped into named fields.

        if (typeof value === 'function') {
          // Set any passed function as the event callback:
          evt.eventCallback = value;
        } else if (typeof value === 'boolean') {
          // Set any boolean as a non-interaction flag:
          if (value) evt.eventNonInt = value;
        } else if (typeof value === 'object') {
          // Extend any passed objects onto the event:
          // Object keys are subject to field renaming.
          // Ex: "hitCallback" -> "eventCallback"
          for (var key in value) {
            if (value.hasOwnProperty(key)) {
              evt[uaMapping[key] || key] = value[key];
            }
          }
        } else if (fields[position]) {
          // Assign everything else to a positional label:
          var field = fields[position++];
          if (!evt.hasOwnProperty(field)) evt[field] = value;
        }
      } // Set the definitive event name:


      evt.event = eventName;
      return evt;
    };
  }

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/color.js":
  /*!**************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/color.js ***!
    \**************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /**
  * Detects the brightness of an element's backgroundColor
  * Usage:
  *
  * import ElementBrightness from './scripts/element_brightness';
  *
  * @example
  * // A: Get a specific pseudo element bg color
  * ElementBrightness.isBright( document.querySelector('.c-global-header), 'before' );
  *
  * // B: Get a specific element bg color
  * ElementBrightness.isBright( document.querySelector('.c-app-nav) );
  *
  * // C: Send the child element's parent to find the closest bg color
  * var childElement = document.querySelector('.child-element');
  * ElementBrightness.isBright( childElement.parentNode );
  */
  /* harmony default export */ __webpack_exports__["default"] = ({
    /**
     * Determine the brightness of the background color or an element matching the
     * node and pseudoSelector passed
     * @param  {node}   node             Node to test
     * @param  {string} pseudoSelector   pseudo selector to test
     * @return {Boolean}
     */
    hasLightBackground: function hasLightBackground(el, pseudoSelector) {
      var color = this.closestBackgroundColorToElement(el, pseudoSelector);
      return this.brightness(color) > 128;
    },

    /**
     * Find the closest parent element with a backgroundColor set
     * @param  {node} el               Element to start with
     * @param  {string} pseudoSelector A pseudo selector to test against for the initial element
     * @return {object}                Object representing RGBA color
     */
    closestBackgroundColorToElement: function closestBackgroundColorToElement(el, pseudoSelector) {
      var bgcolor;

      while (el instanceof Element) {
        bgcolor = this.parseRGBA(window.getComputedStyle(el, pseudoSelector).backgroundColor);

        if (bgcolor.a === 0) {
          bgcolor = pseudoSelector = undefined;
          el = el.parentNode;
        } else {
          break;
        }
      }

      return bgcolor || this.parseRGBA('#FFFFFF');
    },

    /**
     * Convert a string to an object formatted for RGBA
     * @param  {string} colorString Input string
     * @return {object} RGBA
     */
    parseRGBA: function parseRGBA(str) {
      var RGBA_CODE = /^rgba?\(([\d\.\s]+),([\d\.\s]+),([\d\.\s]+)(?:,([\d\.\s]+))?\)$/i;
      var components = [];

      if (str === 'transparent') {
        components = [0, 0, 0, 0, 0];
      } else if (RGBA_CODE.test(str)) {
        components = str.match(RGBA_CODE);
      } else {
        var SHORT_HEX_CODE = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
        var LONG_HEX_CODE = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;

        if (SHORT_HEX_CODE.test(str)) {
          str = str.replace(SHORT_HEX_CODE, function (m, r, g, b) {
            return r + r + g + g + b + b;
          });
        }

        if (LONG_HEX_CODE.test(str)) {
          components = (str.match(LONG_HEX_CODE) || []).map(function (val, i) {
            return i ? parseInt(val, 16) : val;
          });
        }
      }

      return {
        r: parseFloat(components[1] || 0),
        g: parseFloat(components[2] || 0),
        b: parseFloat(components[3] || 0),
        a: parseFloat(components[4] === 0 ? 0 : components[4] || 1)
      };
    },

    /**
     * Get the brightness of an RGB color
     * @param  {string} rgb     RGB color
     * @return {float}           Brightness level
     * As determined by the formula: https://www.w3.org/TR/AERT
     */
    brightness: function brightness(rgb) {
      if (typeof rgb === 'string') {
        rgb = this.parseRGBA(rgb);
      }

      return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/effects.js":
  /*!****************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/effects.js ***!
    \****************************************************/
  /*! exports provided: TRANSITION_END, ANIMATION_END */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TRANSITION_END", function() { return TRANSITION_END; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ANIMATION_END", function() { return ANIMATION_END; });
  /**
    * Vendor-specific transition end event.
    * @example
    * import { TRANSITION_END } from 'lib/effects';
    *
    * if (effects.TRANSITION_END) {
    *   $(myElement).one(effects.TRANSITION_END, done).addClass('fx');
    * } else {
    *   done();
    * }
    */
  var TRANSITION_END = domEventType({
    'transition': 'transitionend',
    'WebkitTransition': 'webkitTransitionEnd',
    'MozTransition': 'transitionend',
    'OTransition': 'otransitionend'
  });
  /**
    * Vendor-specific animation end event.
    * @example
    * import { ANIMATION_END } from 'lib/effects';
    *
    * if (effects.ANIMATION_END) {
    *   $(myElement).one(effects.ANIMATION_END, done).addClass('fx');
    * } else {
    *   done();
    * }
    */

  var ANIMATION_END = domEventType({
    'animation': 'animationend',
    'WebkitAnimation': 'webkitAnimationEnd',
    'msAnimation': 'MSAnimationEnd',
    'OAnimation': 'oAnimationEnd'
  });
  /**
  * style event name helper
  */

  function domEventType(events) {
    for (var prop in events) {
      // Check for document.body inside Capybara tests
      if (document.body && typeof document.body.style[prop] != 'undefined') return events[prop];
    }
  }

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/foursquare_widget.js":
  /*!**************************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/foursquare_widget.js ***!
    \**************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);



  var pending;
  /*
  * import foursquareWidgetLoader from 'lib/foursquare_widget';
  * foursquareWidgetLoader().then(() => {
  *    // init new widget
  * }
  */

  /* harmony default export */ __webpack_exports__["default"] = (function () {
    if (!pending) {
      pending = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.Deferred();
      models_context__WEBPACK_IMPORTED_MODULE_0__["default"].fetch().then(function () {
        var networkFoursquareUserID = models_context__WEBPACK_IMPORTED_MODULE_0__["currentNetwork"].get('foursquare_user_id'); // i think that fourSq requires that this be done this way?

        window.___fourSq = {
          'uid': networkFoursquareUserID,
          'explicit': false,
          'secure': true,
          'onReady': function onReady() {
            pending.resolve();
          }
        }; // not sure if we've got a better way to do this.

        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getScript('https://platform-s.foursquare.com/js/widgets.js');
      });
    }

    return pending.promise();
  });

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/google_maps.js":
  /*!********************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/google_maps.js ***!
    \********************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* global google:false */


  var pending;

  function getUrlOpts(opts) {
    var urlOpts = {
      callback: '_googleMapsAPILoaded',
      libraries: opts.libs || 'places,geometry',
      sensor: false,
      v: 3
    };
    var apiKey = models_context__WEBPACK_IMPORTED_MODULE_1__["currentNetwork"].get('google_maps_api_key');

    if (apiKey) {
      urlOpts.key = apiKey;
    }

    return urlOpts;
  }

  function getApiUrl(opts) {
    var urlOpts = getUrlOpts(opts);
    var params = [];

    for (var key in urlOpts) {
      params.push(key + '=' + urlOpts[key]);
    }

    return 'https://maps.googleapis.com/maps/api/js?' + params.join('&');
  }
  /*
  * import googleMapsLoader from 'lib/google_maps';
  * googleMapsLoader().then(() => {
  *    //init map and marker
  * }
  */


  /* harmony default export */ __webpack_exports__["default"] = (function (opts) {
    opts = opts || {};

    if (!pending) {
      pending = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();

      if (!global.google || !global.google.maps) {
        models_context__WEBPACK_IMPORTED_MODULE_1__["currentNetwork"].fetch().done(function () {
          global._googleMapsAPILoaded = function () {
            pending.resolve(google.maps);
          };

          jquery__WEBPACK_IMPORTED_MODULE_0___default.a.getScript(getApiUrl(opts));
        });
      } else {
        pending.resolve(google.maps);
      }
    }

    return pending.promise();
  });
  /* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/google_maps_marker.js":
  /*!***************************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/google_maps_marker.js ***!
    \***************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* global google:false */

  /**
  * Marker class builder
  * The marker class is built atop a Google Maps overlay object,
  * thus we can't configure the marker class until after Google Maps is loaded.
  *
  * This class requires that the google maps API has been loaded. This should be enforced
  * by the fact that the main param is the OverlayView, but we check just in case.
  *
  * You can include the google maps api like so:

  * import googleMapsLoader from 'lib/google_maps';
  * googleMapsLoader().then(() => {
  *    //init map and marker
  * }
  *
  * @param {OverlayView} base overlay view object provided by Google Maps API.
  * @returns {Function} constructor function for generating marker views.
  */

  var MarkerViewClass;

  function asyncBuildMarkerClass() {
    if (typeof google === 'undefined' || !google.maps) {
      throw 'googleMapsLoader must be run before requesting a googleMapsMarker';
    }

    var baseView = new google.maps.OverlayView();
    /**
    * Map Marker
    * Constructor for instancing map markers.
    * @constructs
    */

    function MapMarkerView(opts) {
      var el = document.createElement('div');
      el.className = opts.cssClass;
      el.setAttribute('data-marker', opts.slug);
      var html = opts.html || "<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 20 20\" enable-background=\"new 0 0 20 20\" xml:space=\"preserve\">\n        <path d=\"M10,0.5c2.7-0.1,6.6,1.8,7.1,7c0.4,5.2-7.1,11.6-7.1,11.6l0,0c0,0-7.5-6.4-7.1-11.6C3.4,2.3,7.2,0.5,10,0.5\"/>\n      </svg><span>".concat(opts.label, "</span>");
      el.innerHTML = html;
      this.el = el;
      this.latlng = new google.maps.LatLng(opts.lat, opts.lon);
    }

    MapMarkerView.prototype = lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(baseView || {},
    /** @lends MapMarkerView.prototype */
    {
      onAdd: function onAdd() {
        this.getPanes().overlayMouseTarget.appendChild(this.el);
      },
      onRemove: function onRemove() {
        this.el.parentNode.removeChild(this.el);
        this.el = null;
      },
      draw: function draw() {
        var pos = this.getProjection().fromLatLngToDivPixel(this.latlng);
        this.el.style.left = pos.x + 'px';
        this.el.style.top = pos.y + 'px';
      },

      /**
      * Specifies if the view is visually highlighted.
      * @returns {Boolean}
      */
      isHilited: function isHilited() {
        return /\bhilite\b/.test(this.el.className);
      },

      /**
      * Visually highlights the marker.
      * @returns {undefined}
      */
      hilite: function hilite() {
        if (!this.isHilited()) {
          this.el.className += ' hilite';
          this.el.parentNode.appendChild(this.el);
        }
      },

      /**
      * Visually unhighlights the marker.
      * @returns {undefined}
      */
      unhilite: function unhilite() {
        if (this.isHilited()) {
          this.el.className = this.el.className.replace(/\shilite\b/, '');
        }
      }
    });
    return MapMarkerView;
  }

  /* harmony default export */ __webpack_exports__["default"] = (function (opts) {
    MarkerViewClass = MarkerViewClass || asyncBuildMarkerClass();
    return new MarkerViewClass(opts);
  });

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/iframeclient.js":
  /*!*********************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/iframeclient.js ***!
    \*********************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  /* !
   * IframeClient v0.0.5
   * Copyright 2015, Vox Media
   * Released under MIT license
   */
  (function (global, factory) {
    /**
    * IframeClient API
    * All frames must install and create their own instance of this client.
    * @example
    * var client = IframeClient.create('myapp', 'http://aweso.me')
    *  .on('play', function(data) { ... }, this)
    *  .on('pause', function(data) { ... }, this)
    *  .on('host', function(data) { return document.domain; }, this)
    *  .listen();
    */
    var IframeClient = {
      debug: false,

      /**
      * Creates a new IframeClient instance.
      * Seeds the client factory with parameters.
      * @private
      */
      create: function create(app, origin) {
        return factory(this, app, origin, global);
      },

      /**
      * Tests if the current window environment is within an iframe.
      */
      isInIframe: function isInIframe() {
        try {
          return global.parent && global.self !== global.top;
        } catch (e) {
          return true;
        }
      },

      /**
      * Library error handling.
      */
      error: function error(err) {
        if (this.debug) throw err;
      }
    };
    /**
    * Module definitions:
    * Supports CommonJS and global namespace.
    */

    if ( true && module.exports) {
      module.exports = IframeClient;
    } else {
      global.IframeClient = IframeClient;
    }
  })(window, function (lib, appId, originHost, global) {
    /**
    * Generates a random GUID (Globally-Unique IDentifier) component.
    * @private
    */
    function s4() {
      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
    } // Constants


    var CLIENT_GUID = s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();
    var PROTOCOL_APP = '@app';
    var PROTOCOL_APP_ID = appId || 'xframe';
    var PROTOCOL_RESPONSE = '@res';
    var POLL_INTERVAL = 200; // Encapsulated state

    var handlers = [];
    var requests = {};
    var responses = {};
    var requestId = 0;
    var currentPoll = null;
    var listener = null; // Client API:

    return {
      host: originHost || '*',

      /**
      * READONLY
      * Specifies the GUID of the client instance.
      */
      get id() {
        return CLIENT_GUID;
      },

      /**
      * Resolves the source of a client window.
      * @param {String|Element|Window} target selector or iframe/window element.
      * @returns {Window} a resolved window source.
      * @private
      */
      src: function src(_src) {
        // Query for target when given a string:
        if (typeof _src === 'string') {
          _src = document.querySelector(_src);
        } // Check target element (iframe) for a content window:


        if (_src && _src instanceof Element && _src.contentWindow) {
          _src = _src.contentWindow;
        } // Return a resolved source frame:


        return _src && typeof _src.postMessage === 'function' ? _src : null;
      },

      /**
      * Posts a message and value to a source window.
      * This is a blind post without guarentee that the message will go through
      * (messages may fail if the source is not yet fully initialized).
      * Use `request` to post a message with confirmation of receipt.
      * @param {String|Element|Window} target selector or iframe/window element.
      * @param {String|Object} message string or formatted object (w/ "message" key).
      * @param {Any} [value] an optional value to send with the message.
      */
      post: function post(src, message, value) {
        src = this.src(src);
        if (!src || !message) return lib.error('invalid post'); // Generate the base data object:

        var data = typeof message === 'string' ? {
          message: message
        } : message; // Assign a value, if one was provided:

        if (value !== undefined) data.value = value; // Validate message and protocol before sending:

        if (data.message) {
          data[PROTOCOL_APP] = PROTOCOL_APP_ID;

          try {
            src.postMessage(JSON.stringify(data), this.host);
          } catch (e) {
            lib.error(e);
          }
        }
      },

      /**
      * Posts a message to a source with request for confirmation.
      * This implementation polls the source frame with the posted message
      * until the frame sends back a confirmation response.
      * Use this method to (better) guarentee delivery.
      * @param {String} message string to send.
      * @param {Any} [value] an optional value to send with the message.
      * @param {Function} [callback] function to call with the response data.
      * @param {Number} [timeout] in milliseconds before request is aborted.
      * @returns {String} id of the newly-created request.
      */
      request: function request(src, message, value, callback, timeout) {
        src = this.src(src);
        if (!src || !message) return lib.error('invalid request');
        var self = this;
        var id = CLIENT_GUID + '-' + ('0000' + requestId++).slice(-4);
        var req = requests[id] = {
          timeout: timeout || 15000,
          attempts: 0,
          src: src,
          cb: callback,
          data: {
            message: message,
            value: value,
            id: id
          }
        }; // Runs a single polling cycle to push pending messages.
        // Continues polling calls until the request queue is empty.

        function poll() {
          var running = false;

          for (var id in requests) {
            if (requests.hasOwnProperty(id)) {
              var pending = requests[id];

              if (pending.attempts++ < pending.timeout / POLL_INTERVAL) {
                self.post(pending.src, pending.data);
                running = true;
              } else {
                self.end(id, new Error('request timeout'));
              }
            }
          }

          currentPoll = running ? setTimeout(poll, POLL_INTERVAL) : null;
        } // Start polling, or else make an initial request:


        if (!currentPoll) poll();else this.post(src, req.data);
        return id;
      },

      /**
      * Ends a pending request.
      * The request is deleted from the queue,
      * and the pending request callback is fulfilled.
      * @param {String|Object} message id or data object to conclude.
      * @param {Error|Object} error or cancelation options.
      * Pass "abort: true" to end without response.
      * @example
      * xframe.end('request-0001', new Error('boom'))
      * xframe.end('request-0001', { abort: true })
      * xframe.end({ id: 'request-0001', value: 'hello' })
      */
      end: function end(req, err) {
        var id = req.id || req;
        var isAbort = err && err.abort;

        if (requests.hasOwnProperty(id)) {
          var pending = requests[id];
          delete requests[id];

          if (!isAbort && typeof pending.cb === 'function') {
            pending.cb(err || null, req.value);
          }
        }
      },

      /**
      * Attaches a response handler to this XFrame Client.
      * Each handler may target a unique message type.
      * @param {String} message name to respond to.
      * @param {Function} handler function for responding.
      * Handler receives any value that was sent with the message,
      * and may return a value that gets sent back to requests.
      * @param {Object} context in which to invoke the handler.
      * @example
      * var xframe = require('xframe');
      * var client = xframe('volume', 'http://aweso.me');
      * client
      *  .on('play', function(data) { ... }, this)
      *  .on('pause', function(data) { ... }, this)
      *  .on('host', function(data) { return document.domain; }, this)
      *  .listen();
      */
      on: function on(message, handler, context) {
        handlers.push({
          message: message,
          fn: handler,
          ctx: context
        });
        return this;
      },

      /**
      * Enables listening on the client.
      * Call this once after configuring all request handlers.
      */
      listen: function listen() {
        if (!listener) {
          // Loops through all handlers, responding to the message type:
          // collects and returns an optional response value from handlers.
          var handleMessage = function handleMessage(evt, req) {
            var res;

            for (var i = 0; i < handlers.length; i++) {
              var handler = handlers[i];

              if (handler.message === req.message) {
                res = handler.fn.call(handler.ctx, evt, req.value);
              }
            }

            return res;
          }; // Handle events sent from `postMessage`.
          // This listener delegates all requests and responses.


          var self = this;

          listener = function listener(evt) {
            var origin = self.host === '*' || String(evt.origin).indexOf(self.host) >= 0;
            var req; // Parse request data:

            if (origin && /^\{.*\}$/.test(evt.data)) {
              try {
                req = JSON.parse(evt.data);
              } catch (e) {
                req = null;
              }
            } // Abort for invalid origin, request, or protocol:


            if (!origin || !req || req[PROTOCOL_APP] !== PROTOCOL_APP_ID) return;

            if (req.id) {
              // MESSAGE WITH ID (track request/response cycle)
              // Check if message is a response to a previous request:
              var isResponse = req.message === PROTOCOL_RESPONSE; // MESSAGE RESPONSE (conclude request/response cycle)

              if (isResponse && requests.hasOwnProperty(req.id)) {
                self.end(req);
              } else if (!isResponse && !responses.hasOwnProperty(req.id)) {
                // REQUEST FOR RESPONSE (handle message and send response)
                responses[req.id] = true;
                self.post(evt.source, {
                  message: PROTOCOL_RESPONSE,
                  value: handleMessage(evt, req) || 'success',
                  id: req.id
                });
              }
            } else {
              // GENERIC MESSAGE (just handle locally)
              handleMessage(evt, req);
            }
          };

          global.addEventListener('message', listener);
        }

        return this;
      },

      /**
      * Stops listening for message events.
      * Call this while uninstalling the client.
      */
      stopListening: function stopListening() {
        if (listener) {
          global.removeEventListener('message', listener);
          listener = null;
        }

        return this;
      },

      /**
      * Stops all pending requests.
      * Call this while uninstalling the client.
      */
      dispose: function dispose() {
        clearInterval(currentPoll);
        this.stopListening();
      }
    };
  });

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/initializer.js":
  /*!********************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/initializer.js ***!
    \********************************************************/
  /*! exports provided: default, constructor */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "constructor", function() { return constructor; });
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* eslint no-global-assign: 0, no-native-reassign: 0 */

  /**
  * <p>The master component initializer for setting up JavaScript-based component instances.</p>
  * <p><b>Lifecycle:</b></p>
  * <ol>
  *  <li>An initialization handler function is registered for each component type.
  *  These initializer functions are configured to setup discrete component instances.</li>
  *  <li>Each component element is rendered into the DOM with a few initializer attributes.</li>
  *  <li>On startup, the initializer queryies for all component elements with initializer attributes.</li>
  *  <li>Each component element is handed off to its registered initialization handler for setup.</li>
  * </ol>
  * <p>This process avoids repetative DOM queries (by finding all component elements ONCE),
  * and then only runs JavaScript for components that are actually present on the page.
  *
  * <p>While the initializer is mainly concerned with configuring component instances,
  * it also handles registering buildable components and orchastrating one-off DOM ready tasks.
  * As a general rule, NO scripts should latch onto DOM ready.
  * Instead, everything should go through this initializer for proper sequencing.</p>
  *
  * @module lib/initializer
  */


  var win = window;

  win.requestIdleCallback = win.requestIdleCallback || function (cb) {
    function handler() {
      var start = Date.now();
      cb({
        didTimeout: false,
        timeRemaining: function timeRemaining() {
          return Math.max(0, 50 - (Date.now() - start));
        }
      });
    }

    if (win.requestAnimationFrame) {
      return win.requestAnimationFrame(handler);
    } else {
      return setTimeout(handler, 1);
    }
  }; // Polyfill performance API with Date object (that also has a now() method)


  if (typeof performance === 'undefined') {
    performance = Date;
  }

  var perfStats = {
    uri: {},
    com: {}
  };

  function elementInitializer(el, fn, cid, uri) {
    return function () {
      try {
        var startTime = performance.now();
        fn(el, JSON.parse(el.getAttribute('data-cdata') || '{}'));
        var delta = perfStats.com[cid] = performance.now() - startTime;
        perfStats.uri[uri] = (perfStats.uri[uri] || 0) + delta;
      } catch (e) {
        console.log('presto: error initializing ' + cid, e);
      }
    };
  }
  /**
  * @constructor
  */


  function Initializer() {
    var _this = this;

    this._c = {}; // components

    this._cinit = {};
    this._buffer = [];
    this._queue = [];
    this._running = false;
    this.perf = perfStats;
    this._ready = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();
    this._consent = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();
    this.domReady(function () {
      _this._ready.resolve();

      _this.run();
    });
  }

  Initializer.prototype = {
    domReady: jquery__WEBPACK_IMPORTED_MODULE_0___default.a,
    // allows for testing stubs
    LOW: 0,
    MEDIUM: 50,
    HIGH: 100,
    isReady: function isReady() {
      return this._ready.state() === 'resolved';
    },
    hasConsent: function hasConsent() {
      return this._consent.state() === 'resolved';
    },
    consent: function consent() {
      var _this2 = this;

      this._ready.then(function () {
        return _this2._consent.resolve();
      });
    },

    /**
    * Registers a new component initialization handler.
    * This initializer will automatically run on all matching component elements found at page startup.
    * Use this method to setup JavaScript-based component instances that are rendered into a page.
    * @param {String} uri component reference, ex: "apps/image_gallery".
    * @param {String} function used to configure each component instance.
    * Handler function receives two arguments:<br>
    * <code>function(element, data) { ...</code>
    * <ul>
    *   <li>element: the DOM element to configure as a component instance.</li>
    *   <li>data: the complete data blob of the rendered component.</li>
    * </ul>
    * @param {Object} options used to configure the initializer. Accepts:
    * <ul>
    * <li>`priority`: the initialization priority for this class of component (higher number runs later). Uses 10 by default.</li>
    *</ul>
    * @example
    Initializer.registerComponent('site/kangaroo_boxing', function(element, data) {
      var app = new KangarooApp(element, data);
    }, { priority: 100 });
    */
    registerComponent: function registerComponent(componentUri, handler, exports) {
      // Accept polymorphic input where the initialization handler is omitted:
      if (typeof handler !== 'function') {
        exports = handler;

        handler = function handler() {};
      }

      exports = exports || {};
      var waitForConsent = exports.waitForConsent || false;
      this._c[componentUri] = {
        fn: handler,
        ex: exports,
        priority: typeof exports.priority === 'number' ? exports.priority : this.MEDIUM,
        consent: waitForConsent
      };

      if (waitForConsent && this.hasConsent() || !waitForConsent && this.isReady()) {
        this.run();
      }
    },

    /**
    * Gets the exported object from a registered component.
    */
    get: function get(componentUri) {
      if (!this._c.hasOwnProperty(componentUri)) {
        throw 'Component "' + componentUri + '" is not defined. Add it as a dependency of the getter.';
      }

      return this._c[componentUri].ex;
    },

    /**
    * Runs the Initializer.
    * Scrapes all component instances from the DOM one time each,
    * and submits them each to their corresponding initialization handler.
    * @param {Element} scope element within which to run the initializer.
    * @private
    */
    run: lib_utils__WEBPACK_IMPORTED_MODULE_1__["default"].debounce(function (scope) {
      var _this3 = this;

      var elements = (scope || document).querySelectorAll('[data-cid]');
      [].slice.call(elements).forEach(function (el) {
        var cid = el.getAttribute('data-cid');
        var uri = cid.split('-')[0];
        var handler = _this3._c[uri]; // Only queue uninitialized elements with a registered handler:

        if (!_this3._cinit[cid] && handler) {
          _this3._cinit[cid] = true;
          var opts = {
            priority: handler.priority
          };

          if (handler.consent) {
            _this3.consentTask(elementInitializer(el, handler.fn, cid, uri), opts);
          } else {
            _this3.readyTask(elementInitializer(el, handler.fn, cid, uri), opts);
          }
        }
      });
    }, 10),

    /**
    * Registers a task to run upon document ready.
    * Similar to `task`, except that no work is queued
    * until document-ready is called.
    * @param {Function} task function to execute.
    * @param {Object} options for setting task priority.
    */
    readyTask: function readyTask(taskFn, opts) {
      var _this4 = this;

      this._ready.then(function () {
        return _this4.task(taskFn, opts);
      });
    },

    /**
    * Registers a task to run upon application consent.
    * Similar to `task`, except that no work is queued
    * until the document is ready and the application has
    * officially recieved consent to run everything.
    * @param {Function} task function to execute.
    * @param {Object} options for setting task priority.
    */
    consentTask: function consentTask(taskFn, opts) {
      var _this5 = this;

      this._consent.then(function () {
        return _this5.task(taskFn, opts);
      });
    },

    /**
    * Registers a task to run.
    * Tasks are buffered into the idle callback queue,
    * and will be run as quickly as possible within framerate.
    * Use this method for queuing any arbitrary unit of work.
    * @param {Function} task function to execute.
    * @param {Object} options for setting task priority.
    * @example
    * import Initializer from 'lib/initializer';
    * Initializer.task(function() {
    *   // ... do heavy lifting ...
    * });
    */
    task: function task(taskFn, opts) {
      var self = this;
      var task = {};

      for (var key in opts) {
        task[key] = opts[key];
      }

      task.fn = taskFn;

      if (task.priority === undefined) {
        task.priority = this.MEDIUM;
      }

      this._buffer.push(task);

      if (this._running) return;

      var exec = function exec() {
        self._running = true;
        win.requestIdleCallback(function (status) {
          // Merge buffer into queue, sorting highest priority to back (for popping):
          self._queue = self._queue.concat(self._buffer).sort(function (a, b) {
            return a.priority - b.priority;
          }); // Empty the task buffer:

          self._buffer.length = 0; // Run the queue while there are tasks and time remaining:

          while (self._queue.length && status.timeRemaining() > 0) {
            self._queue.pop().fn();
          } // Keep running while there are remaining tasks in the queue or buffer:


          if (self._queue.length || self._buffer.length) {
            exec();
          } else {
            self._running = false;
          }
        }, {
          timeout: 35
        }); // << allow two 60FPS cycles before forcing work.
      };

      exec();
    },
    report: function report() {
      var _this6 = this;

      var componentCountsByUri = {};
      Object.keys(this.perf.com).forEach(function (cid) {
        var uri = cid.split('-').shift();
        componentCountsByUri[uri] = (componentCountsByUri[uri] || 0) + 1;
      });
      var records = Object.keys(this.perf.uri).map(function (key) {
        var time = _this6.perf.uri[key];
        var count = componentCountsByUri[key];
        return {
          uri: key,
          total_time: time,
          average_time: time / count,
          count: count
        };
      }).sort(function (a, b) {
        return b.total_time - a.total_time;
      });

      if (console.table) {
        console.table(records.reduce(function (memo, r) {
          memo[r.uri] = r;
          delete r.uri;
          return memo;
        }, {}));
        return 'Total milliseconds: ' + records.reduce(function (sum, r) {
          return sum + r.total_time;
        }, 0);
      } else {
        return records;
      }
    }
  };
  var init = window.Initializer = new Initializer();
  /* harmony default export */ __webpack_exports__["default"] = (init);
  var constructor = Initializer;

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/launchers.js":
  /*!******************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/launchers.js ***!
    \******************************************************/
  /*! exports provided: runStartup, runInitQueue */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "runStartup", function() { return runStartup; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "runInitQueue", function() { return runInitQueue; });
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/notification */ "./app_unison/frontend/scripts/lib/notification.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");
  /* harmony import */ var lib_video__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/video */ "./app_unison/frontend/scripts/lib/video.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__);






  /**
  * Post-consent / No-consent workflow
  * This launches the main application services.
  */

  function runStartup() {
    if (!models_context__WEBPACK_IMPORTED_MODULE_0__["default"].get('privacy')) {
      // Configure messaging hooks. Changes to contexe message will notify.
      var notify = function notify() {
        lib_notification__WEBPACK_IMPORTED_MODULE_2__["default"].notify(models_context__WEBPACK_IMPORTED_MODULE_0__["default"].get('messaging'));
      };

      // Resolve initializer consent hooks ––
      // this queues any tasks that were waiting on consent.
      lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].consent();
      models_context__WEBPACK_IMPORTED_MODULE_0__["default"].on('change:messaging', notify);
      notify(); // Fetch context, then install videos and run analytics:

      models_context__WEBPACK_IMPORTED_MODULE_0__["default"].fetch().then(function () {
        lib_video__WEBPACK_IMPORTED_MODULE_4__["default"].install(models_context__WEBPACK_IMPORTED_MODULE_0__["default"].get('volume').embed_host);
        lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].sendContext();
      });
    }
  }
  /**
  * Script initialization queue, ie: "chorusInitQueue"
  * This runs an array of callbacks from inline scripts on the page.
  * Allows editorial script tags to access our asynchronously-loaded
  * script libraries, most notably jQuery.
  */

  function runInitQueue() {
    var chorusInitQueue = window.chorusInitQueue = window.chorusInitQueue || [];

    function runCallback(fn) {
      if (typeof fn === 'function') {
        try {
          fn.call(null, jquery__WEBPACK_IMPORTED_MODULE_5___default.a);
        } catch (e) {
          console.error('chorusInitQueue: error processing command :' + e.message);
        }
      }
    }

    chorusInitQueue.forEach(runCallback);
    chorusInitQueue.push = runCallback;
  }

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/localstorage.js":
  /*!*********************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/localstorage.js ***!
    \*********************************************************/
  /*! exports provided: default, constructor */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "constructor", function() { return constructor; });
  /**
  * <p>A slim wrapper around the browser's native <code>localStorage</code> API.
  * The module handles <code>localStorage</code> feature detection,
  * and then provides a simple "get" and "set" API for reading and writing data.
  * This wrapper handles all serialization and parsing of stored data structures.</p>
  *
  * <p>Type information is preserved when using this adapter.
  * JS Objects and Arrays sent to set/get will be serialized and parsed to store in
  * local storage as strings, but returned as their initial type.</p>
  * <ul>
  *   <li>{"my":"object"} will store as JSON.stringify({"my":"object"}) and be run thru JSON.parse() when returned.</li>
  * </ul>
  *
  * <p>Booleans, numbers and strings will have some basic type coercion applied to them.
  * This means that if you attempt to store a string that looks like a boolen, number or float,
  * it might come back at you as a different type. Just don't store shitty values, or type
  * check your stored values if it's important to you, and you won't have a problem.</p>
  * <ul>
  *  <li>setting true, false will store as 'true'/'false' and be returned from LocalStorage.get() as a boolean.</li>
  *  <li>setting 'true', 'false/ will store as 'true'/'false' and be returned from LocalStorage.get() as a boolean.</li>
  *  <li>setting 'TRUE, 'FALSE' will store as 'TRUE'/'FALSE' and be returned from LocalStorage.get() as a string.</li>
  *  <li>setting '1.1, '1.2' will store as '1.1'/'1.2' and be returned from LocalStorage.get() as a float.</li>
  *  <li>setting 1, 100, will store as '1'/'100' and be returned from LocalStorage.get() as a integers.</li>
  * </ul>
  *
  * @example
  * import storage from 'lib/localstorage';
  *
  * var data = storage.get('my-storage-key');
  * storage.set('my-storage-key', data);
  *
  * @module lib/localstorage
  */

  /**
  * Local Storage wrapper.
  * @constructor
  */
  function LocalStorage() {}

  LocalStorage.prototype = {
    _enabled: null,

    /**
    * Tests the availability of browser <code>localStorage</code>.
    * Based on Modernizr implementation.
    * @returns {Boolean} true is localStorage is enabled.
    * @example
    * import storage from 'lib/localstorage';
    *
    * if (storage.enabled()) { ...
    */
    enabled: function enabled() {
      if (this._enabled === null) {
        var ls = 'vox';

        try {
          localStorage.setItem(ls, ls);
          localStorage.removeItem(ls);
          this._enabled = true;
        } catch (e) {
          this._enabled = false;
        }
      }

      return this._enabled;
    },

    /**
    * Gets a value from localStorage.
    * @param {String} key the storage key to access.
    * @returns {Object} the parsed cache of localStorage data for the specified key.
    * Serialized data will be returned as a parsed object.
    * basic type coercion will be applied to non-object-looking thinks
    */
    get: function get(key) {
      if (this.enabled()) {
        var value = localStorage.getItem(key); // serialized objects get returned as JSON:

        if (value && (value[0] === '{' || value[0] === '[')) {
          return JSON.parse(value);
        } // non-objects get basic type coercion:


        if (typeof value === 'string') {
          if (/^(true|false)$/i.test(value)) return value.toLowerCase() === 'true';
          if (/^\d+$/.test(value)) return parseInt(value);
          if (/^\d+\.\d+$/.test(value)) return parseFloat(value);
        }
      }

      return value || null;
    },

    /**
    * Sets a value into localStorage.
    * @param {String} key the storage key to set.
    * @param {Object} value the storage value to assign.
    * @returns {undefined}
    */
    set: function set(key, value) {
      if (this.enabled()) {
        if (typeof value === 'object') value = JSON.stringify(value);
        localStorage.setItem(key, value);
      }
    },

    /**
    * Removes a keyed item from localStorage.
    * @param {String} key to remove from storage.
    */
    remove: function remove(key) {
      if (this.enabled()) {
        localStorage.removeItem(key);
      }
    },

    /**
    * Clears localStorage.
    */
    clear: function clear() {
      if (this.enabled()) {
        localStorage.clear();
      }
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (new LocalStorage());
  var constructor = LocalStorage;

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/modal.js":
  /*!**************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/modal.js ***!
    \**************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_effects__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/effects */ "./app_unison/frontend/scripts/lib/effects.js");
  /**
  * Low-level API for opening and closing modal dialog windows.
  * Please refrain from using this module directly within components.
  * Instead, use the "lib/services" layer for a high-level service API.
  * The higher-level API will streamline Modal integration among other services.
  *
  * @example
  * import Modal from 'lib/modal';
  *
  * Modal.dialog('<b>Hello</b>'); // small-format
  * Modal.overlay('<b>Hello</b>'); // large-format
  * Modal.close();
  *
  * @module lib/modal
  */





  var WINDOW_ELEMENT = '<div role="dialog" aria-modal="true" class="p-modal__window" id="modal-window"></div>';
  var CLOSE_ELEMENT = '<button class="p-modal__close" id="modal-close">Close</button>';
  var ACTIVE_CLASS = 'modal-active';
  var OPEN_CLASS = 'modal-open';
  var LOADING_CLASS = 'p-modal__loading';
  var CLOSE_EVENT = 'click.modal';
  var FOCUSABLES_SELECTOR = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]';

  var Modal = lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].extend(
  /** @lends module:lib/modal */
  {
    $el: null,

    /**
    * Prompts the user with a modal dialog centered on screen at desktop sizes.
    * Centered modal dialog automatically scales to fit the provided content element.
    * This dialog is identical to `.overlay` at mobile sizes.
    * @example
    * +-------------+
    * |             |
    * |     +-+     |
    * |     | |     |
    * |     +-+     |
    * |             |
    * +-------------+
    *
    * Modal.dialog('<b>Hello</b>');
    * Modal.dialog(document.querySelector('#message'));
    * Modal.dialog({ajax: 'https://voxmedia.com'});
    * Modal.dialog({iframe: 'https://voxmedia.com'});
    * @param {String|Element|Object} content HTML or rendered markup to present within the dialog.
    * An options object may also be passed with <code>ajax</code> or <code>iframe</code> URLs.
    * @returns {this}
    */
    dialog: function dialog(content) {
      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      return this._open(content, opts);
    },

    /**
    * Presents the user with a large-format modal overlay,
    * which fills most of the screen at desktop sizes.
    * Overlayed content has a fixed container width sized to the screen.
    * This overlay is identical to `.dialog` at mobile sizes.
    * @example
    * +-------------+
    * | +---------+ |
    * | |         | |
    * | |         | |
    * | |         | |
    * | +---------+ |
    * +-------------+
    *
    * Modal.overlay('<b>Hello</b>');
    * Modal.overlay(document.querySelector('#message'));
    * Modal.overlay({ajax: 'https://voxmedia.com'});
    * Modal.overlay({iframe: 'https://voxmedia.com'});
    * @param {String|Element|Object} content HTML or rendered markup to present within the dialog.
    * An options object may also be passed with <code>ajax</code> or <code>iframe</code> URLs.
    * @returns {this}
    */
    overlay: function overlay(content) {
      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      return this._open(content, lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].extend(opts, {
        fixedSize: true
      }));
    },

    /**
    * Parses raw input into formatted content.
    * @param {Element|String|Object} content an Element, HTML string, or Object with an <code>ajax</code> or <code>iframe</code> option.
    * @returns {Element|String} formatted content elements or HTML string.
    */
    parse: function parse(content) {
      var _this = this;

      var isObject = typeof content === 'object'; // Open content as iframe:

      if (isObject && content.iframe) {
        return "<iframe src=\"".concat(content.iframe, "\" width=\"100%\" height=\"100%\"></iframe>");
      } else if (isObject && content.ajax) {
        // Open content fetched via ajax:
        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajax({
          url: content.ajax,
          success: function success(c) {
            _this.$el && _this.$el.find('#modal-ajax').html(c); // Now that we’ve populated the modal, look for focusable elements

            _this.defineFocusables(); // Lazy require... addresses a weird issue
            // with presto lib import failing on Jenkins PhantomJS.


            lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].run();
          },
          error: function error() {
            _this.close();
          }
        });
        return '<div id="modal-ajax"><div class="' + LOADING_CLASS + '">Loading...</div></div>';
      }

      return content || '';
    },

    /**
    * Low-level API for opening a new modal window, replacing any previous modal.
    * Not intended for direct use. Instead, use the high-level "dialog" and "overlay" methods,
    * which are designed to open specially-formatted modal styles.
    * @param {Element|String|Object} content an Element, HTML string, or Object with <code>{ajax: "url"}</code> or <code>{iframe: "url"}</code>.
    * @param {Object} options
    * @returns {this}
    * @private
    */
    _open: function _open(content, opts) {
      var _this2 = this;

      this.close(); // Let’s assume that the currently-focused element was the trigger for our modal

      this.opener = document.activeElement; // Create modal window synchronously...

      this.$el = jquery__WEBPACK_IMPORTED_MODULE_2___default()(WINDOW_ELEMENT).addClass(opts && opts.fixedSize ? 'fixed-size' : 'auto-size').addClass(opts && opts.className ? opts.className : '').html(this.parse(content)).append(CLOSE_ELEMENT);
      this.focusables = []; // Find list of focusable elements inside modal

      this.defineFocusables = function () {
        var focusables = this.$el.find(FOCUSABLES_SELECTOR);
        this.focusables = focusables;
      }; // Function to handle `shift+tab`-driven focus


      var handleBackwardTab = function handleBackwardTab(e, modal) {
        // Is the FIRST element in our focusables list already selected?
        if (document.activeElement === modal.focusables[0]) {
          // If so, shift focus to the LAST element in our focusables list
          e.preventDefault();
          modal.focusables[modal.focusables.length - 1].focus();
        }
      }; // Function to handle `tab`-driven focus


      var handleForwardTab = function handleForwardTab(e, modal) {
        // Is the LAST element in our focusables list already selected?
        if (document.activeElement === modal.focusables[modal.focusables.length - 1]) {
          // If so, shift focus to the FIRST element in our focusables list
          e.preventDefault();
          modal.focusables[0].focus();
        }
      }; // When the `tab` key is pressed inside our modal, move focus appropriately


      this.$el.on('keydown', function (e) {
        if (e.keyCode === 9) {
          if (_this2.focusables.length === 1) {
            e.preventDefault();
          } else {
            if (e.shiftKey) {
              handleBackwardTab(e, _this2);
            } else {
              handleForwardTab(e, _this2);
            }
          }
        }
      }); // Trigger event before starting open transition:

      this.trigger('before:open'); // Open modal ASYNCHRONOUSLY...
      // Async allows the current event loop to resolve,
      // making sure that a modal opener click doesn't also re-close it.

      setTimeout(function () {
        // Capture current body scroll position:
        var $body = jquery__WEBPACK_IMPORTED_MODULE_2___default()('body'); // Display modal overlay and frame:

        $body.append(_this2.$el).addClass(ACTIVE_CLASS).off(CLOSE_EVENT).on(CLOSE_EVENT, function (evt) {
          var $clicked = jquery__WEBPACK_IMPORTED_MODULE_2___default()(evt.target); // Only close modal if user clicks "Close" button to prevent loss of unsaved changes

          if ($clicked.closest(jquery__WEBPACK_IMPORTED_MODULE_2___default()('#modal-close')).length) {
            evt.stopImmediatePropagation();

            _this2.close();
          }
        }); // Close modal when escape key is pressed

        jquery__WEBPACK_IMPORTED_MODULE_2___default()(document).keyup(function (e) {
          if (e.keyCode === 27) {
            Modal.close();
          }
        }); // Start intro transition on next event loop:

        setTimeout(function () {
          $body.addClass(OPEN_CLASS);
        }, 0); // Fire off "open" event.

        _this2.trigger('open'); // Find our focusables


        _this2.defineFocusables(); // Focus on the first, uh, focusable element inside our modal


        _this2.focusables[0].focus();
      }, 0);
      return this;
    },

    /**
    * Closes any existing modal window.
    * You may safely call this method without errors at any time,
    * even when there is no modal dialog window active.
    * @example
    * Modal.close();
    * @returns {this}
    */
    close: function close() {
      var _this3 = this;

      if (!this.$el) return; // Trigger event before starting close transition:

      this.trigger('before:close');
      var $body = jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').off(CLOSE_EVENT);

      var done = function done() {
        _this3.$el.remove();

        _this3.$el = null; // Restore body state, and parse cached scroll position:

        $body.removeClass(ACTIVE_CLASS + ' ' + OPEN_CLASS + ' ' + LOADING_CLASS); // Fire off "close" event.

        _this3.trigger('close'); // Focus on element that triggered the modal, if known.


        _this3.opener.focus();
      };

      if (lib_effects__WEBPACK_IMPORTED_MODULE_4__["TRANSITION_END"] && $body.css('position') === 'fixed') {
        this.$el.one(lib_effects__WEBPACK_IMPORTED_MODULE_4__["TRANSITION_END"], done);
        $body.removeClass(OPEN_CLASS);
      } else {
        done();
      }

      return this;
    },

    /**
    * Configures forms within the modal element to submit via Ajax.
    * This configuration only applies to the <em>currently open</em> modal element.
    * Configuration is cleared when the modal window is closed.
    * @returns {Promise} resolved or rejected upon form submission outcome.
    * @example
    * Modal.overlay({ajax: '/get/my/form'})
    *   .ajaxForms()
    *   .done( ... )
    *   .fail( ... );
    */
    ajaxForms: function ajaxForms() {
      var _this4 = this;

      var deferred = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.Deferred();
      this.$el && this.$el.on('submit', function (evt) {
        evt.preventDefault();
        var $form = jquery__WEBPACK_IMPORTED_MODULE_2___default()(evt.target);
        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.ajax({
          url: $form.attr('action'),
          data: $form.serialize(),
          method: 'post',
          success: function success() {
            _this4.close();

            deferred.resolve();
          },
          error: function error() {
            deferred.reject();
          }
        });
      });
      return deferred.promise();
    }
  }, exoskeleton__WEBPACK_IMPORTED_MODULE_1___default.a.Events);

  /* harmony default export */ __webpack_exports__["default"] = (Modal);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/notification.js":
  /*!*********************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/notification.js ***!
    \*********************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/effects */ "./app_unison/frontend/scripts/lib/effects.js");
  /* harmony import */ var lib_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/modal */ "./app_unison/frontend/scripts/lib/modal.js");
  /**
  * Low-level API for opening and closing notification prompts.
  * Please refrain from using this module directly within components.
  * Instead, use the "lib/services" layer for a high-level service API.
  * The higher-level API will streamline notifications among other services.
  *
  * @example
  * import Notice from 'lib/notification';
  *
  * Notice.info('Hello World.');
  * Notice.success('You win.');
  * Notice.error('You lose.');
  * Notice.close();
  *
  * @module lib/notification
  */



  var NOTICE_ELEMENT = '<div class="p-notice" id="notice"></div>';
  var NOTICE_DISMISS = '<button class="p-notice-dismiss" id="notice-dismiss">×</button>';
  var timer;
  var Notification = {
    INFO: 'info',
    SUCCESS: 'success',
    WARNING: 'warning',
    ERROR: 'error',
    HAT: 'hat',
    $el: null,

    /**
    * Flashes a general-purpose notification at the top of the screen.
    * This implementation auto-detects message type based on HTML classes
    * within the notification content. If no meaningful classes are found,
    * the notification will assume the default "info" appearance.
    * @example
    * +-+---------+-+
    * |A|_________|A|
    * |BBBBBBBBBBBBB|
    * |CCCCCCCCCCCCC|
    * |             |
    * |             |
    * +-------------+
    *
    * Notice.notify('Hello world.');
    * @param {String|Element} content HTML or rendered markup to present within the notice.
    * @param {Boolean} if the notice is dismissable with a close button.
    * @returns {this}
    */
    notify: function notify(message, autoHide, dismissable) {
      return this._open(message, null, autoHide, dismissable);
    },

    /**
    * Flashes a general-purpose notification at the top of the screen.
    * This implementation auto-detects message type based on HTML classes
    * within the notification content. If no meaningful classes are found,
    * the notification will assume the default "info" appearance.
    * @example
    * +-+---------+-+
    * |_____________|
    * |AAAAAAAAAAAAA|
    * |BBBBBBBBBBBBB|
    * |CCCCCCCCCCCCC|
    * |             |
    * +-------------+
     * @param {String} message text to notify.
    * @param {Boolean} autohide sets automatic dismissal timer.
    * @param {Boolean} if the notice is dismissable with a close button.
    * @returns {this}
    */
    hat: function hat(message, autoHide, dismissable) {
      return this._open(message, this.HAT, autoHide, dismissable);
    },

    /**
    * Opens an info notification.
    * @param {String} message text to notify.
    * @param {Boolean} autohide sets automatic dismissal timer.
    * @param {Boolean} if the notice is dismissable with a close button.
    * @returns {this}
    */
    info: function info(message, autoHide, dismissable) {
      return this._open(message, this.INFO, autoHide, dismissable);
    },

    /**
    * Opens a success notification.
    * @param {String} message text to notify.
    * @param {Boolean} autohide sets automatic dismissal timer.
    * @param {Boolean} if the notice is dismissable with a close button.
    * @returns {this}
    */
    success: function success(message, autoHide, dismissable) {
      return this._open(message, this.SUCCESS, autoHide, dismissable);
    },

    /**
    * Opens a warning notification.
    * @param {String} message text to notify.
    * @param {Boolean} autohide sets automatic dismissal timer.
    * @param {Boolean} if the notice is dismissable with a close button.
    * @returns {this}
    */
    warning: function warning(message, autoHide, dismissable) {
      return this._open(message, this.WARNING, autoHide, dismissable);
    },

    /**
    * Opens an error notification.
    * @param {String} message text to notify.
    * @param {Boolean} autohide sets automatic dismissal timer.
    * @param {Boolean} if the notice is dismissable with a close button.
    * @returns {this}
    */
    error: function error(message, autoHide, dismissable) {
      return this._open(message, this.ERROR, autoHide, dismissable);
    },

    /**
    * Parses message content.
    * Message source and class names are extracted from any wrapper element.
    * @param {String} message raw text to parse.
    * @returns {Object} notice object with "message" and "classes" keys.
    */
    parse: function parse(message) {
      var wrapper = message.trim().match(/^<(?:div|span)[^>]*class=['"]([\s\w-]+)['"][^>]*>([\S\s]+)<\/(?:div|span)>$/);
      return {
        message: wrapper ? wrapper[2] : message,
        classes: wrapper ? wrapper[1] : ''
      };
    },

    /**
    * Low-level API for opening the notification message.
    * Use high-level methods for opening specific types of notifications.
    * @param {String} message to notify.
    * @param {String} type of notification.
    * @param {Boolean} auto-hide to disable the modal after a computed wait period.
    * @returns {this}
    * @private
    */
    _open: function _open(message, type) {
      var _this = this;

      var autoHide = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      var dismissable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
      // Resolve blank and existing notifications:
      if (!message) return; // Parse the message for a wrapper element:

      var notice = this.parse(message); // Test for back-end rendered message states:
      // "__modal" notifications are deferred to full modal view.

      if (!type) {
        if (/__modal/.test(notice.classes)) {
          return lib_modal__WEBPACK_IMPORTED_MODULE_2__["default"].dialog(notice.message);
        } else if (/__error/.test(notice.classes)) {
          type = this.ERROR;
        } else if (/__hat/.test(notice.classes)) {
          type = this.HAT;
        } else {
          type = this.INFO;
        }
      }

      if (this.$el === null) {
        var insertLocation = jquery__WEBPACK_IMPORTED_MODULE_0___default()('body > *:first-child').first(); // if the global header or masthead is in play, we want to place it above that

        ['.c-global-header', '.c-masthead'].forEach(function (selector) {
          var node = jquery__WEBPACK_IMPORTED_MODULE_0___default()(selector);

          if (node.length > 0) {
            insertLocation = node.first();
          }
        });
        this.$el = jquery__WEBPACK_IMPORTED_MODULE_0___default()('<div id="chorus_notifiations"/>');
        this.$el.insertBefore(insertLocation);
      } // Populate the notification:


      var newNotice = jquery__WEBPACK_IMPORTED_MODULE_0___default()(NOTICE_ELEMENT).html(notice.message).append(dismissable ? NOTICE_DISMISS : '').addClass('p-notice-' + type).on('click', '#notice-dismiss', function () {
        _this.close(newNotice);
      }).appendTo(this.$el); // Set bottom style during the next event loop:

      setTimeout(function () {
        newNotice.css('top', '0');
      }, 0); // Set auto-hide timeout:

      if (autoHide && dismissable) {
        clearTimeout(timer);
        timer = setTimeout(function () {
          _this.close(newNotice);
        }, 2000 + message.length * 25);
      }

      return newNotice;
    },

    /**
    * Closes athe notification.
    * This may safely be called at any time without error,
    * even if there is no active notification on screen.
    * @returns {this}
    */
    close: function close(notice) {
      if (notice) {
        if (lib_effects__WEBPACK_IMPORTED_MODULE_1__["TRANSITION_END"]) {
          notice.one(lib_effects__WEBPACK_IMPORTED_MODULE_1__["TRANSITION_END"], function () {
            notice.remove();
          }).css('top', '');
        } else {
          notice.remove();
        }
      } else if (this.$el) {
        if (lib_effects__WEBPACK_IMPORTED_MODULE_1__["TRANSITION_END"]) {
          this.$el.children().one(lib_effects__WEBPACK_IMPORTED_MODULE_1__["TRANSITION_END"], function (evt) {
            jquery__WEBPACK_IMPORTED_MODULE_0___default()(evt.target).remove();
          }).css('top', '');
        } else {
          this.$el.empty();
        }
      }

      return this;
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (Notification);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/piano-id.js":
  /*!*****************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/piano-id.js ***!
    \*****************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");





  var PianoId = lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(exoskeleton__WEBPACK_IMPORTED_MODULE_1___default.a.Events, {
    _pending: null,
    _data: {},
    _user_id: null,
    pullAccount: function pullAccount() {
      var _this = this;

      if (!this._pending) {
        this._pending = jquery__WEBPACK_IMPORTED_MODULE_2___default.a.Deferred();
        var tp = window.tp || [];
        tp.push(['setUsePianoIdUserProvider', true]);
        tp.push(['init', function (data) {
          window.tp.pianoId.init({
            loginFailed: function loginFailed() {
              _this._data = {};

              _this._pending.resolve(_this._data);

              _this.trigger('change', {
                data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this._data, {})
              });

              jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').removeClass('piano-logged-in');
              _this._user_id = null;
            },
            loggedIn: function loggedIn(data) {
              _this._data = data;

              _this._pending.resolve(_this._data);

              _this.trigger('change', {
                data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this._data, {})
              });

              jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').addClass('piano-logged-in');

              if (data.user && data.user.uid && _this._user_id != data.user.uid) {
                _this._user_id = data.user.uid;
                lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].event('piano', 'piano-login', 'piano ID available', data.user.uid);
              }
            },
            loggedOut: function loggedOut() {
              _this._data = {};

              _this._pending.resolve(_this._data);

              _this.trigger('change', {
                data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this._data, {})
              });

              jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').removeClass('piano-logged-in');
              _this._user_id = 'no ID';
            }
          });
        }]);
      }

      return this._pending.promise();
    },
    showRegister: function showRegister() {
      var _this2 = this;

      var tp = window.tp || [];

      if (tp.pianoId) {
        tp.pianoId.show({
          screen: 'register',
          loggedIn: function loggedIn(data) {
            _this2._data = data;

            _this2.trigger('change', {
              data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this2._data, {})
            });

            jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').addClass('piano-logged-in');
          },
          loggedOut: function loggedOut() {
            _this2._data = {};

            _this2.trigger('change', {
              data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this2._data, {})
            });

            jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').removeClass('piano-logged-in');
          }
        });
      }
    },
    showLogin: function showLogin() {
      var _this3 = this;

      var tp = window.tp || [];

      if (tp.pianoId) {
        tp.pianoId.show({
          screen: 'login',
          loggedIn: function loggedIn(data) {
            _this3._data = data;

            _this3.trigger('change', {
              data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this3._data, {})
            });

            jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').addClass('piano-logged-in');
          },
          loggedOut: function loggedOut() {
            _this3._data = {};

            _this3.trigger('change', {
              data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this3._data, {})
            });

            jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').removeClass('piano-logged-in');
          }
        });
      }
    },
    logout: function logout() {
      var _this4 = this;

      var tp = window.tp || [];

      if (tp.pianoId) {
        tp.pianoId.logout(function () {
          _this4._data = {};

          _this4.trigger('change', {
            data: lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(_this4._data, {})
          });

          jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').removeClass('piano-logged-in');
        });
      }
    }
  });

  /* harmony default export */ __webpack_exports__["default"] = (PianoId);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/recaptcha_loader.js":
  /*!*************************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/recaptcha_loader.js ***!
    \*************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);

  var recaptchaDeferred;

  window.__handleRecaptchaLoad = function () {
    var nodeList = document.querySelectorAll('.g-recaptcha');

    for (var i = 0; i < nodeList.length; i++) {
      window.grecaptcha.render(nodeList[i], {
        sitekey: nodeList[i].getAttribute('data-sitekey')
      });
    }

    recaptchaDeferred.resolve();
  };

  /* harmony default export */ __webpack_exports__["default"] = (function () {
    if (!recaptchaDeferred) {
      recaptchaDeferred = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();
      jquery__WEBPACK_IMPORTED_MODULE_0___default.a.getScript('https://www.google.com/recaptcha/api.js?onload=__handleRecaptchaLoad&render=explicit');
    }

    return recaptchaDeferred.promise();
  });

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/sharing.js":
  /*!****************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/sharing.js ***!
    \****************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");

  var popup;
  /**
  * Social sharing tools.
  * These helpers manage formatting and sharing links via social services.
  * Methods are provided to format URLs for sharing, and to pop social service windows.
  * @example
  * import Sharing from 'lib/sharing';
  *
  * Sharing.sharePage('facebook'); // << shares the current page
  * Sharing.share('http://aweso.me', 'facebook');
  *
  * @module lib/sharing
  */

  var Sharing = {
    campaign: null,
    content: null,
    medium: null,
    sources: {
      facebook: 'http://www.facebook.com/sharer.php?u=',
      twitter: 'https://twitter.com/intent/tweet?url=',
      pinterest: 'https://www.pinterest.com/pin/create/button/?url=',
      linkedin: 'https://www.linkedin.com/shareArticle?url=',
      flipboard: 'https://share.flipboard.com/bookmarklet/popout?v=2&url=',
      pocket: 'https://getpocket.com/save?url=',
      reddit: 'https://reddit.com/submit?url='
    },

    /**
    * Pops a sharer window for the provided URL and requested service name.
    * Automatically limits to one open sharer window at a time.
    * @param {String} url location to share.
    * @param {String} service name of the service to share on.
    * @param {Object} Additional params to pass to the servie, e.g. "text" to twitter.
    * @returns {undefined}
    */
    share: function share(url, service, extraParams) {
      service = service.toLowerCase();
      var popupWidth = 570;
      var popupHeight = 570;

      switch (service) {
        case 'facebook':
          popupHeight = 279;
          break;

        case 'twitter':
          popupHeight = 279;
          break;

        case 'linkedin':
          popupHeight = 520;
          break;

        case 'pinterest':
          popupWidth = popupHeight = 750;
          break;

        case 'pocket':
          popupHeight = 615;
          break;

        case 'reddit':
          popupWidth = 850;
          break;
      }

      if (url[0] !== '#' && this.sources[service]) {
        // Close any existing popup window:
        if (popup && popup.close) popup.close(); // Open new popup:

        var left = screen.width / 2 - popupWidth / 2;
        var top = screen.height / 2 - popupHeight / 2;
        popup = window.open(this.formatSharer(url, service, extraParams), '', 'width=' + popupWidth + ', height=' + popupHeight + ', top=' + top + ', left=' + left);

        if (global.twttr && service === 'twitter') {
          // Accommodate Twitter's notorious `widget.js`:
          // - Scenario: an embedded Twitter widget will include `widget.js`.
          // - Issue: widget applies its own popup behavior to all Twitter share links.
          // This results in two Twitter share popups when our share button is clicked.
          // - Fix: we disable `window.open` for the remainder of the event loop
          // so that our share window will open, but Twitter's will not.
          // NOTE: we are deliberately NOT using "evt.stopPropagation()" here,
          // because it blocks analytics tracking on social share clicks.
          var open = window.open;

          window.open = function () {};

          setTimeout(function () {
            window.open = open;
          }, 0);
        }
      }
    },

    /**
    * Convenience method for popping a share window for the current page URL.
    * @param {String} service name of the service to share on.
    * @returns {undefined}
    */
    sharePage: function sharePage(service) {
      this.share(location.href, service);
    },

    /**
    * Formats a link for a sharing service. Process:
    * <ol>
    *   <li>Checks to see if the link is already formatted as a sharer
    *     (ie: "<code>https://twitter.com/tweet?url=[encoded_url]&via=vox</code>").
    *     Pre-encoded links will be disassembled, their encoded URL formatted,
    *     and then reassembled.</li>
    *   <li>Otherwise, formats a plain URL for its intended sharing service.</li>
    * </ol>
    * @param {String} url location to format.
    * @param {String} service name of the service to format for.
    * @param {Object} Additional params to pass to the servie, e.g. "text" to twitter.
    * @returns {String} the service-formatted url.
    */
    formatSharer: function formatSharer(url, service, extraParams) {
      var a = this.parseLink(url); // Extract host slug from shareable link:

      var host = a.hostname.replace(/.*(twitter|facebook|pinterest|linkedin|flipboard|pocket|reddit).*/, '$1'); // Check if this is a pre-formatted sharer link.
      // ex: "https://twitter.com/intent/tweet?url=http%3A%2F%2Faweso.me&via=vox"

      if (host === service || !service && this.sources[host]) {
        var sharerKey = host === 'facebook' ? 'u' : 'url';

        var params = lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].deparamitize(a.search); // Check if params contain the host's appropriate sharer key.
        // If so, we can pretty safely assume that this is a pre-formatted sharer link.


        if (params.hasOwnProperty(sharerKey)) {
          // Unpack encoded sharer link, format it, and then repackage it into a new sharer URL.
          url = decodeURIComponent(params[sharerKey]);
          params[sharerKey] = encodeURIComponent(this.formatLink(url, host));
          return [this.sources[host].split('?')[0], '?', lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].paramitize(lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend(params, extraParams || {})), a.hash].join('');
        }
      }

      var returnUrl = this.sources[service] + encodeURIComponent(this.formatLink(url, service));

      if (extraParams) {
        returnUrl = returnUrl + '&' + lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].paramitize(extraParams);
      }

      return returnUrl;
    },

    /**
    * Applies UTM formatting to a plain-text URL.
    * All existing link params are serialized,
    * extended with UTM data, and then reconstituted.
    * You generally shouldn't need to call this method directly.
    * Favor using <code>formatSharer</code> instead.
    * @param {String} url location to format.
    * @param {String} service name of the service intended for sharing on.
    * @returns {String} the UTM-formatted URL string.
    */
    formatLink: function formatLink(url, service) {
      // Parse url via DOM anchor element:
      var a = this.parseLink(url); // Assemble a compiled sharing params object:
      // This stacks on {UTM Params} < {Link Params}

      var params = lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend({
        utm_campaign: encodeURIComponent(this.campaign || location.hostname.replace(/(www\.)?(.+)\.com/, '$2')),
        utm_content: encodeURIComponent(this.content || 'entry'),
        utm_medium: encodeURIComponent(this.medium || 'social'),
        utm_source: service
      }, lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].deparamitize(a.search)); // host needs to end in a /


      var host = [a.protocol, '//', a.hostname].join('');
      host = host.replace(/\/?$/, '/'); // Reassemble the url with normalized formatting:

      url = [host, a.pathname.replace(/(^\/|\/$)/g, ''), '?', lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].paramitize(params), a.hash].join('');
      return url;
    },

    /**
    * Parses a url string into an anchor with easily accessible properties.
    * @param {String} url location to parse
    * @returns {Element} an anchor element with properties for protocol, hostname, pathname, and hash.
    * @private
    */
    parseLink: function parseLink(url) {
      var a = document.createElement('a');
      a.href = url;
      return a;
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (Sharing);
  /* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/subtags.js":
  /*!****************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/subtags.js ***!
    \****************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return addSubtags; });
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);

   // Subtags are added to the end of all supported affiliate link URLs in stories.
  // They allow our analytics team to track how people use those links.
  // The following constructs the subtag data that must be retrieved on the client side.
  // This includes the device the user is using, the place the user came from (referrer),
  // and UTM tags in the story url, which are inserted via third-party JS.
  // The logic for which tags a particular affiliate link URL needs is executed on the server.
  // This just fills in the data where needed, by looking for placeholders.
  // list of values that need to be informed by the client

  var device = getDevice();
  var referrer = shortenReferrer(document.referrer);
  var UTM_PARAMS = {
    source: 'utm_source',
    medium: 'utm_medium',
    campaign: 'utm_campaign'
  }; // list of placeholder strings returned by server

  var devicePlaceholder = 'd-placeholder';
  var sourcePlaceholder = 's-placeholder';
  var mediumPlaceholder = 'm-placeholder';
  var campaignPlaceholder = 'c-placeholder';
  var referrerPlaceholder = 'r-placeholder';
  var formatPlaceholder = 't-placeholder';

  function getDevice() {
    var viewportWidth = window.innerWidth; // is mobile just means 'touch device', so we also check screen width for mobile vs tablet

    var deviceAbbreviation = '';

    if (lib_user_agent__WEBPACK_IMPORTED_MODULE_0__["default"].isMobile() && viewportWidth < 768) {
      deviceAbbreviation = 'M';
    } else if (lib_user_agent__WEBPACK_IMPORTED_MODULE_0__["default"].isMobile() && viewportWidth > 768) {
      deviceAbbreviation = 'T';
    } else {
      deviceAbbreviation = 'D';
    }

    return deviceAbbreviation;
  } //  shortens referrer to shortest usable string:
  //  removes www.
  //  keeps rest of host
  //  keeps first directory in path
  //  removes query and hash
  //  host and path are separated by `/`
  //  ported from nymag


  function shortenHost(host) {
    return host.substr(0, 4) === 'www.' ? host.substr(4) : host;
  }

  function shortenReferrer(referrer) {
    var parts = referrer && referrer.match(/\/\/([^\/]+)(\/[^\/#?]+)?/),
        shortenedReferrer = '',
        formattedHost,
        firstDirectory;

    if (parts) {
      formattedHost = shortenHost(parts[1] || '').toLowerCase();
      firstDirectory = parts[2] || '';
      shortenedReferrer = formattedHost + (firstDirectory || '');
    }

    return shortenedReferrer;
  } // Gets the UTM value from a specific URM parameter
  // from either the current page URL,
  // or from the original page URL stored in dataLayer.
  // For context, we have some code in GTM, enabled by site config,
  // which cleans up the URL after GA reporting by removing the UTM
  // params and storing the original URL in window.dataLayer.


  function getUTM(param) {
    var utm = getUTMFromUrl(param, window.location.href);

    if (utm === '' && window.dataLayer && window.dataLayer.find(function (i) {
      return !!i.unmodified_page_url;
    })) {
      utm = getUTMFromUrl(param, window.dataLayer.find(function (i) {
        return !!i.unmodified_page_url;
      }).unmodified_page_url);
    }

    return utm;
  } // Returns the value of a UTM param from a URL,
  // or a blank string, if not present.


  function getUTMFromUrl(param, url) {
    var linkToParse = new URL(url);
    var queryParams = linkToParse.searchParams;
    var utmParameterValue = queryParams.get(param);
    return utmParameterValue ? utmParameterValue.trim() : '';
  } // returns subtag string truncated to length limit if needed


  function applySubtagMaxLength(subtag, length) {
    var maxLength = length - 3 * (subtag.split(',').length - 1 + subtag.split('|').length - 1);
    return subtag.substr(0, maxLength);
  } // removes part of a string based on start and end indices


  function cut(str, cutStart, cutEnd) {
    return str.substr(0, cutStart) + str.substr(cutEnd);
  }
  /**
   * extend server-side subtag on affiliate links with client-side params
   * @param {DOM element} element
   * @param {Object} data containing:
   * - subtag_max_length
   * - subtag_delim_length
   * - subtag_key
   * - subtag_data
   * - encode_subtag
   */


  function addSubtags(element, data) {
    // element passed in may be <a> or a parent element
    var elements = jquery__WEBPACK_IMPORTED_MODULE_1___default()(element).is('a') ? jquery__WEBPACK_IMPORTED_MODULE_1___default()(element) : jquery__WEBPACK_IMPORTED_MODULE_1___default()(element).find('a').filter('[has-subtag="true"]'); // loop through the links in the element

    elements.each(function () {
      var subtagKey = data.subtag_key;
      var subtagData = Object.assign({}, data.subtag_data);
      var originalSubtag = subtagData[subtagKey]; // associate correct value with placeholder

      var placeholders = [[devicePlaceholder, device], [referrerPlaceholder, referrer], [sourcePlaceholder, getUTM(UTM_PARAMS.source)], [mediumPlaceholder, getUTM(UTM_PARAMS.medium)], [campaignPlaceholder, getUTM(UTM_PARAMS.campaign)], [formatPlaceholder, 'w']]; // loop through array of placeholders

      var delimiterLength = data.subtag_delim_length;
      var updatedSubtag = placeholders.reduce(function (result, placeholder) {
        var subtagVal = placeholder[1];

        if (subtagVal) {
          return result.replace(placeholder[0], subtagVal);
        } // if no subtag val, remove the key by using substr indices


        var placeholderText = placeholder[0];
        var key = placeholderText.split('-')[0];
        var keyDelimLength = parseInt(delimiterLength) + key.length;
        var beginning = result.indexOf(placeholderText) - keyDelimLength;
        var end = result.indexOf(placeholderText) + placeholderText.length;
        return cut(result, beginning, end);
      }, originalSubtag); // encode subtag if boolean is true

      if (data.encode_subtag) {
        updatedSubtag = encodeURIComponent(updatedSubtag);
      } // apply max length only to the _subtag_ portion of the url


      var maxLength = data.subtag_max_length;
      var truncatedSubtag = applySubtagMaxLength(updatedSubtag, maxLength); // replace the original subtag with the modified subtag in the rewritten url

      var rewrittenUrl = data.rewritten_url;
      rewrittenUrl = rewrittenUrl.replace(originalSubtag, truncatedSubtag);
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('href', rewrittenUrl); // remove subtag data attributes

      jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).removeAttr('has-subtag');
    });
  }

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/template.js":
  /*!*****************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/template.js ***!
    \*****************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /**
  * JavaScript template engine, based on the Underscore.js implementation.
  * Module exports the template engine function, so simply import and use!
  *
  * @example
  * import templateEngine from 'lib/template';
  *
  * var template = templateEngine('<h1><%= message %></h1>');
  * var rendered = template({message: 'Hello World!'});
  *
  * @module lib/template
  */


  _utils__WEBPACK_IMPORTED_MODULE_0__["default"].escape = function () {
    var map = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#x27;',
      '`': '&#x60;'
    };

    var escaper = function escaper(match) {
      return map[match];
    };

    var source = '(?:' + Object.keys(map).join('|') + ')';
    var testRegexp = RegExp(source);
    var replaceRegexp = RegExp(source, 'g');
    return function (string) {
      string = string == null ? '' : '' + string;
      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
    };
  }(); // By default, Underscore uses ERB-style template delimiters, change the
  // following template settings to use alternative delimiters.


  var templateSettings = {
    evaluate: /<%([\s\S]+?)%>/g,
    interpolate: /<%=([\s\S]+?)%>/g,
    escape: /<%-([\s\S]+?)%>/g,
    variable: 'data'
  }; // When customizing `templateSettings`, if you don't want to define an
  // interpolation, evaluation or escaping regex, we need one that is
  // guaranteed not to match.

  var noMatch = /(.)^/; // Certain characters need to be escaped so that they can be put into a
  // string literal.

  var escapes = {
    "'": "'",
    '\\': '\\',
    '\r': 'r',
    '\n': 'n',
    "\u2028": 'u2028',
    "\u2029": 'u2029'
  };
  var escapeRegExp = /\\|'|\r|\n|\u2028|\u2029/g;

  var escapeChar = function escapeChar(match) {
    return '\\' + escapes[match];
  };
  /** JavaScript micro-templating, similar to John Resig's implementation.
  * Underscore templating handles arbitrary delimiters, preserves whitespace,
  * and correctly escapes quotes within interpolated code.
  * NB: `oldSettings` only exists for backwards compatibility.
  */


  function tmpl(text, settings, oldSettings) {
    if (!settings && oldSettings) settings = oldSettings;
    settings = _utils__WEBPACK_IMPORTED_MODULE_0__["default"].extend({}, tmpl.settings, settings); // Combine delimiters into one regular expression via alternation.

    var matcher = RegExp([(settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source].join('|') + '|$', 'g'); // Compile the template source, escaping string literals appropriately.

    var index = 0;
    var source = "__p+='";
    text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {
      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);
      index = offset + match.length;

      if (escape) {
        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
      } else if (interpolate) {
        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
      } else if (evaluate) {
        source += "';\n" + evaluate + "\n__p+='";
      } // Adobe VMs need the match returned to produce the correct offset.


      return match;
    });
    source += "';\n"; // If a variable is not specified, place data values in local scope.

    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';
    source = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + source + 'return __p;\n';
    var render;

    try {
      // eslint donna like new Function, but we need it here. Deal with it. */

      /* eslint-disable */
      render = new Function(settings.variable || 'obj', '_', source);
      /* eslint-enable */
    } catch (e) {
      e.source = source;
      throw e;
    }

    var template = function template(data) {
      return render.call(this, data, _utils__WEBPACK_IMPORTED_MODULE_0__["default"]);
    }; // Provide the compiled source as a convenience for precompilation.


    var argument = settings.variable || 'obj';
    template.source = 'function(' + argument + '){\n' + source + '}';
    return template;
  }

  tmpl.settings = templateSettings;
  /* harmony default export */ __webpack_exports__["default"] = (tmpl);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/text_balancer.js":
  /*!**********************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/text_balancer.js ***!
    \**********************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  var candidates = []; // pass in a string of selectors to be balanced.
  // if you didnt specify any, thats ok! We'll just
  // balance anything with the balance-text class

  var TextBalancer = function TextBalancer(selectors) {
    var fraction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1.0;

    if (!selectors) {
      candidates = document.querySelectorAll('.balance-text');
    } else {
      createSelectors(selectors);
    }

    fraction = +fraction;

    if (typeof fraction != 'number' || isNaN(fraction)) {
      fraction = 1.0;
    } else {
      fraction = Math.max(0.0, Math.min(1.0, fraction));
      if (fraction == 0.0) return;
    }

    balanceText(fraction);
    var rebalanceText = debounce(function () {
      balanceText(fraction);
    }, 100);
    window.addEventListener('resize', rebalanceText);
  }; // this populates our candidates array with dom objects
  // that need to be balanced


  var createSelectors = function createSelectors(selectors) {
    var selectorArray = selectors.split(',');

    for (var i = 0; i < selectorArray.length; i += 1) {
      var currentSelectorElements = document.querySelectorAll(selectorArray[i].trim());

      for (var j = 0; j < currentSelectorElements.length; j += 1) {
        var currentSelectorElement = currentSelectorElements[j];
        candidates.push(currentSelectorElement);
      }
    }
  }; // Returns a function, that, as long as it continues to be invoked, will not
  // be triggered. The function will be called after it stops being called for
  // N milliseconds. If `immediate` is passed, trigger the function on the
  // leading edge, instead of the trailing.


  var debounce = function debounce(func, wait, immediate) {
    var timeout;
    return function () {
      var self = this,
          args = arguments;

      var later = function later() {
        timeout = null;
        if (!immediate) func.apply(self, args);
      };

      var callNow = immediate && !timeout;
      clearTimeout(timeout);
      timeout = setTimeout(later, wait);
      if (callNow) func.apply(self, args);
    };
  }; // HELPER FUNCTION -- initializes recursive binary search


  var balanceText = function balanceText(fraction) {
    var element;
    var i;

    for (i = 0; i < candidates.length; i += 1) {
      element = candidates[i]; // For now, this library assumes it is the keeper of all maxWidth
      // values in the Chorus DOM. If this element has a computed style
      // of 'center' (or anything besides 'start' aka left), that must
      // be because the window was shrunk and we responsively made it
      // left-justified and this library assigned it a maxWidth. If we
      // expand the window again, we need to reevaluate all maxWidths.
      // We start by erasing our previous work.

      element.style.maxWidth = ''; // TODO figure out if there's a better cross-platform way to determine this

      var computedStyle = getComputedStyle(element, null);

      if (computedStyle.textAlign === 'start') {
        // In an n-line element, at most roughly 1/n'th of the horizontal width
        // can be "visually recoverable," so half is our starting minimum
        // (minus a fudge factor, with a minimum of 50).
        var bottomRange = Math.max(50, element.offsetWidth / 2 - 10);
        squeezeContainerLeft(element, element.clientHeight, element.offsetWidth, bottomRange, element.clientWidth, fraction);
      } else {// TODO write a squeezeContainerCenter
        // console.log("computed-textAlign=" + computedStyle.textAlign + " for: " + element.innerText);
      }
    }
  }; // Make the element as narrow as possible while maintaining its current height (number of lines). Binary search.


  var squeezeContainerLeft = function squeezeContainerLeft(element, originalHeight, originalWidth, bottomRange, topRange, fraction) {
    // Squeeze headlines that wrap left by leaving the left side where it is
    // and reducing maxWidth.
    // If we get within 5 pixels that's close enough, we don't need to
    // do the last 2 iterations. Call topRange the new minimum width.
    if (bottomRange + 5 >= topRange) {
      element.style.maxWidth = Math.round(originalWidth - fraction * (originalWidth - topRange)).toString() + 'px';
      return;
    } // Otherwise, pick the midpoint (maybe fractional) and squeeze to that size.


    var mid = (bottomRange + topRange) / 2;
    element.style.maxWidth = mid + 'px';

    if (element.clientHeight > originalHeight) {
      // we've squoze too far and element has spilled onto an additional line; recurse on wider range
      squeezeContainerLeft(element, originalHeight, originalWidth, mid + 1, topRange, fraction);
    } else {
      // element has not wrapped to another line; keep squeezing!
      squeezeContainerLeft(element, originalHeight, originalWidth, bottomRange, mid, fraction);
    }
  };

  /* harmony default export */ __webpack_exports__["default"] = (TextBalancer);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/time.js":
  /*!*************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/time.js ***!
    \*************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /**
  * Relative time formatter
  * This helper function formates relative date strings, such as:
  * "Now", "A minute ago", "3 weeks ago", etc.
  * @example
  * import time from 'lib/time';
  *
  * time.relative(Date.now());
  * // >> "Now"
  * time.relative(new Date('July 4, 2015').getTime());
  * // >> "6 months ago"
  *
  * @module lib/time
  */
  var SECOND = 1000;
  var MINUTE = SECOND * 60;
  var HOUR = MINUTE * 60;
  var DAY = HOUR * 24;
  var WEEK = DAY * 7;
  var MONTH = WEEK * 4; // << general reporting threshold.

  var YEAR = DAY * 365;
  var MONTH_NAMES = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
  var WEEKDAY_NAMES = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];

  function formatTime(timestamp) {
    if (typeof timestamp === 'number') {
      timestamp = new Date(timestamp);
    } else if (typeof timestamp === 'string') {
      timestamp = new Date(timestamp).getTime();
    } else if (timestamp instanceof Date) {
      timestamp = timestamp.getTime();
    }

    return timestamp;
  }

  function formatRelative(quantity, label, article) {
    var unit = quantity === 1 ? article || 'A' : quantity;
    var plural = quantity === 1 ? '' : 's';
    return "".concat(unit, " ").concat(label).concat(plural, " ago");
  }

  /* harmony default export */ __webpack_exports__["default"] = ({
    EST: -5,

    /**
    * Calculates relative time.
    * @param {Number|Date|String} timestamp past time to relativize.
    * @param {Number|Date|String} [current] time to relativize from. Uses Date.now() by default.
    * @returns {String} relative time string.
    */
    relative: function relative(timestamp, now) {
      now = formatTime(now || Date.now());
      timestamp = formatTime(timestamp || now);
      var elapsed = now - timestamp;

      if (elapsed < SECOND) {
        return 'Now';
      } else if (elapsed < MINUTE) {
        return formatRelative(Math.round(elapsed / SECOND), 'second');
      } else if (elapsed < HOUR) {
        return formatRelative(Math.round(elapsed / MINUTE), 'minute');
      } else if (elapsed < DAY) {
        return formatRelative(Math.round(elapsed / HOUR), 'hour', 'An');
      } else if (elapsed < WEEK) {
        return formatRelative(Math.round(elapsed / DAY), 'day');
      }

      var pres = new Date(now);
      var past = new Date(timestamp);
      var months = pres.getMonth() - past.getMonth() + (pres.getFullYear() - past.getFullYear()) * 12;

      if (elapsed < MONTH || months === 0) {
        return formatRelative(Math.round(elapsed / WEEK), 'week');
      } else if (elapsed < YEAR) {
        return formatRelative(months, 'month');
      } else {
        return formatRelative(Math.round(elapsed / YEAR), 'year');
      }
    },

    /**
    * Formats an absolute timestamp.
    * @param {Number|Date|String} timestamp to format.
    * @returns {String} absolute time string.
    */
    absolute: function absolute(timestamp) {
      var d = timestamp instanceof Date ? timestamp : new Date(timestamp);
      var h = (d.getHours() + 11) % 12 + 1;
      var hh = d.getHours() < 12 ? 'AM' : 'PM';
      var m = ('00' + d.getMinutes()).slice(-2); // var s = ('00'+d.getSeconds()).slice(-2);

      return "".concat(MONTH_NAMES[d.getMonth()], " ").concat(d.getDate(), ", ").concat(d.getFullYear(), " | ").concat(h, ":").concat(m, " ").concat(hh);
    },

    /**
    * Formats a relative timestamp for recent events,
    * then switches to absolute dates beyond time threshold.
    * @param {Number|Date|String} timestamp to format.
    * @returns {String} relative or absolute time string.
    */
    recentRelative: function recentRelative(timestamp, limit, now) {
      now = formatTime(now || Date.now());
      limit = formatTime(now - (limit || DAY));
      timestamp = formatTime(timestamp || now);
      return timestamp > limit ? this.relative(timestamp, now) : this.absolute(timestamp);
    },

    /**
    * Gets a local date mapped to a server in a provided timezone.
    * @param {Number} timezone offset (in hours) of server.
    * @param {Number|Date|String} timestamp to format.
    */
    server: function server(timezone, now) {
      var client = new Date(formatTime(now || Date.now()));
      var utc = client.getTime() + client.getTimezoneOffset() * MINUTE;
      return new Date(utc + timezone * HOUR);
    },

    /**
    * Gets the name of a month.
    */
    nameOfMonth: function nameOfMonth(index) {
      return MONTH_NAMES[index];
    },

    /**
    * Gets the name of a week day.
    */
    nameOfDay: function nameOfDay(index) {
      return WEEKDAY_NAMES[index];
    },
    timezoneAbbreviation: function timezoneAbbreviation(tzName) {
      /* eslint-disable */

      /*
        some of these have apostrophes, and rather than escape them and risk it not working, i'm just going to use
        double quotes. Sorry/Not sorry. - ben alt
      */
      var abv = {
        "australian central daylight savings time": "ACDT",
        "australian central standard time": "ACST",
        "acre time": "ACT",
        "asean common time": "ACT",
        "australian central western standard time": "ACWST",
        "atlantic daylight time": "ADT",
        "australian eastern daylight savings time": "AEDT",
        "australian eastern standard time": "AEST",
        "afghanistan time": "AFT",
        "alaska daylight time": "AKDT",
        "alaska standard time": "AKST",
        "alma-ata time": "ALMT",
        "amazon summer time": "AMST",
        "amazon time": "AMT",
        "armenia time": "AMT",
        "anadyr time": "ANAT",
        "aqtobe time": "AQTT",
        "argentina time": "ART",
        "arabia standard time": "AST",
        "atlantic standard time": "AST",
        "australian western standard time": "AWST",
        "azores summer time": "AZOST",
        "azores standard time": "AZOT",
        "azerbaijan time": "AZT",
        "brunei time": "BDT",
        "british indian ocean time": "BIOT",
        "baker island time": "BIT",
        "bolivia time": "BOT",
        "brasília summer time": "BRST",
        "brasilia time": "BRT",
        "bangladesh standard time": "BST",
        "bougainville standard time": "BST",
        "british summer time": "BST",
        "bhutan time": "BTT",
        "central africa time": "CAT",
        "cocos islands time": "CCT",
        "central daylight time": "CDT",
        "cuba daylight time": "CDT",
        "central european summer time": "CEST",
        "central european time": "CET",
        "chatham daylight time": "CHADT",
        "chatham standard time": "CHAST",
        "choibalsan standard time": "CHOT",
        "choibalsan summer time": "CHOST",
        "chamorro standard time": "CHST",
        "chuuk time": "CHUT",
        "clipperton island standard time": "CIST",
        "central indonesia time": "CIT",
        "cook island time": "CKT",
        "chile summer time": "CLST",
        "chile standard time": "CLT",
        "colombia summer time": "COST",
        "colombia time": "COT",
        "central standard time": "CST",
        "china standard time": "CST",
        "cuba standard time": "CST",
        "china time": "CT",
        "cape verde time": "CVT",
        "central western standard time": "CWST",
        "christmas island time": "CXT",
        "davis time": "DAVT",
        "dumont d'urville time": "DDUT",
        "aix": "DFT",
        "easter island summer time": "EASST",
        "easter island standard time": "EAST",
        "east africa time": "EAT",
        "eastern caribbean time": "ECT",
        "ecuador time": "ECT",
        "eastern daylight time": "EDT",
        "eastern european summer time": "EEST",
        "eastern european time": "EET",
        "eastern greenland summer time": "EGST",
        "eastern greenland time": "EGT",
        "eastern indonesian time": "EIT",
        "eastern standard time": "EST",
        "further-eastern european time": "FET",
        "fiji time": "FJT",
        "falkland islands summer time": "FKST",
        "falkland islands time": "FKT",
        "fernando de noronha time": "FNT",
        "galápagos time": "GALT",
        "galapagos time": "GALT",
        "gambier islands time": "GAMT",
        "georgia standard time": "GET",
        "french guiana time": "GFT",
        "gilbert island time": "GILT",
        "gambier island time": "GIT",
        "greenwich mean time": "GMT",
        "south georgia and the south sandwich islands time": "GST",
        "gulf standard time": "GST",
        "guyana time": "GYT",
        "hammer time": "STOP",
        "hawaii–aleutian daylight time": "HDT",
        "heure avancée d'europe centrale": "HAEC",
        "hawaii–aleutian standard time": "HST",
        "hong kong time": "HKT",
        "heard and mcdonald islands time": "HMT",
        "hovd summer time": "HOVST",
        "hovd time": "HOVT",
        "indochina time": "ICT",
        "international day line west time zone": "IDLW",
        "israel daylight time": "IDT",
        "indian ocean time": "IOT",
        "iran daylight time": "IRDT",
        "irkutsk time": "IRKT",
        "iran standard time": "IRST",
        "indian standard time": "IST",
        "irish standard time": "IST",
        "israel standard time": "IST",
        "japan standard time": "JST",
        "kaliningrad time": "KALT",
        "kyrgyzstan time": "KGT",
        "kosrae time": "KOST",
        "krasnoyarsk time": "KRAT",
        "korea standard time": "KST",
        "lord howe standard time": "LHST",
        "lord howe summer time": "LHST",
        "line islands time": "LINT",
        "magadan time": "MAGT",
        "mawson station time": "MAWT",
        "mountain daylight time": "MDT",
        "middle european time same zone as cet": "MET",
        "middle european summer time same zone as cest": "MEST",
        "marshall islands time": "MHT",
        "macquarie island station time": "MIST",
        "marquesas islands time": "MIT",
        "myanmar standard time": "MMT",
        "moscow time": "MSK",
        "malaysia standard time": "MST",
        "mountain standard time": "MST",
        "mauritius time": "MUT",
        "maldives time": "MVT",
        "malaysia time": "MYT",
        "new caledonia time": "NCT",
        "newfoundland daylight time": "NDT",
        "norfolk island time": "NFT",
        "novosibirsk time": "NOVT",
        "nepal time": "NPT",
        "newfoundland standard time": "NST",
        "newfoundland time": "NT",
        "niue time": "NUT",
        "new zealand daylight time": "NZDT",
        "new zealand standard time": "NZST",
        "omsk time": "OMST",
        "oral time": "ORAT",
        "pacific daylight time": "PDT",
        "peru time": "PET",
        "kamchatka time": "PETT",
        "papua new guinea time": "PGT",
        "phoenix island time": "PHOT",
        "philippine time": "PHT",
        "pakistan standard time": "PKT",
        "saint pierre and miquelon daylight time": "PMDT",
        "saint pierre and miquelon standard time": "PMST",
        "pohnpei standard time": "PONT",
        "pacific standard time": "PST",
        "philippine standard time": "PST",
        "paraguay summer time": "PYST",
        "paraguay time": "PYT",
        "réunion time": "RET",
        "reunion time": "RET",
        "rothera research station time": "ROTT",
        "sakhalin island time": "SAKT",
        "samara time": "SAMT",
        "south african standard time": "SAST",
        "solomon islands time": "SBT",
        "seychelles time": "SCT",
        "samoa daylight time": "SDT",
        "singapore time": "SGT",
        "sri lanka standard time": "SLST",
        "srednekolymsk time": "SRET",
        "suriname time": "SRT",
        "samoa standard time": "SST",
        "singapore standard time": "SST",
        "showa station time": "SYOT",
        "tahiti time": "TAHT",
        "thailand standard time": "THA",
        "french southern and antarctic time": "TFT",
        "tajikistan time": "TJT",
        "tokelau time": "TKT",
        "timor leste time": "TLT",
        "turkmenistan time": "TMT",
        "turkey time": "TRT",
        "tonga time": "TOT",
        "tuvalu time": "TVT",
        "ulaanbaatar summer time": "ULAST",
        "ulaanbaatar standard time": "ULAT",
        "coordinated universal time": "UTC",
        "uruguay summer time": "UYST",
        "uruguay standard time": "UYT",
        "uzbekistan time": "UZT",
        "venezuelan standard time": "VET",
        "vladivostok time": "VLAT",
        "volgograd time": "VOLT",
        "vostok station time": "VOST",
        "vanuatu time": "VUT",
        "wake island time": "WAKT",
        "west africa summer time": "WAST",
        "west africa time": "WAT",
        "western european summer time": "WEST",
        "western european time": "WET",
        "western indonesian time": "WIT",
        "western standard time": "WST",
        "yakutsk time": "YAKT",
        "yekaterinburg time": "YEKT"
      };
      /* eslint-enable */

      return abv[tzName.toLowerCase()] || tzName;
    },

    /**
    * Formats a timestamp relative to today ("Today at 1:23 pm EST")
    * @param {Number|Date|String} timestamp past time to relativize.
    * @param {Number|Date|String} [current] time to relativize from.
    * @returns {String|null} time string relative to today or null if date isn't relative to today.
    */
    relativeToToday: function relativeToToday(timestamp, now) {
      if (!timestamp || typeof timestamp == 'number' && timestamp < 1) {
        throw "'timestamp' parameter '" + timestamp + "' is invalid";
      }

      now = new Date(formatTime(now || Date.now()));
      timestamp = new Date(formatTime(timestamp || now));

      if (timestamp.toDateString() !== now.toDateString()) {
        return null;
      }

      var format = timestamp.toTimeString(); // 08:00:02 GMT-0500 (EST) or 08:00:02 GMT-0500 (Central Daylight Time)

      var time = format.split(' ')[0];
      var period = parseInt(time.split(':')[0]) >= 12 ? 'pm' : 'am'; // convert time to 12-hour clock

      var hh = parseInt(time.split(':')[0]) % 12;
      if (hh === 0) hh = 12;
      var mm = time.split(':')[1]; // 0-padded
      // match the contents of "({TimeZone})"

      var fullTz = /\((.+)\)/.exec(format);
      var tz = '';

      if (fullTz && fullTz[1]) {
        // attempt to use TLA if available, otherwise first word
        tz = this.timezoneAbbreviation(fullTz[1]);
      }

      return "Today at ".concat(hh, ":").concat(mm).concat(period, " ").concat(tz).trim();
    },

    /**
    * Formats a timestamp depending on how much time has passed.
    *   If timestamp is more than two hours old: "Today at 1:23pm EST"
    *   Otherwise: "23 minutes ago"
    * @param {Number|Date|String} timestamp past time to relativize.
    * @param {Number|Date|String} [current] time to relativize from.
    * @returns {String|null} relative time string relative or null if date isn't relative to today.
    */
    combinedRelative: function combinedRelative(timestamp, now) {
      now = new Date(formatTime(now || Date.now()));
      var ageInMinutes = Math.floor((now - timestamp) / 1000 / 60);

      if (ageInMinutes <= 120) {
        return this.relative(timestamp, now);
      } else {
        return this.relativeToToday(timestamp, now);
      }
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/user_agent.js":
  /*!*******************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/user_agent.js ***!
    \*******************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");




  var SMALL_SCREEN_DEFAULT = 600;
  var SMALL_SCREEN_LANDSCAPE_DEFAULT = 800;
  var SMALL_WINDOW_DEFAULT = 600;
  /**
  * Provides User Agent information services.
  * This module should remain the definitive source of data
  * regarding the host system and presentation constraints.
  * @module lib/user_agent
  */

  var UserAgent = {
    /**
    * Checks the environment for touch support.
    * @returns {Boolean} true for touch-enabled environment.
    */
    isTouch: function isTouch() {
      if (this._touch === undefined) {
        this._touch = 'ontouchstart' in window || navigator.msMaxTouchPoints > 0;
      }

      return this._touch;
    },

    /**
    * Checks the environment for small-screen display.
    * NOTE: this checks content presentation ONLY.
    * If you are looking to check if this is mobile, you're better off using
    * one UserAgent.isSmallScreen() or UserAgent.isMobile();
    * This check does not reflect device type.
    *
    * isSmallWindow() measures the browser window, isSmallScreen() measures the computer monitor/phone screen size
    *
    * @param {Number} [threshold] optional size to test against.
    * @returns {Boolean} true for small format display.
    */
    isSmallWindow: function isSmallWindow(threshold) {
      threshold = threshold || SMALL_WINDOW_DEFAULT;
      var de = document.documentElement;
      var width = window.innerWidth || de && de.clientWidth || document.body.clientWidth;
      return width <= threshold;
    },

    /**
    * Checks the environment for small-screen display.
    * NOTE: this checks the actual size of the device's screen, not
    * the presented windown width.
    * This check does not reflect device type.
    *
    * isSmallWindow() measures the browser window, isSmallScreen() measures the computer monitor/phone screen size
    *
    * @param {Number} [threshold] optional size to test against.
    * @param {Number} [landscape_threshold] optional size to test against if the device is in landscape.
    * @returns {Boolean} true for small format display.
    */
    isSmallScreen: function isSmallScreen() {
      var threshold = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SMALL_SCREEN_DEFAULT;
      var landscapeThreshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : SMALL_SCREEN_LANDSCAPE_DEFAULT;
      var orientationDegs = 0;

      if (!isNaN(parseInt(window.orientation))) {
        // isNaN(null) == true and i don't even want to live on this planet anymore
        // safari mobile uses window.orientation;
        orientationDegs = window.orientation;
      } else if (!isNaN(lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].get(window, 'screen.orientation.angle', NaN))) {
        // chrome and other browsers
        orientationDegs = window.screen.orientation.angle;
      }

      var deviceIsLandscape = orientationDegs == 90 || orientationDegs == -90 || orientationDegs == 270;
      var width = deviceIsLandscape ? screen.height : screen.width;
      var thresholdToCheck = deviceIsLandscape ? landscapeThreshold : threshold;
      return width <= thresholdToCheck;
    },

    /**
    * Checks the environment for 'mobile' display.
    * NOTE: this checks content presentation and touch capability ONLY.
    * This check does _not_ reflect device type.
    * @param {Number} [threshold] optional size to test against.
    * @returns {Boolean} true for small format and touch.
    */
    isMobile: function isMobile() {
      return this.isTouch() && this.isSmallScreen();
    },

    /**
    * Specifies if the document is in full-screen mode.
    * @returns {Boolean} true if in full screen
    */
    isFullScreen: function isFullScreen() {
      return document.isFullScreen || document.mozIsFullScreen || document.webkitIsFullScreen;
    },

    /**
    * Specifies if CORS ajax requests are allowed by this device.
    * @returns {Boolean} true if device allows CORS ajax requests.
    */
    isCORSEnabled: function isCORSEnabled() {
      return !window.navigator.userAgent.match(/MSIE (6|7|8|9)/);
    },

    /**
    * Specifies if Intelligent Tracking Prevention is implemented in this browser.
    * https://webkit.org/blog/7675/intelligent-tracking-prevention
    * @returns {Boolean} true if browser implements ITP.
    */
    isITPEnabled: function isITPEnabled() {
      var match = window.navigator.userAgent.match(/(\d+(?:\.\d+)?) Safari/i);
      return match && parseFloat(match[1]) >= 11;
    },

    /**
     * Specifies the name of the current breakpoint.
     * @return {String} name of the current breakpoint.
     */
    breakpoint: function breakpoint() {
      var breakPoints = [{
        name: 'xsmall',
        min: 0,
        max: 400
      }, {
        name: 'small',
        min: 401,
        max: SMALL_WINDOW_DEFAULT
      }, {
        name: 'medium_small',
        min: 601,
        max: 728
      }, {
        name: 'medium',
        min: 749,
        max: 880
      }, {
        name: 'large_medium',
        min: 881,
        max: 950
      }, {
        name: 'large',
        min: 956,
        max: 1080
      }, {
        name: 'xlarge_large',
        min: 1081,
        max: 1200
      }, {
        name: 'xlarge',
        min: 1201,
        max: 1500
      }, {
        name: 'xxlarge',
        min: 1501,
        max: Infinity
      }];

      for (var i = breakPoints.length - 1; i >= 0; i--) {
        var b = breakPoints[i];
        var width = screen.width;

        if (width >= b.min && width <= b.max) {
          return b.name;
        }
      }

      return b.name;
    },

    /**
    * Performs browser detection via UA sniffing.
    * Replaces jQuery's `$.browser`.
    * @returns {Object} stats object with vendor keys and a version number.
    */
    browser: function browser() {
      if (!this._browser) {
        var ua = navigator.userAgent.toLowerCase();
        var match = /(chrome)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua) || /(msie) ([\w.]+)/.exec(ua) || /(firefox)[ \/]([\w.]+)/.exec(ua) || /(trident)[ \/]([\w.]+)/.exec(ua) || ua.indexOf('compatible') < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) || [];
        var browser = match[1] || '';
        var version = match[2] || '0';
        var stats = this._browser = {};

        if (browser) {
          stats[browser] = true;
          stats.version = version;

          if (navigator.appName === 'Netscape' && browser === 'trident') {
            // Hello, my name is Netscape and I'm a Trident browser...
            // but you can call me Internet Explorer 11.
            stats.msie = true;
            stats.version = '11';
          }
        }

        if (stats.chrome) {
          stats.webkit = true;
        } else if (stats.webkit) {
          stats.safari = true;
        }
      }

      return this._browser;
    },

    /* UA Sniffing to get at ios version, we need to make some sligh adjust ments
    * to the UI based on some funny business on early versions on IOS
    * @returns {Object} with majorVersion and minorVersion as integers.
    * @example
    * import UserAgent from 'lib/user_agent';
    *
    * UserAgent.iOSversion().majorVersion; // << check for, say, iOS8
    * UserAgent.iOSversion().minorVersion; // << check for, say, iOS 8.1
    */
    iOSversion: function iOSversion() {
      if (/iP(hone|od|ad)/.test(navigator.appVersion)) {
        // supports iOS 2.0 and later: <http://bit.ly/TJjs1V>
        var v = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
        return {
          iOS: true,
          majorVersion: parseInt(v[1], 10),
          minorVersion: parseInt(v[2], 10)
        };
      }

      return {
        iOS: false
      };
    },

    /**
    * Detection for image format support.
    * @returns {Promise} resolved upon all image format tests finishing.
    * The promise callback accepts an object with keys for supported formats.
    * Possible values include "webp" and "jp2" (future).
    * @example
    * import UserAgent from 'lib/user_agent';
    *
    * UserAgent.imageFormats().then(function(formats) {
    *   if (formats.webp) { ...
    *   if (formats.jp2) { ...
    * });
    */
    imageFormats: function imageFormats() {
      if (!this._imgs) {
        var CACHE_VERSION = 1;
        var CACHE_NS = 'chorus-imgs-v' + CACHE_VERSION;
        var self = this;
        var deferred = this._imgs = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();
        var cached = lib_localstorage__WEBPACK_IMPORTED_MODULE_1__["default"].get(CACHE_NS);
        var preferredOrder = ['webp']; // << add 'jp2', etc.

        if (cached && cached.hasOwnProperty(preferredOrder[0])) {
          // FULFILL FROM CACHE:
          deferred.resolve(cached);
        } else {
          // RUN STORAGE CHECKS:
          var formats = {
            'webp': 'data:image/webp;base64,UklGRiYAAABXRUJQVlA4IBoAAAAwAQCdASoBAAEAAIAOJaQAA3AA/v89WAAAAA==' // ,'jp2': 'data:image/jp2;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAADUlEQVQI12P4////fwAJ+wP90YOM8AAAAABJRU5ErkJggg=='

          };
          var checks = Object.keys(formats);
          var complete = 0; // Done callback, invoked after each completed check:

          var done = function done() {
            complete += 1;

            if (complete === checks.length) {
              // Set preferred image format based on the best available type:
              formats.preferred = preferredOrder.filter(function (type) {
                return formats[type];
              })[0]; // BUG FIX: issues with mobile devices responding to Thumbor headers.
              // Set no preferred image format on mobile/touch devices for now.
              // @todo remove after Thumbor headers are resolved.

              if (self.isTouch()) {
                formats.preferred = null;
              }

              lib_localstorage__WEBPACK_IMPORTED_MODULE_1__["default"].set(CACHE_NS, formats);
              deferred.resolve(formats);
            }
          }; // Run all image format checks:


          checks.forEach(function (format) {
            var img = new Image();

            img.onload = function () {
              formats[format] = img.height > 0 && img.width > 0;
              done();
            };

            img.onerror = function () {
              formats[format] = false;
              done();
            };

            img.src = formats[format];
          });
        }
      }

      return this._imgs.promise();
    },

    /**
    * Specifies if Picture element is supported by this browser: http://caniuse.com/#search=picture
    * @returns {Boolean} true if supported.
    */
    supportsPictureElement: function supportsPictureElement() {
      var ua = navigator.userAgent;
      var webkit = /(webkit)[ \/]([\w.]+)/.exec(ua.toLowerCase());
      var chrome = /(chrome)[ \/]([\w.]+)/.exec(ua.toLowerCase()); // Chrome reports using older version of webkit but uses blink, wtf

      var edge = /(Edge)[ \/]([\w.]+)/.exec(ua);
      var ie = /MSIE|Trident/.test(ua);
      var unsupportedBrowser = !chrome && webkit && parseFloat(webkit[2]) < 601.6 || // Safari < 9.1 / webkit < 601.6
      ie || // All versions of IE
      edge && parseFloat(edge[2]) < 13.10547 || // Edge < 13.10547
      /Opera Mobi/.test(ua); // All versions of Opera Mobile

      return !unsupportedBrowser;
    },

    /**
     * Detects whether autoplay video is supported on this browser.
     * This is especially useful when attempting to trigger already-played video
     * on mobile devices that don't support autoplay video throws the user into
     * fullscreen mode unexpectedly.
     *
     * Inspired by https://github.com/Modernizr/Modernizr/blob/master/feature-detects/video/autoplay.js
     *
     * @return {Promise} resolves if true, rejects if false
     * @example
     * import UserAgent from 'lib/user_agent';
     *
     * UserAgent.supportsAutoplayVideo()
     *  .then(() => {
     *    // Autoplay is supported
     *  })
     *  .catch(() => {
     *    // Video src not supported
     *  });
     */
    supportsAutoplayVideo: function supportsAutoplayVideo() {
      var _this = this;

      return new Promise(function (resolve, reject) {
        var timeout;
        var currentTry = 0;
        var retries = 5;
        var waitTime = 200;
        var video = document.createElement('video');

        function testAutoplay(arg) {
          currentTry++;
          clearTimeout(timeout);
          var result = arg && arg.type === 'playing' || video.currentTime !== 0;

          if (!result && currentTry < retries) {
            // Detection can be flaky if the browser is slow, so lets retry in a little bit
            timeout = setTimeout(testAutoplay, waitTime);
            return;
          } // Cleanup, but don't assume elem is still in the page -
          // an extension (eg Flashblock) may already have removed it.


          if (video.parentNode) {
            video.parentNode.removeChild(video);
          }

          result ? resolve() : reject();
        }

        if (_this.prefersReducedMotion()) {
          reject();
        } else if (video.canPlayType('video/ogg; codecs="theora"').replace(/^no$/, '')) {
          video.src = 'data:video/ogg;base64,T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj///////////////+QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG+zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ/nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0zV1A+EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow/L66wGmYnfIUbwdUTe3LMRbqON8B+5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw/JO4hpmV2LsQQvkUeGq1BsZLx+cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD+K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k/4tFrHIPuEQ7m1/uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXYGkgcnih7t13/9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1/9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV/9SluQmtHrzsBtRF/wPY+X0JuYTs+ltgrXAmlk10xQHmTu9VSIAk1+vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT/6ZLYailAjhFlZuvPtSeZ+2oREubDoWmT3TguY+JHPdRVSLKxfKH3vgNqJ/9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR/mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj/j4qpWsIA+vYwE+Tca9ounMIsrXMB4Stiib2SPQtZv+FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG+oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv+FLicYs2iJGSE0u2txzed++D61ZWCiHD/cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV/Rwe5eLTDvkfWKzFnH+QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t+OTGL+AVUnIkyYY+QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv/uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex/n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x+3nA0UEhK2m198wuBHF3zlWWVKWLN1CHzLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb+8HaJRn4dYcLbCuBuYwziB8/5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT/ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq/hOYY8j60IaO/0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB+7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH/hynURrKxvUpQ8BH0JF7BiyG2qZpnL/7AOU66gt+reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o/WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu/6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ//iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu/AjBNK210kzRUX/B+69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG/9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB/FCNxPJ85iVUkCE9/tLKx31G4CgNtWTTPFhMvlu8G4/TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1/3uVUllZEJz4baqGF64yxaZ+zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ/LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o/n74CNykfT+qqRv5AQlHcRxYrC5KvGmbbUwmZY/29BvF6C1/93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu+oiAkcWFbklC6Zhf+NtTLFpn8oWz+HsNRVSgIxZWON+yVyJlE5tq/+GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V/zh16Dr9OSA21MpmmcrHC+6pTAPHPwoit3LHHqs7jhFNRD6W8+EBGoSEoaZttTCZljfduH/fFisn+dRBGAZYtMzbVMwvul/T/crK1NQh8gN0SRRa9cOux6clC0/mDLFpmbarmF8/e6CopeOLCNW6S/IUUg3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro/25Ud+llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO/Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL+gWVwHm4XJDBiMpmmZtrLfPwd/IugP5+fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR+lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro/2McGeUvLtwo6jIEKMkCUXWsLyZROd9P/rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A';
        } else if (video.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/, '')) {
          video.src = 'data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ==';
        } else {
          reject();
        }

        video.style.position = 'absolute';
        video.style.height = 0;
        video.style.width = 0;
        video.setAttribute('muted', '');
        video.setAttribute('playsinline', '');
        video.setAttribute('autoplay', '');
        video.style.display = 'none';
        document.documentElement.appendChild(video); // wait for the next tick to add the listener, otherwise the element may
        // not have time to play in high load situations (e.g. the test suite)

        setTimeout(function () {
          video.play(); // Manual call to play sometimes required on mobile devices

          video.addEventListener('playing', testAutoplay, false);
          timeout = setTimeout(testAutoplay, waitTime);
        }, 0);
      });
    },

    /**
    * Specifies if CSS Object Fit property is supported by this browser: http://caniuse.com/#search=objectfit
    * @returns {Boolean} true if supported.
    */
    supportsObjectFit: function supportsObjectFit() {
      return 'objectFit' in document.documentElement.style;
    },

    /**
    * Checks to see if the user has signaled they’d prefer reduced animations. (https://css-tricks.com/revisiting-prefers-reduced-motion-the-reduced-motion-media-query/)
    * NOTE: This is an _optimistic_ test, and currently passes old browsers/devices.
    * (Ideally, )
    * @returns {Boolean} true if the preference is set.
    */
    prefersReducedMotion: function prefersReducedMotion() {
      var motionQuery = '(prefers-reduced-motion: reduce)'; // Return early if matchMedia’s not available

      if (typeof window.matchMedia !== 'function') {
        return false;
      } // Check the value of `(prefers-reduced-motion)`
      // (`prefersReduced.matches` should evaluate to `true` if a motion preference is set)


      var prefersReduced = window.matchMedia(motionQuery);
      return prefersReduced.matches;
    },

    /**
    * Specifies if IntersectionObserver api is supported by this browser: http://caniuse.com/#search=objectfit
    * @returns {Boolean} true if supported.
    */
    supportsIntersectionObserver: function supportsIntersectionObserver() {
      return !!window.IntersectionObserver;
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (UserAgent);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/utils.js":
  /*!**************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/utils.js ***!
    \**************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);

  var escapeMap = {
    '&': ['&amp;', '&AMP;', '&#x00026;', '&#x0026;', '&#x026;', '&#x26;', '&#38;'],
    '<': ['&lt;', '&LT;', '&#x0003C;', '&#x003C;', '&#x03C;', '&#x3C;', '&#60;'],
    '>': ['&gt;', '&GT;', '&#x0003E;', '&#x003E;', '&#x03E;', '&#x3E;', '&#62;'],
    '"': ['&quot;', '&QUOT;', '&#x00022;', '&#x0022;', '&#x022;', '&#x22;', '&#34;'],
    // These last two can be a little sensetive when dealing with server-based tests.
    // which don't like &apos; or &grave;, as such we're using the unicode hexes as the first option
    "'": ['&#x27;', '&apos;', '&#x00027;', '&#x0027;', '&#x027;', '&#39;'],
    '`': ['&#x60;', '&grave;', '&DiacriticalGrave;', '&#x00060;', '&#x0060;', '&#x060;', '&#96;']
  };
  /**
  * Presto's replacement for Underscore.js, AKA: <b>The Presto Utility Belt</b>.
  * <p><img src="http://www.thinkwaytoys.com/ProductImages/Hires/63475.jpg" style="width:100%;max-width:500px;" alt=""></p>
  * This module is designed to provide <em>really</em> general purpose methodologies.
  * Please keep this AS LIGHT AS POSSIBLE, lest we recreate Underscore.
  * Before adding a method, consider:
  * <ul>
  * <li>Is there an ES5 method for this? (such as: `.map`, `.reduce`, `.forEach`). Please use those.</li>
  * <li>Is this methodology truly <em>general purpose</em>. Do other modules need it?</li>
  * </ul>
  * @module lib/utils
  */

  var Utilities = {
    /**
     * Extends a base object with properties from additional passed objects:
     * @param {Object} base object to extend.
     * @param {...Object} objects to extend properties from.
     * @returns {Object} the base object, extended by all other argument objects.
     */
    extend: function extend(base) {
      for (var i = 1; i < arguments.length; i++) {
        var ext = arguments[i];

        for (var key in ext) {
          if (ext.hasOwnProperty(key)) base[key] = ext[key];
        }
      }

      return base;
    },

    /**
    * Build a macro-promise for all given promises.
    * This is useful when waiting on multiple state resolutions,
    * allowing multiple promises to be tracked by an aggregate.
    * @param {...Promise|Array} promises to aggregate into a single transaction.
    * @return {Promise} will resolve or reject when all promises finish.
    */
    all: function all() {
      for (var _len = arguments.length, promises = new Array(_len), _key = 0; _key < _len; _key++) {
        promises[_key] = arguments[_key];
      }

      if (promises[0] instanceof Array) {
        promises = promises[0];
      }

      var deferred = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.Deferred();
      var expected = promises.length;
      var successes = [];
      var failures = [];

      for (var i = 0; i < expected; i++) {
        if (promises[i]) {
          promises[i].then(function (res) {
            successes.push(res);
            done();
          }, function (mssg) {
            failures.push(mssg);
            done();
          });
        }
      }

      function done() {
        if (successes.length === expected) {
          deferred.resolve(successes);
        } else if (successes.length + failures.length === expected) {
          deferred.reject(failures, successes);
        }
      }

      return deferred.promise();
    },

    /**
    * Picks select attributes names from an object.
    * @param {Object} base object to pick fields from.
    * @param {...String} fields to pick from the model.
    * @returns {Object} a new object with the requested field names.
    */
    pick: function pick(base) {
      var data = {};

      for (var i = 1; i < arguments.length; i++) {
        data[arguments[i]] = base[arguments[i]];
      }

      return data;
    },

    /**
     * Debounces a function to only run after repeated invocations have stopped.
     * @param {Function} function to debounce.
     * @param {Number} time in milliseconds to delay invocation.
     * @param {Object} binding context in which the function is invoked.
     * @returns {Function} the debounced function.
     */
    debounce: function debounce(fn, delay, context) {
      var timer;
      return function () {
        var callTarget = context || this;
        var callArgs = arguments;
        clearTimeout(timer);
        timer = setTimeout(function () {
          fn.apply(callTarget, callArgs);
        }, delay);
      };
    },

    /**
     * Throttles a function to only run once ever N milliseconds:
     * @param {Function} function to invoke.
     * @param {Number} throttle time limit, in milliseconds.
     * @param {Object} binding context in which the function is invoked.
     * @returns {Function} the throttled function.
     */
    throttle: function throttle(fn, limit, context) {
      var timer = null;
      var called = false;

      var limiter = function limiter() {
        if (timer) {
          called = true;
          return;
        }

        context = context || this;
        fn.call(context);
        timer = setTimeout(function () {
          var recall = called;
          timer = null;
          called = false;
          if (recall) limiter.call(context);
        }, limit);
      };

      return limiter;
    },

    /**
      * Gets the value at path of object. If the resolved value is undefined, the
      * defaultValue is returned in its place.
      * @param {Object} the object to query
      * @param {String} the dot-separated or bracket-accessed path of the property to get, i.e. 'foo.bar[1].baz'
      * @param {Object} the alternative value returned when undefined is the resolved value
      * @returns {Object} the resolved value, or the default
      */
    get: function get(object, path, defaultValue) {
      var index = 0;
      path = path.replace(/\]/g, '').split(/[\[\.]/);

      while (object != null && index < path.length) {
        object = object[path[index++]];
      }

      return index && index === path.length && object !== undefined ? object : defaultValue;
    },

    /**
    * Parses a params object into a query string.
    * This is similar to the jQuery `$.param()` method,
    * except that variable encoding is intentionally not modified
    * (this assures that pre-encoded variables are not RE-encoded).
    * <ul>
    *   <li>input: {url: "http%3A%2F%2Faweso.me", utm_source: "social"}</li>
    *   <li>output: "url=http%3A%2F%2Faweso.me&utm_source=social"</li>
    * </ul>
    * @param {Object} params object with key/value pairs to encode.
    * @returns {String} formatted query string.
    * @private
    */
    paramitize: function paramitize(params) {
      var list = [];

      for (var key in params) {
        if (params.hasOwnProperty(key)) list.push(key + '=' + params[key]);
      }

      return list.join('&');
    },

    /**
    * Parses a params string into an object.
    * <ul>
    *   <li>input: "?utm_campaign=vox&utm_source=social"</li>
    *   <li>output: {utm_campaign: "vox", utm_source: "social"}</li>
    * </ul>
    * @param {String} params url-encoded variables string to parse.
    * @returns {Object} an object with key/value pairs for all params.
    * @private
    */
    deparamitize: function deparamitize(params) {
      var obj = {};
      params = (params || '').replace(/^(\?|\&)/, '').split('&');

      for (var i = 0; i < params.length; i++) {
        // split on greedy regex because thumbor urls, which get passed to pinterest.
        // can contain '=' in them.
        var pair = params[i].split(/=(.+)?/);
        if (pair.length > 1) obj[pair[0]] = pair[1] || '';
      }

      return obj;
    },
    // Return the current url without query or anchor
    currentUrl: function currentUrl() {
      return window.location.href.split(/\?|#/)[0];
    },

    /**
    * Loads a script file - This uses the shared "Chorus.AddScript" if available
    * but backs up to standard dom-based injection
    @param {String} Url of remore script to load
    */
    loadScript: function loadScript(scriptUrl, callback) {
      var script = document.createElement('script');

      if (typeof callback === 'function') {
        script.onload = callback;
      }

      script.async = true;
      script.src = scriptUrl;
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(script, node);
      return script;
    },

    /**
    * Parses a string and escapes HTML to the proper entities
    * @param {String} params string to escapte
    * @returns {String} escapted String
    * e.g. _.escape('<b>Hello</b>');
    *         -> '&lt;b&gt;Hello&lt;/b&gt;'
    */
    escape: function escape() {
      var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

      var escaper = function escaper(match) {
        // match will be replaced with the first item specified in the escapeMap at the top of the page
        return escapeMap[match][0];
      };

      var source = '(?:' + Object.keys(escapeMap).join('|') + ')';
      var replaceRegexp = RegExp(source, 'g');
      return string.replace(replaceRegexp, escaper);
    },

    /**
    * Parses a string and unescapes HTML to the proper entities
    * @param {String} params string to unescaptes
    * @returns {String} unescaptes String
    * e.g. _.escape('&lt;b&gt;Hello&lt;/b&gt;');
    *         -> '<b>Hello</b>'
    */
    unescape: function unescape() {
      var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';

      for (var key in escapeMap) {
        var source = '(?:' + escapeMap[key].join('|') + ')';
        var replaceRegexp = RegExp(source, 'g');
        string = string.replace(replaceRegexp, key);
      }

      return string;
    },
    urlParams: function urlParams() {
      return this.deparamitize(window.location.search);
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (Utilities);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/video.js":
  /*!**************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/video.js ***!
    \**************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _iframeclient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iframeclient */ "./app_unison/frontend/scripts/lib/iframeclient.js");
  /* harmony import */ var _iframeclient__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_iframeclient__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");
  /* harmony import */ var lib_viewport__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/viewport */ "./app_unison/frontend/scripts/lib/viewport.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");





  var xframe;
  /**
  * Volume external API.
  * Install this script on the HOST PAGE that will include embeds.
  * Features:
  * <ul>
  *  <li>Installs iframe embeds into Volume placeholder elements.</li>
  *  <li>Sends "view" messages to embeds when scrolled into viewport.</li>
  *  <li>Provides proxy API for sending messages to iframe embeds.</li>
  * </ul>
  * @param {String|Element|Window} target selector string, iframe element, or target window.
  * @returns {VolumeClient}
  * @example
  * import volume from 'lib/video';
  * volume.install('http://staging.volume.voxmedia.com');
  * volume('#my-embed').play();
  * volume('#my-embed').pause();
  *
  * @module lib/video
  */

  function volume(target) {
    return new VolumeClient(target);
  }
  /**
  * Gets the DOM placement value for an element.
  * This traverses up the DOM tree looking for placement attributions.
  * @param {Element} an element to extract placement from.
  * @private
  */


  function getAnalyticsPlacement(el) {
    var placement;

    while (!placement && el && el.getAttribute) {
      placement = el.getAttribute('data-analytics-placement');
      if (placement) return placement;else el = el.parentNode;
    }

    return 'other';
  }
  /**
  * Specifies the Volume embed host.
  * Uses production host by default.
  * This may be set to target staging or development servers.
  * Alternatively, this may be set while calling `.install()`.
  * @type {String}
  */


  volume.embedHost = window.volume_embed_host || 'https://volume.vox-cdn.com';
  /**
  * Selects all Volume iframe embeds on the page.
  * @returns {NodeList} result of `querySelectorAll` targeting iframe embeds.
  */

  volume.selectAllEmbeds = function () {
    return document.querySelectorAll('iframe[src^="' + this.embedHost + '/embed"]');
  };
  /**
  * Installs all Volume video placeholders into the document,
  * and configures viewport tracking for new and existing embeds.
  * Call this after adding any new Volume embeds/placeholders into the document.
  * (invoking this method multiple times per page is OKAY)
  * NOTE: this is imported and called within the "foundation/base" component.
  * @param {String} [host] optional URL to use as the embed host.
  * @example
  * volume.install();
  * volume.install('http://staging.volume.voxmedia.com');
  */


  volume.install = function (host) {
    if (host) this.embedHost = host;
    if (models_context__WEBPACK_IMPORTED_MODULE_1__["default"].get('privacy')) return this;
    this.log('install ' + this.embedHost);
    var embeds = this.selectAllEmbeds();
    var videos = document.querySelectorAll('.volume-video');
    var i;

    if (!xframe) {
      // Install cross-frame message bus during initial request:
      // this will run once during the first installation of Volume on the page.
      // This message bus handles all communication with Volume iframe instances.
      xframe = _iframeclient__WEBPACK_IMPORTED_MODULE_0___default.a.create('volume', this.embedHost).on('analytics', function (e, data) {
        volume.reportEvent(data);
      }).on('pauseOthers', function (e, data) {
        volume.postToAll('pause', null, e.source);
      }).on('host', function (evt, data) {
        return {
          url: location.href,
          origin: location.origin,
          referrer: document.referrer,
          title: document.title,
          api: true
        };
      }).listen();
    } else {
      // If a cross-frame messaging bus already exists,
      // then just update its host protocol with the latest Volume host setting.
      // This host setting specifies what domain the messenger is allowed to talk to.
      xframe.host = this.embedHost;
    } // Register all existing iframe embeds with viewport tracking:


    for (i = 0; i < embeds.length; i += 1) {
      this.trackView(embeds[i]);
    } // Install new embeds into all Volume video placeholders:


    for (i = 0; i < videos.length; i += 1) {
      this.embedVideo(videos[i]);
    }

    return this;
  };
  /**
  * Uninstalls the Volume client API.
  * Cancels listeners and stops polling requests.
  */


  volume.uninstall = function () {
    if (xframe) {
      xframe.dispose();
      xframe = null;
    }
  };
  /**
  * Report event data to analytics tracking.
  * @param {Object} event data object to report.
  */


  volume.reportEvent = function (eventData) {
    lib_analytics__WEBPACK_IMPORTED_MODULE_2__["default"].event(eventData);
    this.log(eventData);
  };
  /**
  * Logs debugging information into the console (when enabled).
  * @param {String} message to pass through to the console.
  */


  volume.log = function (mssg) {
    if (window.volume_debug) console.log('volume: ', mssg);
  };
  /**
  * Embeds a Volume iframe into a placeholder element.
  * @param {Element} placeholder element with "data-volume-uuid" field, and other metadata.
  */


  volume.embedVideo = function (el, opts) {
    var _this = this;

    // Pull Volume UUID from the placeholder element; abort if we don't have one.
    var UUID = el.getAttribute('data-volume-uuid');
    if (!UUID) return; // Collect placeholder configuration attributes.

    opts = lib_utils__WEBPACK_IMPORTED_MODULE_4__["default"].extend({
      autoplay: el.getAttribute('data-volume-autoplay'),
      autoplay_with_sound: el.getAttribute('data-volume-autoplay-with-sound'),
      placement: el.getAttribute('data-volume-placement'),
      player_type: el.getAttribute('data-volume-player-choice'),
      start_time: el.getAttribute('data-volume-start-time'),
      mask_text: el.getAttribute('data-mask-text'),
      tracking: getAnalyticsPlacement(el)
    }, opts || {}); // Only provide privacy_consent param if privacy banner site config is enabled

    if (el.getAttribute('data-volume-privacy') === 'true') {
      // Get user's current privacy setting to determine embed video url
      // (Privacy settings accepted by Volume are either "essential" or "all")
      var currentPrivacySetting = models_context__WEBPACK_IMPORTED_MODULE_1__["default"].get('preferences').privacy.cookies;
      var privacyConsent = currentPrivacySetting === 'none' ? 'essential' : currentPrivacySetting;
      opts.privacy_consent = privacyConsent;
    } // Get a valid trigger attribute for the element:
    // trigger indicates when the embed gets added to the document.


    var TRIGGER_ATTR = 'data-volume-trigger';
    var trigger = el.getAttribute(TRIGGER_ATTR) || '';
    var autoplay = /^(true|1)$/.test(opts.autoplay);
    el.setAttribute(TRIGGER_ATTR, 'none');

    if (!/^(lazy|click|embed|none)$/.test(trigger)) {
      trigger = 'lazy';
    }

    this.log('embedVideo [' + trigger + '] ' + UUID + '-' + opts.tracking);

    if (trigger === 'lazy') {
      // Adjust tolerance to account for embeds of autoplay videos
      var tolerance = autoplay ? 0 : -0.5; // Lazy embed:
      // delay embedding until element enters the viewport.

      lib_viewport__WEBPACK_IMPORTED_MODULE_3__["default"].trackElement(el, function () {
        el.setAttribute(TRIGGER_ATTR, 'embed');

        _this.embedVideo(el);
      }, tolerance);
    } else if (trigger === 'click') {
      // Click embed:
      // delay embedding until placeholder is clicked.
      el.addEventListener('click', function onclick(evt) {
        evt.preventDefault();
        el.removeEventListener('click', onclick);
        el.setAttribute(TRIGGER_ATTR, 'embed');
        volume.embedVideo(el, {
          autoplay: true
        });
      }); // track placeholder element as the viewport proxy.

      this.trackView(el, opts.tracking);
    } else if (trigger === 'embed') {
      // Active embed:
      // actually creates a new Volume iframe.
      var params = Object.keys(opts).filter(function (key) {
        return !!opts[key];
      }).map(function (key) {
        return key + '=' + opts[key];
      }); // Adjust placeholder classname, and embed the iframe content.

      el.className = el.className.replace(/volume-video|p-scalable-video/g, '') + ' p-scalable-video';
      el.innerHTML = '<iframe src="' + this.embedHost + '/embed/' + UUID + '?' + params.join('&') + '" frameborder="0" allow="autoplay" allowfullscreen></iframe>' + this.contentMask(opts.mask_text);
      this.trackView(el, opts.tracking);
    }
  };
  /**
  * Viewport tracking for a single iframe embed element.
  * Sends a "view" message/event when the target element enters the viewport.
  * Elements must be a Volume iframe or placeholder div.
  * All view requests are indexed by SKU (stock-keeping unit),
  * so that unique iframe/placeholder pairings are only tracked once.
  * @param {Element} element (volume iframe or placeholder div) to track within viewport.
  * @param {String} placement code indicating the element's position on the page.
  * @param {Number} [volumeId] optional Volume ID associated with the video.
  */


  volume.trackView = function (el, placement) {
    var trackedSKUs = this._sku = this._sku || {};
    placement = placement || getAnalyticsPlacement(el); // Acquire Volume iframes from provided element:
    // The iframe could be the element itself, or the wrapper.

    var uuidForIframe = /embed\/([^\/\?]+)/;

    var getEmbedIframe = function getEmbedIframe() {
      var iframeEl = /iframe/i.test(el.tagName) ? el : el.querySelector('iframe');
      return iframeEl && uuidForIframe.test(iframeEl.src) ? iframeEl : null;
    };

    var embedEl = getEmbedIframe();
    var uuid = embedEl ? embedEl.src.match(uuidForIframe)[1] : el.getAttribute('data-volume-uuid');
    var sku = uuid + '-' + placement;
    this.log('trackView ' + sku); // Manage tracking for unique stock keeping units:
    // This makes sure the same UUID/placement combo is only tracked once.
    // Pileups can occur if we have a placeholder and its embed both submitted for tracking.

    if (uuid && !trackedSKUs[sku]) {
      trackedSKUs[sku] = true;
      this.log('[tracking] ' + sku); // Submit element for viewport tracking:

      lib_viewport__WEBPACK_IMPORTED_MODULE_3__["default"].trackElement(el, function () {
        // Re-attempt to acquire iframe element once we're ready to report:
        // This assumes that a placeholder may not yet have had an iframe in it before.
        embedEl = embedEl || getEmbedIframe();

        if (embedEl) {
          // Report view via the volume iframe, if available.
          // Basically, we send a message to the iframe
          // telling it to tell us that it was viewed.
          // Crazy, but the advantage here is that the video
          // can report using its full Volume meta data.
          volume.log('[view] ' + sku);
          setTimeout(function () {
            volume(embedEl).request('view', document.title);
          }, 100);
        } else {
          // Otherwise, report a generic event...
          // do we still want to do this?
          volume.log('[view fallback] ' + sku);
          volume.reportEvent({
            eventCategory: 'video',
            eventAction: ['volume', 'view', placement].join(':'),
            eventLabel: [document.title, el.getAttribute('data-volume-id') || uuid].join(' | '),
            nonInteraction: true
          });
        }
      }, 0.1);
    }
  };
  /**
  * Posts a message to all Volume iframes.
  * Optionally allows for one origin source to be excluded.
  * @param {String|Object} message to send all Volume iframes.
  * @param {String} [value] to send along with the message.
  * @param {Window} exclude window source; useful for proxying out messages from a sender.
  */


  volume.postToAll = function (message, value, excludeSrc) {
    var embeds = this.selectAllEmbeds();

    for (var i = 0; i < embeds.length; i++) {
      var src = xframe.src(embeds[i]);

      if (src !== excludeSrc) {
        xframe.post(src, message, value);
      }
    }
  };
  /**
  * Sends a pause message to all Volume iframes.
  */


  volume.stopAll = function () {
    this.postToAll('pause');
  };
  /**
  * Generates a content mask to place over sensitive videos.
  */


  volume.contentMask = function (maskText) {
    return maskText ? '<div class="c-image-mask" onclick="this.parentNode.removeChild(this);return false;"><div>' + maskText + '</div><b>Tap to display</b></div>' : '';
  };
  /**
  * Volume Client Object
  * Creates a wrapper around a embedded content frame,
  * and handles all cross-frame communication with that embed.
  * @param {String|Element|Window} target selector or element of the iframe/window to harness.
  * @constructor
  */


  function VolumeClient(target) {
    if (!xframe) throw 'volume is not installed';
    this.el = xframe.src(target);
  }

  VolumeClient.prototype = {
    /**
    * Sends a "play" message to the video client.
    * @param {Object} options; include "request: true" for message confirmation.
    * volume('#my-embed').play();
    * volume('#my-embed').play({ request: true });
    */
    play: function play(opts) {
      var PLAY = 'play';
      return opts && opts.request ? this.request(PLAY) : this.post(PLAY);
    },

    /**
    * Sends a "pause" message to the video client.
    * @param {Object} options; include "request: true" for message confirmation.
    * @example
    * volume('#my-embed').pause();
    * volume('#my-embed').pause({ request: true });
    */
    pause: function pause(opts) {
      var PAUSE = 'pause';
      return opts && opts.request ? this.request(PAUSE) : this.post(PAUSE);
    },

    /**
    * Posts a message and value to the video client.
    * This is a blind post without guarentee that the message will go through
    * (messages may fail if the client frame is not yet fully initialized).
    * Use `request` to post a message with confirmation of receipt.
    * @param {String|Object} message string or formatted object to send.
    * Passing an object requires that a "message" key be provided.
    * @param {Any} [value] an optional value to send with the message.
    * @returns {VolumeClient} self reference.
    * @example
    * volume('#my-embed').post('hello');
    * volume('#my-embed').post('hello', 'world');
    * volume('#my-embed').post({ message: 'hello', data: true });
    */
    post: function post(message, value) {
      if (xframe) xframe.post(this.el, message, value);
      return this;
    },

    /**
    * Posts a message to a video client with request for confirmation.
    * This implementation polls the client frame with the posted message
    * until the frame sends back a confirmation response.
    * Use this method to (better) guarentee delivery.
    * @param {String} message string to send.
    * @param {Any} [value] an optional value to send with the message.
    * @param {Function} callback function to handle response.
    * @returns {VolumeClient} self reference.
    */
    request: function request(message, value, callback) {
      if (xframe) xframe.request(this.el, message, value, callback);
      return this;
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (volume);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/lib/viewport.js":
  /*!*****************************************************!*\
    !*** ./app_unison/frontend/scripts/lib/viewport.js ***!
    \*****************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /**
  * <p>Manages the tracking and callback of elements entering the viewport.
  * This is designed as a generic service to allow any element from any component
  * to callback upon entering the viewport.</p>
  *
  * <p>Callbacks may be configured to occur when the element is just
  * outside or inside of the viewport.</p>
  *
  * @example
  * import Viewport from 'lib/viewport';
  *
  * Viewport.trackElement(<element>, function(el) {
  *   console.log('Hey, this is coming into view: ', el);
  * });
  *
  * @module lib/viewport
  */

  var Viewport = {
    els: [],
    _h: null,
    // Height cache
    _t: null,
    // Top cache
    _b: null,
    // Bottom cache

    /**
     * Tests all tracked elements, and invokes callback for visible elements:
     * Elements are omitted from the tracking after being called,
     * UNLESS their callback returns `true` indicating to keep the element tracked.
     * @returns {undefined}
     * @private
     */
    callElementsInViewport: function callElementsInViewport() {
      for (var i = this.els.length - 1; i >= 0; i--) {
        var trackable = this.els[i];

        if (this.testElementInViewport(trackable.el, trackable.t)) {
          var keep = trackable.fn.call(null, trackable.el);
          if (!keep) this.els.splice(i, 1);
        }
      }
    },

    /**
     * Tests a single element for visibility within the viewport.
     * @param {Element} element instance to test.
     * @param {Number} [tolerance] percentage to expand or contract viewport bounding checks.
     * <ul>
     *   <li>Specify a negative percentage (<code>-0.5</code>) to broaden bounding checks to see outside of the viewport.
     *   No limit on allowed percentage.</li>
     *   <li>Specify zero (<code>0</code>) to perform bounding checks using the actual viewport bounds.</li>
     *   <li>Specify a positive percentage (<code>0.25</code>) to narrow bounding checks to a limited space within the visible viewport.
      *   Maximum limit of 0.5 percent (half-height reduction from both top and bottom of viewport).</li>
     * </ul>
     * @returns {Boolean} true if element is within the tracked viewport range.
    * @example
    * import viewport from 'lib/viewport';
    *
    * viewport.testElementInViewport(<element>);
    * viewport.testElementInViewport(<element>, 0);
    */
    testElementInViewport: function testElementInViewport(el) {
      var tolerance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      var viewportHeight = this._h; // Test for height, and compute as needed:

      if (!viewportHeight) {
        viewportHeight = this._h = window.innerHeight || document.documentElement.clientHeight;
      } // Maintain `_t` and `_b` properties for testing validations:


      var viewportTop = this._t = tolerance * viewportHeight;
      var viewportBottom = this._b = viewportHeight - viewportTop;
      var bb = el.getBoundingClientRect();
      return bb.top >= viewportTop && bb.top <= viewportBottom || bb.bottom >= viewportTop && bb.bottom <= viewportBottom;
    },

    /**
     * Adds an element to the trackable queue.
     * @param {Element} element to track within viewport.
     * @param {Function} function to invoke upon entering viewport.
     * @param {Number} [tolerance] percentage to expand or contract viewport bounding checks.
     * @returns {undefined}
    * @example
    * import viewport from 'lib/viewport';
    *
    * viewport.trackElement(<element>, function(el) {
    *   console.log('Hey, this is coming into view: ', el);
    * });
     */
    trackElement: function trackElement(el, fn, tolerance) {
      var keep = true; // Test if element is already in viewport.
      // if so, callback immediately:

      if (this.testElementInViewport(el, tolerance)) {
        keep = fn(el);
      } // If we're keeping the element even after calling it,
      // then add it into the queue:


      if (keep) {
        this.els.push({
          el: el,
          fn: fn,
          t: tolerance
        }); // Initialize scroll tracking:
        // (this will only allow itself to run once)

        if (!this._init) {
          this._init = true;
          window.addEventListener('scroll', lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].throttle(this.callElementsInViewport, 200, this));
          window.addEventListener('resize', lib_utils__WEBPACK_IMPORTED_MODULE_0__["default"].throttle(this.refresh, 200, this));
        }
      }
    },

    /**
    * Refreshes the viewport by clearing cached dimensions,
    * and then re-checking all elements.
    * @private
    */
    refresh: function refresh() {
      this._h = null;
      this.callElementsInViewport();
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (Viewport);

  /***/ }),

  /***/ "./app_unison/frontend/scripts/models/context.js":
  /*!*******************************************************!*\
    !*** ./app_unison/frontend/scripts/models/context.js ***!
    \*******************************************************/
  /*! exports provided: default, currentUser, currentMember, currentCommunity, currentNetwork, currentOrganization */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "currentUser", function() { return currentUser; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "currentMember", function() { return currentMember; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "currentCommunity", function() { return currentCommunity; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "currentNetwork", function() { return currentNetwork; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "currentOrganization", function() { return currentOrganization; });
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-cookie */ "./node_modules/js-cookie/src/js.cookie.js");
  /* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(js_cookie__WEBPACK_IMPORTED_MODULE_3__);
  /* global Chorus: false */

  /**
  * <p>Context manages data for the current session state.
  * This includes data for the current user, member, community, network, and organization.</p>
  *
  * <p><b>Structure</b><br>
  * The Context model is actually five models in one, and is designed to mirror the
  * structure of the core Chorus model architecture:</p>
  * <ul>
  *   <li><code>currentUser</code> mirrors Chorus <code>current_user</code></li>
  *   <li><code>currentMember</code> mirrors Chorus <code>current_member</code></li>
  *   <li><code>currentCommunity</code> mirrors Chorus <code>current_community</code></li>
  *   <li><code>currentNetwork</code> mirrors Chorus <code>current_network</code></li>
  *   <li><code>currentOrganization</code> mirrors Chorus <code>current_organization</code></li>
  * </ul>
  * <p>Each of these models may be imported and observed individually. Note that
  * the data available on each of these models is only a subset of their Chorus equivalent.</p>
  *
  * <p><b>Fetching</b><br>
  * These models must load data asynchronously via ajax. Therefore, whenever you need to
  * access data from one of these models, you MUST first call <code>fetch</code> on the model,
  * and then chain a callback onto the fetch promise (see example below). Alternatively,
  * you may bind listeners onto the model and simply handle updates whenever the model
  * changes (though remember to still call <code>fetch</code> to start loading data).</p>
  *
  * <p>All of these models (user, member, community, network, and organization) fetch data through
  * a single ajax request that loads data for all models. Technically, fetching one
  * model will fetch all others, however you should still treat these models as if they
  * each make standalone requests (to avoid dependencies in how the models are used).
  * Under the hood, the Context module caches the one ajax request made, and returns that
  * for all subsequent fetches. Thus, there is <em>no</em> performance penalty for
  * calling <code>fetch</code> repeatedly across one or more Context models. So, the rule is:
  * if you need data from one of these models, call <code>fetch</code> on it and trust
  * data to only load once.</p>
  *
  * <p><b>Importing</b><br>
  * The Context module exports a singleton instance of each of its models,
  * so just import and use those existing instances.</p>
  *
  * @example
  * // Note the syntax for importing individual models...
  * import { currentUser } from 'lib/context';
  * import { currentMember } from 'lib/context';
  * import { currentCommunity } from 'lib/context';
  * import { currentNetwork } from 'lib/context';
  * import { currentOrganization } from 'lib/context';
  *
  * // Promise callback (for async procedures)
  * currentUser.fetch().then(function() {
  *   // ... you can now safely access currentUser data ...
  * });
  *
  * // -- OR --
  *
  * // Event binding (for indefinite state handling)
  * currentMember.on('change', function() {
  *   // ... update with the new state of currentMember ...
  * });
  *
  * // Don't forget to call fetch to make sure data gets loaded!
  * currentMember.fetch();
  *
  * @module models/context
  */



   // privacy constants

  var preferenceCookie = 'chorus_preferences';
  var defaultPreferences = {
    cookies: 'none',
    doNotSell: false
  }; // Detects privacy consent page mode.
  // Instructs the model to block all user login data.

  var preferencesVersion = 1;
  var gdprConsent = document.cookie.indexOf('_chorus_geoip_continent=EU') > -1 && document.cookie.indexOf('_chorus_privacy_consent=') === -1;
  var privacyMode = gdprConsent || document.cookie.indexOf('_chorus_ccpa_consent_donotsell') > -1;
  /**
  * Makes models jointly-fetchable through the context.
  * Individual models (User, Member, etc) defer to context to make a single network request,
  * and then allows context to handle populating each model with loaded data.
  * These fetchable methods allow any method to request loading and observe fetch state.
  * @mixin
  */

  var Fetchable = {
    /**
    * Starts fetching context data once,
    * and then returns the same XHR promise thereafter.
    * There is no penalty for calling this method numerous times among multiple context models.
    * Repeat calls will simply bounce off the existing XHR promise.
    * Use this method by chaining onto the returned promise.
    *
    * @params {Object} options an object with option params. Accepts all Backbone options, as well as:
    * <ul><li>`reload`: reloads context data with a new Ajax request</li></ul>
    * @returns {Promise}
    *
    * @example
    * import { modelName } from 'lib/context';
    * modelName.fetch().then(function() { ... });
    */
    fetch: function fetch(opts) {
      return this.ctx._fetch(opts);
    },

    /** Resets the model to a blank (default) state */
    reset: function reset() {
      this.set(this.defaults, {
        silent: true
      });
    }
  };
  var Context = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(
  /** @lends module:models/context.Context.prototype */
  {
    /**
    * <p><b>For internal context use ONLY. Do not interface with directly.</b></p>
    * <p>This is The One Model to Rule Them All,
    * and thus handles the fetching, caching, and seeding of all child models.
    * This model is for internal context use. Do not interface with this model directly.
    * Instead, import the individual models (currentUser, currentMember, etc)
    * and interface with them individually.</p>
    * @constructs
    * @mixes Fetchable
    */
    url: '/services/user_context' + (privacyMode ? '?privacy=true' : ''),
    log: [],
    defaults: {
      auth_url: '',
      login_url: '',
      env: null,
      messaging: '',
      privacy: privacyMode,
      tos_notifications: [],
      preferences: {
        v: preferencesVersion,
        privacy: defaultPreferences
      }
    },
    initialize: function initialize() {
      var u, m, c, n, o; // Load preferences from cookie,
      // If it doesn't exist, or is an older version, overwrite with defaults
      // If cookies isn't valid JSON, overwrite it with defaults

      try {
        var cookiePreferences = js_cookie__WEBPACK_IMPORTED_MODULE_3___default.a.getJSON(preferenceCookie);

        if (cookiePreferences && cookiePreferences.v == preferencesVersion) {
          this.set('preferences', cookiePreferences);
        } else {
          this.writePreferencesToCookie();
        }
      } catch (_unused) {
        this.writePreferencesToCookie();
      }
      /**
      * The currentUser model singleton. Import and use this directly.
      * @example
      * import { currentUser } from 'models/context';
      * @type {context.User}
      */


      this.currentUser = u = new User();
      /**
      * The currentMember model singleton. Import and use this directly.
      * @example
      * import { currentMember } from 'models/context';
      * @type {context.Member}
      */

      this.currentMember = m = new Member();
      /**
      * The currentCommunity model singleton. Import and use this directly.
      * @example
      * import { currentCommunity } from 'models/context';
      * @type {context.Community}
      */

      this.currentCommunity = c = new Community();
      /**
      * The currentNetwork model singleton. Import and use this directly.
      * @example
      * import { currentNetwork } from 'models/context';
      * @type {context.Network}
      */

      this.currentNetwork = n = new Network();
      /**
      * The currentOrganization model singleton. Import and use this directly.
      * @example
      * import { currentOrganization } from 'models/context';
      * @type {context.Organization}
      */

      this.currentOrganization = o = new Organization(); // Assign all context references for fetchable members:

      u.ctx = m.ctx = c.ctx = n.ctx = o.ctx = this.ctx = this;
    },
    parse: function parse(data) {
      if (privacyMode) {
        data.user = data.member = {};
      }

      this.currentUser.set(data.user || {});
      this.currentMember.set(data.member || {});
      this.currentCommunity.set(data.community || {});
      this.currentNetwork.set(data.network || {});
      this.currentOrganization.set(data.organization || {}); // Delete model fields from seed data:

      ['user', 'member', 'community', 'network', 'organization'].forEach(function (key) {
        delete data[key];
      }); // only include applicable notifications

      if (data.tos_notifications) {
        var uniqueNotices = {};
        data.tos_notifications = data.tos_notifications.filter(function (notice) {
          var relevant = !uniqueNotices[notice.id];

          if (relevant && notice.geo_continent_constraint) {
            relevant = document.cookie.indexOf('_chorus_geoip_continent=' + notice.geo_continent_constraint) >= 0;
          }

          if (relevant) {
            uniqueNotices[notice.id] = true;
          }

          return relevant;
        });
      }

      return data;
    },

    /*
    * Starts fetching the model once, and then perpetually returns the XHR receipt:
    * Use this by chaining onto the returned promise.
    * There is no penalty for calling this method numerous times among multiple components.
    * Repeat calls will simply bounce off the existing XHR promise.
    */
    _fetch: function _fetch(opts) {
      var _this = this;

      if (!this._ajax) {
        this.log.push('fetch');
        this._ajax = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.prototype.fetch.call(this, opts).done(function () {
          return _this.log.push('fetch complete');
        });
      }

      return this._ajax;
    },

    /*
    * Starts fetching the user model once, and then perpetually returns the XHR receipt:
    * Use this by chaining onto the returned promise.
    * There is no penalty for calling this method numerous times among multiple components.
    * Repeat calls will simply bounce off the existing XHR promise.
    */
    fetchUser: function fetchUser(opts) {
      var _this2 = this;

      if (opts && opts.refresh) {
        this.currentUser.reset();
        this._user = null;

        if (typeof Chorus === 'object') {
          Chorus.ssoLogin = null;
        }
      }

      if (!this._user) {
        var deferred = this._user = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.Deferred();
        this.log.push('Fetching Primary Context');

        this._fetch().done(function () {
          _this2.log.push('Primary complete, with user: ' + _this2.currentUser.get('id')); // Initial context fetch is complete, check for user ID...


          if (_this2.currentUser.get('id') || privacyMode) {
            return deferred.resolve();
          } // User is not logged in (no user id).
          // Installing SSO services...


          var ssoUrl = _this2.get('auth_url') + '/sso/unison_request?community_id=' + _this2.currentCommunity.get('id') + '&t=' + Date.now();

          _this2.log.push('Fetching SSO-1: ' + ssoUrl);

          lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].loadScript(ssoUrl, function () {
            _this2.log.push('SSO-1 complete, with status: ' + Chorus.ssoLogin); // SSO services installed, check for user login...


            if (!Chorus.ssoLogin) {
              return deferred.resolve();
            } // User may log in (an SSO login endpoint was provided).
            // Installing personalized SSO script to log the user in...


            var ssoLoginUrl = Chorus.ssoLogin;
            Chorus.ssoLogin = null;

            _this2.log.push('Fetching SSO-2: ' + ssoLoginUrl);

            lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].loadScript(ssoLoginUrl, function () {
              _this2.log.push('SSO-2 complete, with status: ' + Chorus.ssoLogin); // Personalized login script installed, confirming login...


              if (!Chorus.ssoLogin) {
                return deferred.resolve();
              } // User is logged in.
              // Refetching user context with new logged-in session state....


              _this2.log.push('Fetching Secondary Context');

              _this2.url += '?t=' + Date.now();
              exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.prototype.fetch.call(_this2, opts).done(function () {
                _this2.log.push('Secondary complete, with user: ' + _this2.currentUser.get('id'));

                deferred.resolve();
              });
            });
          });
        });
      }

      return this._user.promise();
    },

    /**
    * Specifies if the current environment is a production server.
    */
    isProd: function isProd() {
      return this.get('env') === 'production';
    },

    /**
     * Set preferences wrapper.  Required to get around events not triggering
     */
    setPreferences: function setPreferences(preferences) {
      this.set('preferences', preferences);
      this.writePreferencesToCookie();
      return this;
    },

    /**
    * Write preferences to cookie
    */
    writePreferencesToCookie: function writePreferencesToCookie() {
      var options = {
        expires: 365,
        secure: true
      };
      js_cookie__WEBPACK_IMPORTED_MODULE_3___default.a.set(preferenceCookie, this.get('preferences'), options);
    }
  }, Fetchable));
  var User = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(Fetchable,
  /** @lends module:models/context.User.prototype */
  {
    /**
    * This model manages data for the current user.
    * Mirrors the Chorus <code>current_user</code> model.
    *
    * @example
    * import { currentUser } from 'models/context';
    *
    * currentUser.fetch().then(function() {
    *   if (currentUser.isLoggedIn()) { ...
    * });
    *
    * @mixes Fetchable
    * @constructs
    */

    /*
    * User data attributes
    * to be pre-emptively populated from localStorage,
    * then fetched from Chorus to confirm login status.
    */
    defaults: {
      account_settings_url: null,
      ban_acknowledgement_needed: false,
      can_edit: false,
      contributor_agreement_accepted: false,
      country: null,
      edit_profile_url: null,
      email: null,
      first_name: null,
      id: null,
      is_network_member: false,
      is_community_member: false,
      last_login: null,
      last_name: null,
      network_admin: false,
      profile_image_url: null,
      profile_url: null,
      status: null,
      time_zone: null,
      username: null,
      user_version: null,
      geo: null,
      passes_paywall: false,
      paywall_member_id: null,
      auth0_id: null,
      must_verify_email: false
    },
    fetch: function fetch(opts) {
      return this.ctx.fetchUser(opts);
    },

    /**
    * Specifies if the current user is logged in (or, if they have a user ID).
    */
    isLoggedIn: function isLoggedIn() {
      return !!this.get('id');
    }
  }));
  var Member = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(Fetchable,
  /** @lends module:models/context.Member.prototype */
  {
    /**
    * This model manages data for the current user's community membership.
    * Mirrors the Chorus <code>current_member</code> model.
    *
    * @example
    * import { currentMember } from 'models/context';
    *
    * currentMember.fetch().then(function() { ... });
    *
    * @mixes Fetchable
    * @constructs
    */
    defaults: {
      ban_acknowledgement_needed: false,
      community_id: null,
      comment_count: null,
      display_on_masthead: false,
      favorite: false,
      last_visited_on: null,
      legacy_nickname: null,
      legacy_user_id: null,
      short_bio: null,
      status: null,
      user_id: null
    },
    fetch: function fetch(opts) {
      return this.ctx.fetchUser(opts);
    }
  }));
  var Organization = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(
  /** @lends module:models/context.Organization.prototype */
  {
    /**
    * This model manages data for the currently active organization.
    * Mirrors the Chorus <code>current_organization</code> model.
    *
    * @example
    * import { currentOrganization } from 'models/context';
    *
    * currentOrganization.fetch().then(function() { ... });
    *
    * @mixes Fetchable
    * @constructs
    */
    defaults: {
      domain: null,
      id: false,
      name: null
    }
  }, Fetchable));
  var Network = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(
  /** @lends module:models/context.Network.prototype */
  {
    /**
    * This model manages data for the currently active network.
    * Mirrors the Chorus <code>current_network</code> model.
    *
    * @example
    * import { currentNetwork } from 'models/context';
    *
    * currentNetwork.fetch().then(function() { ... });
    *
    * @mixes Fetchable
    * @constructs
    */
    defaults: {
      domain: null,
      id: false,
      name: null,
      primary_community_url: '',
      primary_community_id: null
    }
  }, Fetchable));
  var Community = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(
  /** @lends module:models/context.Community.prototype */
  {
    /**
    * This model manages data for the currently active community.
    * Mirrors the Chorus <code>current_community</code> model.
    *
    * @example
    * import { currentCommunity } from 'models/context';
    *
    * currentCommunity.fetch().then(function() { ... });
    *
    * @mixes Fetchable
    * @constructs
    */
    defaults: {
      domain: null,
      id: false,
      name: null,
      terms_of_agreement: '',
      community_guidelines_url: null
    }
  }, Fetchable));
  var ctx = window.Context = new Context();
  /* harmony default export */ __webpack_exports__["default"] = (ctx);
  var currentUser = ctx.currentUser;
  var currentMember = ctx.currentMember;
  var currentCommunity = ctx.currentCommunity;
  var currentNetwork = ctx.currentNetwork;
  var currentOrganization = ctx.currentOrganization;

  /***/ }),

  /***/ "./app_unison/frontend/scripts/models/dynamic_images.js":
  /*!**************************************************************!*\
    !*** ./app_unison/frontend/scripts/models/dynamic_images.js ***!
    \**************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var lib_viewport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/viewport */ "./app_unison/frontend/scripts/lib/viewport.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /**
  * The DynamicImages model manages the loading of dynamically-sized image sources.
  * These images select their source URL based on presentation size and device pixel ratio.
  * This service accepts elements to load images for,
  * OR rectangle dimensions to acquire image sources for.
  *
  * <p><b>Lifecycle:</b><br>
  * <ol>
  * <li>Elements are added to the DynamicImages collection, and their display size is calculated.</li>
  * <li>Upon adding an image, a new debounced fetch cycle kicks off.</li>
  * <li>At the end of each fetch cycle, sized URLs are fetched by the collection for all pending images.</li>
  * <li>These bulk-loaded URLs are parsed into their individual image models.</li>
  * <li>Image models automatically populate their bound element with image data, when appropriate.</li>
  * </ol>
  *
  * <p>In addition to handling bulk-fetching of sized URLs,
  * the DynamicImages service also hooks model elements into viewport tracking
  * (ie: lazy loading) when requested. Simply pass a "lazy: true" option
  * while adding an element to have it lazy-load into the viewport.</p>
  *
  * <p>The DynamicImages module exports a singleton instance, so just import and use.</p>
  *
  * @example
  * import DynamicImages from 'models/dynamic_images';
  *
  * var image = DynamicImages.addEl(<element>, {
  * //--- One of: ---
  *  image_id: <chorus-image-id, preferred>,
  *  asset_id: <chorus-asset-id>,
  * //---
  *  lazy: <optional>,
  *  ratio: <optional>,
  *  placement_id: <optional>
  * });
  *
  * // -- OR --
  *
  * var image = DynamicImages.addRect(<width>, <height>, {
  * //--- One of: ---
  *  image_id: <chorus-image-id, preferred>,
  *  asset_id: <chorus-asset-id>,
  * //---
  * });
  *
  * @module models/dynamic_images
  */




  var __ID__ = 0;
  var DynamicImage = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(
  /** @lends module:models/dynamic_images.DynamicImage.prototype */
  {
    el: null,
    defaults: {
      image_id: null,
      asset_id: null,
      lazy: true,
      lazy_ready: false,
      placement_id: 'default',
      ratio: '*',
      variation: 1,
      url: null,
      format: 'jpg',
      // Optional height/width attributes:
      // These may be set to override (or replace) element dimensions.
      height: null,
      width: null
    },

    /**
    * <p>The DynamicImage model manages the measuring and loading of a sized image asset.
    * This model is unique in that it allows a DOM element to be attached directly to it,
    * wherein that element becomes a source of data for determining target image size.
    * This model also handles setting a sized URL to the element once it becomes available.
    * This model should <em>only</em> be created through the DynamicImages collection;
    * it should never be instanced directly.</p>
    *
    * <p><b>Fetching</b><br>
    * This model does not fetch its own data.
    * Instead, sized URLs are loaded in bulk for all dynamic images by the parent collection.
    * To create a dynamic image and fetch its data, simply add an element (with Chorus image ID)
    * into the DynamicImages collection.</p>
    *
    * @example
    * import DynamicImages from 'models/dynamic_images';
    *
    * DynamicImages.addEl(<element>, {
    * //--- One of: ---
    *  image_id: <chorus-image-id, preferred>,
    *  asset_id: <chorus-asset-id>,
    * //---
    *  lazy: <optional>,
    *  ratio: <optional>,
    *  placement_id: <optional>
    * });
    *
    * @augments Backbone.Model
    * @constructs
    */
    initialize: function initialize(data, opts) {
      var _this = this;

      // Attach view element:
      this.el = opts && opts.el;
      this.set('id', __ID__++, {
        silent: true
      }); // Configure lazy-loading behavior, if enabled:

      if (this.el && this.isLazy()) {
        this.el.className += ' lazy-image';
        lib_viewport__WEBPACK_IMPORTED_MODULE_2__["default"].trackElement(this.el, function () {
          _this.set('lazy_ready', true);

          _this.render();
        }, -0.5);
      } // Render upon changes to the image URL:


      this.listenTo(this, 'change:url', this.render);
      this.listenTo(this, 'change:image_id change:asset_id', this.reload);
    },

    /*
    * Renders the element view with the current url.
    * @private
    */
    render: function render() {
      var imageUrl = this.get('url'); // Abort if:
      // - we have no element.
      // - we have no imageUrl.
      // - lazy-loading is yet unfulfilled.

      if (!this.el || !imageUrl || this.isLazy() && !this.get('lazy_ready')) {
        return;
      } // Note: This is a maybe temporary fix for very large images loading for invisible elements.
      // Don't load image for element if element has no effective width/height
      // this appears to be more accurate than viewport position tracking
      // because if *any* of the element parents are "display: none" then it
      // will return 0 for both width and height


      if (this.el.offsetWidth === 0 && this.el.offsetHeight === 0) {
        return;
      } // Apply image URL:


      if (this.isImage()) {
        this.el.src = imageUrl;
      } else {
        // IMPORTANT: wrap URL in quotes so that ".../filter(webp)/..." will work.
        this.el.style.backgroundImage = 'url("' + imageUrl + '")';
      }

      if (this.isLazy()) {
        this.el.className += ' lazy-loaded';
      }
    },

    /**
    * Reloads the image source URL via Ajax:
    * Triggered when the image's image_id or asset_id changes.
    * (basically, this just blanks out request state and simulates a new model "add")
    */
    reload: function reload() {
      if (this.el) {
        this.el.className = this.el.className.replace(/\s?\blazy-loaded\b/, '');
      }

      this.requestKey = null;
      this.collection.load();
    },

    /**
    * Gets a numeric aspect ratio for the image:
    * @returns {Number} the aspect ratio as a fraction decimal.
    */
    aspectRatio: function aspectRatio() {
      var ratio = this.get('ratio');

      switch (ratio) {
        case 'cinema':
          return 16 / 9;

        case 'portrait':
          return 7.5 / 10;

        case 'standard':
          return 4.5 / 3;

        case '*':
          return 1;
      } // ok, none of this
      // should ever happen, per the schema,
      // but you never know what crap comes in


      if (typeof ratio === 'number') {
        // Scenario: 1.77
        return ratio;
      } else if (String(ratio).indexOf(':') > 0) {
        // Scenario: "16:9"
        ratio = ratio.split(':');
        return Number(ratio[0]) / Number(ratio[1]);
      } // Scenario: ¯\_(ツ)_/¯


      return parseFloat(ratio);
    },

    /**
    * Gets the element/rectangle width.
    * Enforces box ratio in the event that element has no width (0).
    */
    width: function width() {
      var px = window.devicePixelRatio || 1;
      return (this.get('width') || this.el.offsetWidth || arguments[0] || this.height(440) * this.aspectRatio()) * px;
    },

    /**
    * Gets the element/rectangle height.
    * Enforces box ratio in the event that element has no height (0).
    */
    height: function height() {
      var px = window.devicePixelRatio || 1;
      return (this.get('height') || this.el.offsetHeight || arguments[0] || this.width(780) / this.aspectRatio()) * px;
    },

    /**
    * Specifies if the element is a proper image tag.
    * @returns {Boolean} true if the element is an <img> tag.
    */
    isImage: function isImage() {
      return !!(this.el && this.el.tagName.toLowerCase() === 'img');
    },

    /**
    * Specifies if the element is configured for lazy loading.
    * @returns {Boolean} true if the element is set to lazy load,
    */
    isLazy: function isLazy() {
      return !!this.get('lazy');
    },

    /**
    * Generates and then returns the key we'll use to request the image URL with.
    * We're potentially requesting from one of two APIs:
    * <ul>
    *   <li>imgkeys: the newer Chorus image API</li>
    *   <li>asset_keys: the older Chorus assets API</li>
    * </ul>
    * This method generates and then caches the key used to request this image.
    * Subsequent invocations will return the cached key,
    * which is used later to look up the image's URL in the ajax response.
    * Once generated, a request key remains immutable until `reload` is called.
    * @params: a custom image type to set as the request format.
    */
    setRequestKey: function setRequestKey(format) {
      if (!this.requestKey) {
        if (format) this.set({
          format: format
        });
        this.requestKey = this._imageKey() || this._assetKey();
      }

      return this.requestKey;
    },
    // Key formatter for the "?imgkeys=..." API:
    _imageKey: function _imageKey() {
      var imageId = this.get('image_id');
      return imageId && [imageId, this.get('ratio'), this.get('variation'), this.width() + 'x' + this.height(), this.get('format')].join(':');
    },
    // Key formatter for "?asset_keys=..." API:
    _assetKey: function _assetKey() {
      var assetId = this.get('asset_id');
      return assetId && [assetId, this.width(), this.height()].join(':');
    }
  });
  var DynamicImages = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Collection.extend(
  /** @lends module:models/dynamic_images.DynamicImages.prototype */
  {
    model: DynamicImage,

    /**
    * Manages the set of all DynamicImage instances, and handles batch-fetching image data via ajax.
    * @augments Backbone.Collection
    * @constructs
    */
    initialize: function initialize() {
      this.listenTo(this, 'add', this.load);
      lib_user_agent__WEBPACK_IMPORTED_MODULE_1__["default"].imageFormats();
    },

    /**
    * Builds a URL for the API endpoint.
    * Only exposed for testing purposes.
    * @private
    */
    endpoint: function endpoint(imageKeys, assetKeys) {
      return '/services/optimally_sized_images?imgkeys=' + imageKeys.join(',') + '&asset_keys=' + assetKeys.join(',');
    },

    /**
    * Loads data for all pending dynamic images awaiting content.
    * Invoking this method starts a new debounced fetch cycle for bulk-loading pending models.
    * This method will automatically fire whenever an image is added to the collection,
    * therefore calling this method directly is discouraged (you probably don't need to).
    * To load an image, simply add its element to the collection.
    *
    * @example
    *
    * import DynamicImages from 'models/dynamic_images';
    *
    * DynamicImages.addEl(<element>, {
    * //--- One of: ---
    *   image_id: <chorus-image-id, preferred>,
    *   asset_id: <chorus-asset-id>,
    * //---
    *   ratio: <optional>,
    *   placement_id: <optional>
    * });
    */
    load: lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].debounce(function () {
      var _this2 = this;

      lib_user_agent__WEBPACK_IMPORTED_MODULE_1__["default"].imageFormats().then(function (formats) {
        var keys = _this2.models.filter(function (model) {
          return !model.requestKey;
        }).map(function (model) {
          return model.setRequestKey(formats.preferred);
        }).sort(); // De-duplicate the array of keys (only keeps unique and truthy asset keys):


        for (var i = keys.length - 1; i >= 0; i -= 1) {
          if (keys[i] === keys[i - 1] || !keys[i]) keys.splice(i, 1);
        } // Return early if we have no keys to request:


        if (!keys.length) return; // Filter keys into two groups for "imgkeys" and "asset_keys"

        var images = keys.filter(function (key) {
          return key.indexOf('x') > 0;
        });
        var assets = keys.filter(function (key) {
          return key.indexOf('x') < 0;
        }); // Construct collection URL and then fetch:
        // We include "preserve_asset_keys" so that the service sends back data using the keys we requested with.

        _this2.url = _this2.endpoint(images, assets);

        _this2.fetch();
      });
    }, 250),
    // Parse incoming data (invoked with newly-received ajax data):
    // We're not adding anything to the collection here,
    // but rather parsing the fetched URLs into their corresponding models.
    parse: function parse(data) {
      var urls = data.urls || {};
      return this.models.map(function (model) {
        return {
          id: model.id,
          url: urls[model.requestKey] || model.get('url')
        };
      });
    },

    /**
    * Add a dynamic image rectangle.
    * This rectangle will provide measurements for the requested image URL.
    * Requesting a rectangle will NOT auto-populate any display element.
    * @param {Number} width of the rectangle.
    * @param {Number} height of the rectangle.
    * @param {Object} data options used to configure the model.
    * @returns {undefined}
    * @example
    * import DynamicImages from 'models/dynamic_images';
    *
    * DynamicImages.addRect(<width>, <height>, {
    * //--- One of: ---
    *   image_id: <chorus-image-id, preferred>,
    *   asset_id: <chorus-asset-id>,
    * //---
    *   ratio: <optional>,
    *   placement_id: <optional>
    * });
    */
    addRect: function addRect(width, height, data) {
      data.width = width;
      data.height = height;
      return this.add(data);
    },

    /**
    * Adds a dynamic image element.
    * Provided element will be measured for dimensions, and then populated.
    * @param {Element} element to measure and populate.
    * @param {Object} data options used to configure the model.
    * @returns {undefined}
    * @example
    *
    * import DynamicImages from 'models/dynamic_images';
    *
    * DynamicImages.addEl(<element>, {
    * //--- One of: ---
    *   image_id: <chorus-image-id, preferred>,
    *   asset_id: <chorus-asset-id, regrettable>,
    * //---
    *   lazy: <optional>,
    *   ratio: <optional>,
    *   placement_id: <optional>
    * });
    */
    addEl: function addEl(element, data) {
      // Resolve element:
      if (element instanceof exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.$) element = element[0];
      if (!(element instanceof Element)) throw 'An element is required.'; // Resolve existing records:

      var existing = this.findByElement(element);
      if (existing) existing.set(data); // Return existing, or new:

      return existing || this.add(data, {
        el: element
      });
    },

    /**
    * Finds a DynamicImage model for a provided element:
    * @param {Element} element to find the model for.
    * @returns {DynamicImage} model for the specified element.
    */
    findByElement: function findByElement(el) {
      for (var i = 0; i < this.length; i += 1) {
        if (this.models[i].el === el) return this.models[i];
      }

      return null;
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (new DynamicImages());

  /***/ }),

  /***/ "./app_unison/frontend/scripts/models/entry_stats.js":
  /*!***********************************************************!*\
    !*** ./app_unison/frontend/scripts/models/entry_stats.js ***!
    \***********************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/ajax */ "./app_unison/frontend/scripts/lib/ajax.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /**
  * The Entries model manages the loading of entry stat data (comments, user recs, etc).
  * This is a batch-fetching model, similar to DynamicImages.
  *
  * <p><b>Lifecycle:</b></p>
  * <ol>
  * <li>Entry ids are added into the Entries collection.</li>
  * <li>Upon adding entries, a new debounced fetch cycle kicks off.</li>
  * <li>Data is loaded by the collection for all pending entries at the end of each fetch cycle.</li>
  * <li>Bulk-loaded data is parsed by the collection into individual entry models.</li>
  * </ol>
  *
  * <p>To use this model, add an entry ID into the collection,
  * and then bind "change" listeners onto the returned model.
  * Configure your views to re-render entry model data whenever it changes.</p>
  *
  * <p>The Entries module exports a singleton instance, so just import and use.</p>
  *
  * @example
  * import EntryStats from 'models/entry_stats';
  *
  * var entryStat = EntryStats.add({id: 12345678});
  *
  * entryStat.on('change', function() {
  *    // ... do your thang ...
  * });
  *
  * @module models/entry_stats
  */



  var EntryStat = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_ajax__WEBPACK_IMPORTED_MODULE_1__["default"].extend(
  /** @lends module:models/entry_stats.EntryStat.prototype */
  {
    /**
    * <p>The EntryStat model manages stats for a single entry.
    * These stats include comment counts, unread comments, and recommended state.
    * This model should <em>only</em> be created through the Entries collection;
    * it should never be instanced directly.</p>
    *
    * <p><b>Fetching</b><br>
    * This model does not fetch its own data.
    * Instead, data is loaded in bulk for all entries by the parent collection.
    * To create an entry and fetch its data, simply add an entry ID to the
    * parent collection and listen for events on the returned entry model.</p>
    *
    * <p><b>Recommending</b><br>
    * An Entry model manages the client-side recommended state for its entry,
    * and handles all Ajax transactions with the recommendation flags controller.
    * To present recommendation state, bind a "change:recommended_by_user" event
    * onto an entry model, and refresh the display whenever the entry model changes.</p>
    *
    * @example
    *
    * import EntryStats from 'models/entry_stats';
    *
    * // Create a new entry:
    * var entry = EntryStats.add({id: 12345678});
    *
    * // Listen to changes in the entry data:
    * entry.on('change', function() {
    *   // render presentation
    * });
    *
    * // Perform recommendation:
    * entry.recommend(true)
    *  .done(function() {
    *    // render success!
    *  })
    *  .fail(function(mssg) {
    *    // message failure
    *  });
    *
    * @augments Backbone.Model
    * @constructs
    */
    defaults: {
      comment_count: null,
      comment_unreads: 0,
      id: null,
      recommended_count: null,
      recommended_by_user: false,
      url: null
    },
    ajaxOptions: {
      method: 'post'
    },
    urls: {
      'rec': '/flags/recommend/:id.json',
      'unrec': '/flags/unflag/:id.json'
    },

    /**
    * Reloads model data from the server.
    * This flags the model as unrequested,
    * and then prompts the parent collection commence a new fetch cycle.
    */
    reload: function reload() {
      this._req = false;
      this.collection.load();
    },

    /**
    * Specifies if the model is recommended by the user.
    * @returns {Boolean}
    */
    isRecommendedByUser: function isRecommendedByUser() {
      return !!this.get('recommended_by_user');
    },

    /**
    * Sets the user-recommended state of the entry.
    * Attempts Ajax transaction, and then restores last valid state upon failure.
    * @param {Boolean} toggle state to enable/disable recommendation.
    * Inverts current state by default.
    * @returns {Promise}
    */
    recommend: function recommend(toggle) {
      var _this = this;

      var prevState = this.isRecommendedByUser();
      var prevCount = this.get('recommended_count');
      toggle = toggle === undefined ? !prevState : toggle; // Nothing to toggle:
      // return early with last Ajax request, or else a success stub.

      if (prevState === toggle) {
        return this._rec || this.ajaxStub({
          success: true
        });
      } // Cancel any existing in-progress action:
      // (this will abort any pending XHR transaction)


      if (this._rec) this._rec.cancel(); // Assign new data state:

      this.set({
        recommended_count: Math.max(0, prevCount + (toggle ? 1 : -1)),
        recommended_by_user: toggle
      }); // Sync via Ajax, with error rollback:

      this._rec = this.ajax(toggle ? 'rec' : 'unrec', {
        error: function error() {
          _this.set({
            recommended_count: prevCount,
            recommended_by_user: prevState
          });
        }
      });
      return this._rec;
    }
  }));
  var EntryStats = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Collection.extend(
  /** @lends module:models/entry_stats.EntryStats.prototype */
  {
    model: EntryStat,
    // API endpoint: available for testing purposes.
    endpoint: '/services/entry_stats?id=',

    /**
    * Manages the set of all Entry instances, and handles batch-fetching entry metadata via ajax.
    * @augments Backbone.Collection
    * @constructs
    */
    initialize: function initialize() {
      this.listenTo(this, 'add', this.load);
    },

    /**
    * Loads data for all pending entries awaiting content.
    * Invoking this method starts a new debounced fetch cycle for bulk-loading pending models.
    * This method will automatically fire whenever an entry is added to the collection,
    * therefore calling this method directly is discouraged.
    * To load a model, simply add its id to the collection and listen for its events.
    *
    * @example
    * // To load data, do this:
    * // the added entry ID will automatically bulk-load.
    * import EntryStats from 'models/entry_stats';
    *
    * var entry = EntryStats.add({id: 12345678});
    */
    load: lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].debounce(function () {
      var keys = this.models.filter(function (model) {
        return !model._req;
      }).map(function (model) {
        model._req = true;
        return model.id;
      }).sort(function (a, b) {
        // Sort IDs to maximize the chances of browser caching.
        // Sort descending to put higher IDs (newer content) first
        // (the API has caps on the number of lookups allowed per request,
        // so we want to make sure our newest content is serviced first).
        return Number(b) - Number(a);
      }); // De-duplicate the array of keys (only keeps unique and truthy entry IDs):

      for (var i = keys.length - 1; i >= 0; i -= 1) {
        if (keys[i] === keys[i - 1] || !keys[i]) keys.splice(i, 1);
      } // Return early if we have no keys to request:


      if (!keys.length) return; // Set collection endpoint and then go fetch:

      this.url = this.endpoint + keys.join(',');
      this.fetch();
    }, 250),

    /**
    * Parse incoming data (invoked with newly-received ajax data).
    * We're not adding anything to the collection here,
    * just parsing the fetched data into their corresponding models.
    * @private
    */
    parse: function parse(data) {
      // Map data into a table of id keys:
      data = data.reduce(function (memo, entry) {
        memo[entry.id] = entry;
        return memo;
      }, {}); // Return existing content, extended with loaded content.

      return this.models.map(function (model) {
        return lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(model.toJSON(), data[model.id] || {});
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (new EntryStats());

  /***/ }),

  /***/ "./app_unison/frontend/scripts/models/social_counts.js":
  /*!*************************************************************!*\
    !*** ./app_unison/frontend/scripts/models/social_counts.js ***!
    \*************************************************************/
  /*! exports provided: default, socialCountsForUrl */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "socialCountsForUrl", function() { return socialCountsForUrl; });
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_ajax__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/ajax */ "./app_unison/frontend/scripts/lib/ajax.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /**
  * <p>Fetches social counts for a URL (shares, likes, pins, etc).</p>
  * <p>The default model is preconfigured to fetch counts for the current page URL.
  * When fetching, a separate network request must be made for each social service,
  * so it is encouraged that you be judicious about the services requested.</p>
  * <p>If you need counts for a URL other than the current page, then you may
  * build a new model instance for the URL, and fetch counts through that model.</p>
  * <p>NOTE: Twitter social counts are no longer supported due to
  * <a href="https://blog.twitter.com/2015/hard-decisions-for-a-sustainable-platform">removal of the API</a>.</p>
  * @example
  * import SocialCounts from 'models/social_counts';
  *
  * // Fetch counts for the current page URL:
  * SocialCounts.fetch('pinterest', 'facebook', ...).always(function() {
  *   // ... all share counts are ready now (success or failure) ...
  *   var pins = SocialCounts.get('pinterest');
  *   var shares = SocialCounts.get('facebook_shares');
  * });
  *
  * // Bind events onto current page SocialCounts:
  * SocialCounts.on('change', function() { ... });
  *
  * // Fetch counts for another page URL:
  * var counts = SocialCounts.forUrl('https://aweso.me');
  * counts.fetch('pinterest', 'facebook', ...).always(function() {
  *   // ... all share counts are ready now (success or failure) ...
  * });
  * @module models/social_counts
  */



  var SocialCounts = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(lib_ajax__WEBPACK_IMPORTED_MODULE_1__["default"].extend(
  /** @lends models/social_counts.SocialCounts.prototype */
  {
    /** @constructs */
    urls: {
      facebook: 'https://api.facebook.com/method/links.getStats',
      linkedin: 'https://www.linkedin.com/countserv/count/share',
      pinterest: 'https://widgets.pinterest.com/v1/urls/count.json'
    },
    ajaxOptions: {
      method: 'get'
    },
    defaults: {
      url: location.href.split('?')[0],
      // "twitter" will always be blank now that the API has been removed...
      // the field is left so that components can still request the empty data.
      twitter: null,
      facebook: null,
      facebook_shares: null,
      facebook_likes: null,
      linkedin: null,
      pinterest: null
    },

    /**
    * Checks if there is a count available for the requested service.
    * Use this check instead of pulling a count number and testing its truthiness
    * (because zero is a valid count, but will fail truthiness checks).
    * @param {String} service name of the service count to check.
    * @returns {Boolean} true if a count number is available for the service.
    * @example
    * var count = '';
    * if (SocialCounts.hasCount('facebook')) {
    *   count = ' ('+ SocialCounts.get('facebook') +')';
    * }
    * this.$el.text('Shares' + count);
    */
    hasCount: function hasCount(service) {
      return typeof this.get(service) === 'number';
    },

    /**
    * Fetches data for the requested services.
    * Each service must be requested separately, so be judicious about what services are requested.
    * @param {...String} services the names of the services to fetch data for.
    * @returns {Promise} resolved after all requested services have been fetched.
    * @example
    * SocialCounts.fetch('pinterest', 'facebook').always(function() {
    *   // ... all social counts have loaded (success or failure) ...
    * });
    */
    fetch: function fetch() {
      for (var _len = arguments.length, services = new Array(_len), _key = 0; _key < _len; _key++) {
        services[_key] = arguments[_key];
      }

      // Create a pending cache:
      if (services[0] instanceof Array) services = services[0];
      var cache = this._c = this._c || {};
      var promises = [];

      for (var i = 0; i < services.length; i++) {
        var service = services[i];

        if (this.urls[service]) {
          if (!cache[service]) {
            cache[service] = this[service === 'facebook' ? '_fb' : '_other'](service);
          }

          promises.push(cache[service]);
        }
      }

      return lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].all(promises);
    },

    /**
    * Fetches data from the unique Facebook API.
    * @private
    */
    _fb: function _fb(service) {
      var _this = this;

      return this.ajax(service, {
        data: {
          urls: this.get('url'),
          format: 'json'
        },
        success: function success(res) {
          if (res && res.length) {
            _this.set({
              facebook: res[0].share_count,
              facebook_shares: res[0].share_count,
              facebook_likes: res[0].like_count
            });
          }
        }
      });
    },

    /**
    * Fetches data from the Pinterest and LinkedIn APIs,
    * all of which conveniently share the same prototcol and return format.
    * @private
    */
    _other: function _other(service) {
      var _this2 = this;

      return this.ajax(service, {
        dataType: 'jsonp',
        data: {
          url: this.get('url'),
          format: 'jsonp'
        },
        success: function success(res) {
          _this2.set(service, res.count);
        }
      });
    }
  }));
  /* harmony default export */ __webpack_exports__["default"] = (new SocialCounts());
  /**
  * Builds a counts model for another URL.
  * @param {String} other URL.
  * @returns {SocialCounts} a new SocialCounts model instance for the requested URL.
  */

  function socialCountsForUrl(url) {
    return new SocialCounts({
      url: url
    });
  }

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/ad_survey/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/ad_survey/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/ad_survey/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/main.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('apps/ad_survey', function (element, data) {
    new _scripts_main__WEBPACK_IMPORTED_MODULE_2__["default"](element, data);
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/ad_survey/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/ad_survey/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/main.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/ad_survey/scripts/main.js ***!
    \******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _views_survey_form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./views/survey_form */ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/views/survey_form.js");
  /* harmony import */ var _models_ad_survey__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./models/ad_survey */ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/models/ad_survey.js");
  /**
  * @module apps/ad_survey
  */


  /**
   * AdSurvey app bootstrapper.
   * @constructor
   */

  function AdSurvey(el, data) {
    this.model = new _models_ad_survey__WEBPACK_IMPORTED_MODULE_1__["default"](data);
    this.surveyFormView = new _views_survey_form__WEBPACK_IMPORTED_MODULE_0__["default"]({
      el: el,
      model: this.model
    });
  }

  /* harmony default export */ __webpack_exports__["default"] = (AdSurvey);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/models/ad_survey.js":
  /*!******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/ad_survey/scripts/models/ad_survey.js ***!
    \******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);

  var AdSurveyModel = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend({
    responses: [],
    initialize: function initialize(opts) {
      if (opts.ad_survey_running || false) {
        // parameterize responses
        var _responses = opts.responses || [];

        var response;

        for (var i = 0; i < _responses.length; i++) {
          response = _responses[i];
          this.responses.push({
            text: response,
            value: this.parameterize(response)
          });
        }
      }
    },
    parameterize: function parameterize(string) {
      return string.trim().replace(/[^a-zA-Z0-9-\s]/g, '').replace(/[^a-zA-Z0-9-]/g, '-').toLowerCase();
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (AdSurveyModel);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/tmpl/survey_form.html":
  /*!********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/ad_survey/scripts/tmpl/survey_form.html ***!
    \********************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<div class=\"c-ad-survey__form\">\n  <div class=\"c-ad-survey__form-intro\">\n    <p class=\"c-ad-survey__form-logo\">Vox Media User Survey</p>\n    <h2 class=\"c-ad-survey__form-header\">Help us improve our ads by sharing the primary reason(s) you use an ad blocker:</h2>\n    <p class=\"c-ad-survey__form-help\">Check all that apply</p>\n  </div>\n\n  <div class=\"c-ad-survey__form-body\">\n    <form method=\"post\" action=\"/surveys/ad\">\n      <% data.responses.forEach(function(response, index) { %>\n        <label class=\"c-ad-survey__form-label\">\n          <input class=\"c-ad-survey__form-checkbox p-checkbox\" type=\"checkbox\" name=\"reason_<%= index %>\" id=\"reason_<%= index %>\" value=\"<%= response.value %>\"/>\n          <%= response.text %>\n        </label>\n      <% }) %>\n\n      <label class=\"c-ad-survey__form-label\">\n        <input class=\"c-ad-survey__form-checkbox p-checkbox\" type=\"checkbox\" name=\"reason_6\" id=\"reason_6\" value=\"other\"/>\n        Other\n      </label>\n\n      <textarea class=\"c-ad-survey__form-textarea p-textarea\" name=\"details\" placeholder=\"Type your reason(s) here\"></textarea>\n\n      <input class=\"c-ad-survey__form-submit p-button\" type=\"submit\" value=\"Submit Response\">\n      <p class=\"c-ad-survey__form-help u-centered\">All responses are anonymous</p>\n    </form>\n  </div>\n\n</div>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/views/survey_form.js":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/ad_survey/scripts/views/survey_form.js ***!
    \*******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_ad_block_detector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/ad_block_detector */ "./app_unison/frontend/scripts/lib/ad_block_detector.js");
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");
  /* harmony import */ var _tmpl_survey_form_html__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tmpl/survey_form.html */ "./app_unison/frontend/stable/components/apps/ad_survey/scripts/tmpl/survey_form.html");
  /* harmony import */ var _tmpl_survey_form_html__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_tmpl_survey_form_html__WEBPACK_IMPORTED_MODULE_4__);





  var SurveyFormView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    template: Object(lib_template__WEBPACK_IMPORTED_MODULE_3__["default"])(_tmpl_survey_form_html__WEBPACK_IMPORTED_MODULE_4___default.a),
    html: '',
    events: {
      'click input[type="submit"]': 'submit'
    },
    storageKey: 'ad-survey-taken',
    initialize: function initialize(opts) {
      this.model = opts.model; // Show survey if:
      //  - user has not already taken survey
      //  - ad blocking software is detected

      if (lib_localstorage__WEBPACK_IMPORTED_MODULE_2__["default"].get(this.storageKey) !== 'yes' && lib_ad_block_detector__WEBPACK_IMPORTED_MODULE_1__["default"].isAdBlockEnabled()) {
        this.render();
      }
    },
    render: function render() {
      this.$el.html(this.template({
        responses: this.model.responses
      }));
      return this.$el;
    },
    submit: function submit(evt) {
      // Remember that user has take survey
      lib_localstorage__WEBPACK_IMPORTED_MODULE_2__["default"].set(this.storageKey, 'yes'); // Remove survey

      this.$el.remove();
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (SurveyFormView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/auth/index.js":
  /*!******************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/auth/index.js ***!
    \******************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/auth/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");



  var authAppLoaded = false; // Lazy module load:
  // the auth module is chunked out to load on-demand via code splitting

  function load(callback) {
    __webpack_require__.e(/*! import() | app-auth */ "app-auth").then(__webpack_require__.bind(null, /*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/auth/scripts/main.js")).then(function (module) {
      return callback(module["default"]);
    });
  } // Static DOM (for standalone signup and login pages)


  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('apps/auth', function (element, data) {
    load(function (AuthApp) {
      if (!authAppLoaded) {
        authAppLoaded = true;
        new AuthApp(element, data);
      }
    });
  }, {
    /**
    * Opens the auth widget in a modal dialog.
    * @param {Object} options data used to configure the Auth window. Accepts:
    * <ul><li>`action`: the auth screen to start on. Values include "login", "signup", "logout".</li></ul>
    * @example
    * import Auth from 'apps/auth';
    * Auth.open({ action: 'login' });
    */
    open: function open(opts) {
      load(function (AuthApp) {
        return AuthApp.modal(opts);
      });
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/auth/index.scss":
  /*!********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/auth/index.scss ***!
    \********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/buying_guide/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/buying_guide/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/buying_guide/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/buying_guide/scripts/main.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('apps/buying_guide', function (element, data) {
    new _scripts_main__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/buying_guide/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/buying_guide/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/buying_guide/scripts/main.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/buying_guide/scripts/main.js ***!
    \*********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var lib_viewport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/viewport */ "./app_unison/frontend/scripts/lib/viewport.js");
  /* harmony import */ var lib_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/modal */ "./app_unison/frontend/scripts/lib/modal.js");






  var BuyingGuideView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {
      models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].fetch().then(function () {
        if (models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].get('can_admin')) {
          jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-buying-guide__item_title').each(function (index) {
            jquery__WEBPACK_IMPORTED_MODULE_2___default()(this).append('<a data-entry-admin="' + index + '" href=""><svg class="is-active"><use xlink:href="#icon-settings"></use></svg></a>');
          });
        }
      });
      this.pullUrl();
      this.applyFilters();
      this.showModal();
    },

    /**
     * Shows a modal with a single item if an item param is present in the URL.
     */
    showModal: function showModal() {
      var params = lib_utils__WEBPACK_IMPORTED_MODULE_1__["default"].deparamitize(location.search);

      if ('item' in params && params.item != null) {
        lib_modal__WEBPACK_IMPORTED_MODULE_5__["default"].dialog(jquery__WEBPACK_IMPORTED_MODULE_2___default()('#buying_guide_item_' + params.item));
      }
    },

    /**
    * Pulls filter settings from the URL into current state.
    */
    pullUrl: function pullUrl() {
      var _this = this;

      this.filters = {};

      var params = lib_utils__WEBPACK_IMPORTED_MODULE_1__["default"].deparamitize(location.search);

      Object.keys(params).forEach(function (key) {
        var values = params[key].split('+').map(decodeURIComponent);

        if (/^filter/.test(key) && values.length) {
          _this.filters[key] = values;
        }
      });
    },

    /**
    * Pushes filter settings from current state into the URL.
    */
    pushUrl: function pushUrl() {
      var _this2 = this;

      var query = Object.keys(this.filters).map(function (key) {
        return _this2.filters[key].length ? key + '=' + _this2.filters[key].map(encodeURIComponent).join('+') : null;
      }).filter(function (param) {
        return !!param;
      });
      query = query.length ? '?' + query.join('&') : '';
      history.replaceState(this.filters, document.title, location.href.split('?')[0] + query);
    },

    /**
    * Applies current filters to visible grid items and selected toggles
    */
    applyFilters: lib_utils__WEBPACK_IMPORTED_MODULE_1__["default"].debounce(function () {
      var filters = this.filters;
      var $items = this.$('.c-buying-guide__items');
      var filteredIds = $items.children().get().map(function (item) {
        return item.id;
      });
      var filterCount = 0;
      Object.keys(filters).forEach(function (key) {
        filterCount += filters[key].length;
        if (!filters[key].length) return;
        var selector = filters[key].map(function (value) {
          return "[data-".concat(key, "~=\"").concat(value, "\"]");
        }).join(',');
        var matchedIds = $items.find(selector).get().map(function (item) {
          return item.id;
        });
        filteredIds = filteredIds.filter(function (id) {
          return matchedIds.indexOf(id) > -1;
        });
      }); // Toggle visible grid items

      if (filterCount) {
        $items.children().hide().filter(filteredIds.map(function (id) {
          return "#".concat(id);
        }).join(',')).show();
      } else {
        $items.children().show();
      } // Highlight selected filter boxes


      this.$('[data-filter-id]').each(function () {
        var $el = jquery__WEBPACK_IMPORTED_MODULE_2___default()(this);
        var id = $el.data('filter-id');
        var value = $el.data('filter-value');
        var selected = filters[id] && filters[id].indexOf(value) > -1;
        $el.toggleClass('selected', !!selected);
      });
      requestAnimationFrame(function () {
        return lib_viewport__WEBPACK_IMPORTED_MODULE_4__["default"].callElementsInViewport();
      });
      this.pushUrl();
    }, 50),
    events: {
      'click [data-filter-id]': 'onFilter',
      'click [data-entry-admin]': 'shareLink'
    },
    onFilter: function onFilter(evt) {
      var el = evt.currentTarget;
      var id = el.getAttribute('data-filter-id');
      var filters = this.filters[id] = this.filters[id] || [];
      var value = el.getAttribute('data-filter-value');
      var index = filters.indexOf(value);

      if (index > -1) {
        filters.splice(index, 1);
      } else {
        filters.push(value);
      }

      this.applyFilters();
    },
    shareLink: function shareLink(evt) {
      evt.preventDefault();
      lib_modal__WEBPACK_IMPORTED_MODULE_5__["default"].dialog('<h4>Sharing URL</h4><input disabled="disabled" readonly type="text" size="75" value="' + window.location.href.split('?')[0] + '?item=' + evt.currentTarget.getAttribute('data-entry-admin') + '"/>');
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (BuyingGuideView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/comment_forum/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/comment_forum/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../auth */ "./app_unison/frontend/stable/components/apps/auth/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/comment_forum/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_viewport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/viewport */ "./app_unison/frontend/scripts/lib/viewport.js");
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");






  lib_initializer__WEBPACK_IMPORTED_MODULE_3__["default"].registerComponent('apps/comment_forum', function (element, data) {
    // Start method:
    // loads the comments script module and then launches the application.
    function start() {
      // only allow this method to execute once:
      if (!start.called) {
        start.called = true;
        window.removeEventListener('keydown', launchKey);
        models_context__WEBPACK_IMPORTED_MODULE_5__["currentUser"].fetch().then(function () {
          __webpack_require__.e(/*! import() | app-comments */ "app-comments").then(__webpack_require__.bind(null, /*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/comment_forum/scripts/main.js")).then(function (module) {
            return new module["default"](element, data);
          });
        });
      }
    } // Start keyboard handler:
    // Listens for "C" or "Z" key presses to kick of application loading.


    function launchKey(evt) {
      var key; // Ignores key presses within input fields on the page, or when used with control keys.

      if (!/textarea|input/i.test(document.activeElement.tagName) && !evt.ctrlKey && !evt.metaKey) {
        /* eslint-disable indent */
        switch (evt.which) {
          case 67:
            key = 'c';
            break;

          case 90:
            key = 'z';
            break;
        }
        /* eslint-enable indent */

      }

      if (key) {
        document.body.scrollTop = document.getElementById('comments').offsetTop - window.innerHeight * 0.3;
        data.launchKey = key;
        start();
      }
    }

    window.addEventListener('keydown', launchKey);
    var selection = location.hash.slice(1);

    if (selection == 'comments') {
      start();
    } else if (/^\d+$/.test(selection)) {
      // Start immediately when we have a hash that looks like a comment ID:
      data.selection = Number(selection);
      start();
    } else {
      // Otherwise, startup lazily:
      lib_viewport__WEBPACK_IMPORTED_MODULE_4__["default"].trackElement(element, start);
    }
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_3__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/comment_forum/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/comment_forum/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/coral/index.js":
  /*!*******************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/coral/index.js ***!
    \*******************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.scss */ "./app_unison/frontend/stable/components/apps/coral/styles/index.scss");
  /* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");
  /* harmony import */ var lib_ajax__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/ajax */ "./app_unison/frontend/scripts/lib/ajax.js");
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");









  var LOCAL_STORAGE_KEY = 'coral_sso_jwt';
  var forceJWT = window.location.search.includes('forceJwt=true');
  var coralLogging = window.location.search.includes('coralLogging=true');
  var jwtVersion = 7;
  var accessObject = {
    token: null
  };
  var errorState = false;
  var initPriority = document.location.hash == '#comments' ? lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH : lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIUM; // INIT for coral 4

  function initTalk(element, opts) {
    /* eslint-disable */
    Coral.Talk.render(element, {
      /* eslint-enable */
      talk: opts.rootUrl,
      lazy: opts.lazyLoad,
      asset_id: opts.entryId,
      asset_url: opts.entryUrl,
      events: function events(_events) {
        _events.onAny(function trackEvent(eventName, data) {
          var eventMapping = {
            'action.TALK_FRAMEWORK_LOGOUT': 'sign_out',
            'action.TALK_FRAMEWORK_HANDLE_SUCCESSFUL_LOGIN': 'sign_in',
            'mutation.PostComment.success': 'post_comment',
            'mutation.EditComment.success': 'edit_comment',
            'mutation.CreateRespectAction.success': 'respect',
            'mutation.PostFlag.success': 'report',
            'action.SET_ACTIVE_REPLY_BOX': 'reply'
          };
          var action = eventMapping[eventName];

          if (action) {
            // Reply needs an empty id to indicate reply was successfully posted
            if (action === 'reply' && data.action.id.length > 0) return;
            lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].eventAutoFormat('coral_comment', action);
          }
        });
      }
    });
  }

  function fetchChorusAuthJWT() {
    return new Promise(function (resolve, reject) {
      models_context__WEBPACK_IMPORTED_MODULE_6__["currentUser"].fetch().then(function () {
        // if there's no current user, we need to be sure to clear out old jwt tokens
        if (!models_context__WEBPACK_IMPORTED_MODULE_6__["currentUser"].get('id')) {
          if (coralLogging) {
            console.log('anonymous user, don\'t request a JWT');
          }

          jwt = null;
          lib_localstorage__WEBPACK_IMPORTED_MODULE_5__["default"].remove(LOCAL_STORAGE_KEY);
          resolve();
        } else {
          var jwt = lib_localstorage__WEBPACK_IMPORTED_MODULE_5__["default"].get(LOCAL_STORAGE_KEY); // force reload from query param | test to see if the jwt has expired. 600k ms == 10 mins | force update for new version

          if (!forceJWT && jwt !== null && jwt.expiration * 1000 > Date.now() - 600000 && jwt.jwt_version === jwtVersion && jwt.userVersion === models_context__WEBPACK_IMPORTED_MODULE_6__["currentUser"].get('user_version') && jwt.lastLogin === models_context__WEBPACK_IMPORTED_MODULE_6__["currentUser"].get('last_login') && !models_context__WEBPACK_IMPORTED_MODULE_6__["currentUser"].get('must_verify_email')) {
            if (coralLogging) {
              console.log('using localstorage JWT');
            }

            accessObject = jwt;
            resolve(accessObject);
          } else {
            jwt = null;
            lib_localstorage__WEBPACK_IMPORTED_MODULE_5__["default"].remove(LOCAL_STORAGE_KEY);

            if (coralLogging) {
              console.log('requesting new JWT from SBN');
            }

            var Xhr = lib_ajax__WEBPACK_IMPORTED_MODULE_4__["default"].extend({
              ajaxOptions: {
                timeout: 3000
              },
              urls: {
                fetchToken: '/services/coral-jwt'
              }
            });
            Xhr.ajax('fetchToken', {
              error: function error() {
                errorState = true;

                if (coralLogging) {
                  console.log('jwt error');
                }

                resolve({
                  errorState: true
                });
              },
              success: function success(ret) {
                if (coralLogging) {
                  console.log('jwt loaded');
                }

                ret.jwt_version = jwtVersion;
                lib_localstorage__WEBPACK_IMPORTED_MODULE_5__["default"].set(LOCAL_STORAGE_KEY, ret);
                accessObject = ret;
                resolve(accessObject);
              }
            });
          }
        }
      });
    });
  }

  function loadCoral5Script(url, cacheVersion) {
    var src = "".concat(url, "/assets/js/embed.js");

    if (cacheVersion && typeof cacheVersion === 'string') {
      src += "?v=".concat(cacheVersion);
    }

    return new Promise(function (resolve, reject) {
      var d = document;
      var s = d.createElement('script');
      s.src = src;
      s.async = false;
      s.defer = true;

      s.onload = function () {
        resolve();
      };

      s.onerror = function () {
        reject();
      };

      (d.head || d.body).appendChild(s);
    });
  }

  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('apps/coral', function (element, data) {
    var container = document.getElementById('coral-talk');
    var embedUrl = "".concat(data.coral_root_url, "/static/embed.js");

    if (!data.coral_root_url) {
      if (coralLogging) {
        console.log('cannot load coral comments, no coral_root_url');
      }

      return;
    }

    if (data.coral_cache_version && typeof data.coral_cache_version === 'string') {
      embedUrl += "?v=".concat(data.coral_cache_version);
    }

    if (data.coral_version === 5) {
      var url = data.coral_root_url;
      var cacheVersion = data.coral_cache_version;
      var containerId = data.coral_container_id || 'coral_thread';
      Promise.all([fetchChorusAuthJWT(), loadCoral5Script(url, cacheVersion)]).then(function () {
        if (coralLogging) {
          console.log('fetchChorusAuthJWT and loadCoral5Script completed');
        }
        /* eslint-disable */


        if (window.Coral != undefined) {
          if (coralLogging) {
            console.log('window.Coral is defined');
          }
          /* eslint-enable */


          if (errorState || accessObject.userMustVerifyEmail || accessObject.userMustProvideEmail || accessObject.userBanned) {
            console.log('my log has a message for you');
            var verifyMessage = document.createElement('div');
            verifyMessage.classList.add('c-coral__verify-message');

            if (errorState) {
              verifyMessage.innerHTML = 'There was an error loading your account data.';
            } else if (accessObject.userBanned) {
              verifyMessage.innerHTML = "Your commenting account has been frozen, please contact <a href=\"mailto:".concat(data.moderation_email, "\">").concat(data.moderation_email, "</a> for more information.");
            } else if (accessObject.userMustProvideEmail) {
              verifyMessage.innerHTML = "You're signed in, but you must <a href=\"".concat(accessObject.editProfileUrl, "\">provide and verify your email address</a> before you can use the new commenting experience.");
            } else {
              verifyMessage.innerHTML = "You're signed in, but you must <a href=\"".concat(accessObject.verifyEmailUrl, "\">verify your email address</a> before you can use the new commenting experience.");
            }

            var comments = document.querySelector('#comments');
            comments.insertBefore(verifyMessage, comments.childNodes[0]);
          }

          if (coralLogging) {
            console.log('running Coral.createStreamEmbed');
          }
          /* eslint-disable */


          var stream = Coral.createStreamEmbed({
            /* eslint-enable */
            id: containerId,
            autoRender: true,
            rootURL: url,
            storyID: data.entry_id,
            storyURL: data.entry_url,
            customCSSURL: data.coral_css_url,
            customFontsCSSURL: data.coral_fonts_url,
            containerClassName: "rec-threshold-".concat(data.recommended_threshold),
            accessToken: accessObject.token,
            events: function events(_events2) {
              _events2.onAny(function trackEvent(eventName, data) {
                var eventMapping = {
                  'createComment.success': 'post_comment',
                  'createCommentReply.success': 'post_comment',
                  'editComment.success': 'edit_comment',
                  'createCommentReaction.success': 'respect',
                  'reportComment.success': 'report',
                  'setCommentsOrderBy': 'set_sort_order',
                  'unmarkAll': 'unmark_unread',
                  'jumpToNextUnseenComment': 'z_key_next',
                  'setProfileTab': 'set_profile_tab',
                  'ignoreUser.success': 'ignore_user',
                  'copyPermalink': 'copy_permalink'
                };
                var action = eventMapping[eventName];

                if (action) {
                  lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].eventAutoFormat('coral_comment', action);
                }
              });

              _events2.on('loginPrompt', function () {
                lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].eventAutoFormat('coral_comment', 'loginPrompt');
                location.href = "".concat(models_context__WEBPACK_IMPORTED_MODULE_6__["default"].get('login_url')).concat(encodeURIComponent(location.href));
              });
            }
          });
        }
      })["catch"](function (error) {
        var verifyMessage = document.createElement('div');
        verifyMessage.classList.add('c-coral__verify-message');
        verifyMessage.innerHTML = 'There was an error loading your account data.';
        var comments = document.querySelector('#comments');
        comments.insertBefore(verifyMessage, comments.childNodes[0]);

        if (coralLogging) {
          console.log('error loading coral ', error);
        }
      });
    } else if (data.lazy_load) {
      // Lazy load
      var script = document.createElement('script');
      script.async = true;
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).append(script);

      script.onload = function () {
        initTalk(container, {
          lazyLoad: true,
          rootUrl: data.coral_root_url,
          entryId: data.entry_id,
          entryUrl: data.entry_url
        });
      };

      script.src = embedUrl;
    } else {
      // Manual load by clicking "Show Comments"
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).find('button[data-ui-action="load_coral"]').on('click', function () {
        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.getScript(embedUrl, function () {
          initTalk(container, {
            lazyLoad: false,
            rootUrl: data.coral_root_url,
            entryId: data.entry_id,
            entryUrl: data.entry_url
          });
        });
      });
    }
  }, {
    priority: initPriority
  });
  window.fetchChorusAuthJWT = fetchChorusAuthJWT;

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/coral/styles/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/coral/styles/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/image_gallery/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/main.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('apps/image_gallery', function (element, data) {
    new _scripts_main__WEBPACK_IMPORTED_MODULE_2__["default"](element, data);
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/keyboard.js":
  /*!********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/keyboard.js ***!
    \********************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);

  /**
  * Gallery keyboard controller.
  * Responds to keyboard input,
  * then passes relevant signals along to the model.
  * @constructor
  */

  function ImageGalleryKeyboard(opts) {
    this.app = opts.app;
    this.enable();
  }

  ImageGalleryKeyboard.prototype = {
    ns: 'keydown.gallery',

    /**
    * Enables keyboard bindings for the component.
    */
    enable: function enable() {
      var _this = this;

      this.disable().on(this.ns, function (evt) {
        switch (evt.keyCode) {
          case 37:
            return _this.app.images.previous();

          case 39:
            return _this.app.images.next();
        }
      });
    },

    /**
    * Disables keyboard bindings for the component.
    */
    disable: function disable() {
      return jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).off(this.ns);
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (ImageGalleryKeyboard);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/resizer.js":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/resizer.js ***!
    \*******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");


  /**
  * Screen resize manager object that handles
  * updating the presentation when screen size changes.
  *
  * <p>This is a listen-only attachement:
  * nothing in the app should call directly to this feature.
  * This keeps all feature configuration contained in one place,
  * and makes it easy to disable the feature as needed.</p>
  * @param {Object} options used to pass "app" reference.
  * @constructor
  */

  function ImageGalleryResizer(opts) {
    this.app = opts.app;
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_1__["default"].debounce(this.update.bind(this), 200)).on('orientationchange', this.update.bind(this));
  }

  ImageGalleryResizer.prototype = {
    /**
    * Updates the app based on current screen size.
    * Handles re-rendering thumbnails to fit the screen.
    */
    update: function update() {
      this.app.galleryView.renderThumbs();
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (ImageGalleryResizer);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/router.js":
  /*!******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/router.js ***!
    \******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);

  var ImageGalleryRouter = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Router.extend(
  /** @lends ImageGalleryRouter.prototype */
  {
    /**
    * Gallery router manages the URL integration of the component.
    * This is an isolated behavior within the image gallery component:
    * nothing else relies on the router, by design.
    * The router simply pulls updates from the URL into the model,
    * and pushes updates from the model into the URL.
    * @constructs
    */
    initialize: function initialize(opts) {
      var _this = this;

      this.app = opts.app;
      this.listenTo(this.app.images, 'selection', this.push); // Auto-push initial state after a brief setup window...
      // It helps to not be changing the URL in addition to everything else
      // happening during page initialization.

      setTimeout(function () {
        _this.push();
      }, 1000); // Make sure that the window is the top window to prevent iframe
      // funkiness when viewing a preview in Anthem
      // Make sure history isn't reinitialized if there are two
      // galleries on the page

      if (window.top === window && !exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.History.started) {
        exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.history.start();
      }
    },
    routes: {
      ':slug': 'pull'
    },

    /**
    * Pulls an update from the URL into the model.
    * @param {String} slug getting pulled into the model.
    * @returns {undefined}
    */
    pull: function pull(slug) {
      this.app.images.selectBySlug(slug);
    },

    /**
    * Pushes an update from the model into the URL.
    * @returns {undefined}
    */
    push: function push() {
      var model = this.app.images.selectedImage();
      this.navigate(model.get('slug'));
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (ImageGalleryRouter);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/main.js":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/main.js ***!
    \**********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var _models_images__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./models/images */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/models/images.js");
  /* harmony import */ var _views_gallery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/gallery */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/views/gallery.js");
  /* harmony import */ var _hooks_resizer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./hooks/resizer */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/resizer.js");
  /* harmony import */ var _hooks_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hooks/router */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/router.js");
  /* harmony import */ var _hooks_keyboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hooks/keyboard */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/hooks/keyboard.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");







  /**
  * Main image gallery application bootstrapper.
  * This is the main constructor for building image gallery application instances.
  * @param {Element} element to attach gallery application to.
  * @param {Object} data used to configure the component.
  * @module apps/image_gallery
  * @constructor
  */

  function ImageGallery(element, data) {
    var opts = {
      app: this
    };
    /**
    * The images collection for managing all application image data and selection state.
    * @type {GalleryImages}
    */

    this.images = new _models_images__WEBPACK_IMPORTED_MODULE_1__["default"](this.collectImageData(element));

    if (data.routing) {
      /**
      * The controller used to tether URL routing onto data actions.
      * @type {ImageGalleryRouter}
      */
      this.router = new _hooks_router__WEBPACK_IMPORTED_MODULE_4__["default"](opts);
    }

    if (data.keyboard) {
      /**
      * The controller used to tether keyboard controls onto data actions.
      * @type {ImageGalleryKeyboard}
      */
      this.keyboard = new _hooks_keyboard__WEBPACK_IMPORTED_MODULE_5__["default"](opts);
    }
    /**
    * The controller used to tether screen resize to display rendering.
    * @type {ImageGalleryResizer}
    */


    this.resizer = new _hooks_resizer__WEBPACK_IMPORTED_MODULE_3__["default"](opts);
    /**
    * The main gallery view used to control the viewer/thumb scroller interface.
    * @type {GalleryView}
    */

    this.galleryView = new _views_gallery__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      app: this
    });
  }

  ImageGallery.prototype = {
    /**
    * Collect gallery content out of the thumbnail listing DOM.
    * This data is bulky enough that passing it through `cdata` is prone to error.
    */
    collectImageData: function collectImageData(element) {
      var data = [];
      jquery__WEBPACK_IMPORTED_MODULE_0___default()(element).find('[data-ui="thumb"]').each(function () {
        var $thumb = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this);
        var thumbnail = $thumb.find('noscript').text();
        data.push({
          asset_id: $thumb.data('asset'),
          slug: $thumb.attr('data-slug'),
          // << use .attr() for raw, uncoerced slug string.
          caption: lib_utils__WEBPACK_IMPORTED_MODULE_6__["default"].unescape($thumb.find('.c-image-gallery__thumb-desc').html()).replace(/^[\s]+|[\s]+$/g, ''),
          title: lib_utils__WEBPACK_IMPORTED_MODULE_6__["default"].unescape($thumb.find('.c-image-gallery__thumb-title').html()).replace(/^[\s]+|[\s]+$/g, ''),
          thumb_url: thumbnail.replace(/.*src="([^"]*)".*/, '$1'),
          image_url: $thumb.find('a').first().attr('href')
        });
      });
      return data;
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (ImageGallery);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/models/images.js":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/models/images.js ***!
    \*******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var models_dynamic_images__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! models/dynamic_images */ "./app_unison/frontend/scripts/models/dynamic_images.js");


  var GalleryImage = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend(
  /** @lends module:apps/image_gallery.GalleryImage.prototype */
  {
    /**
    * Gallery Image model manages data for individual gallery images items.
    * This model will handle fetching dynamic-sizes versions of itself,
    * and fulfilling requests for the "full-sized" image from whatever
    * large image source (full-size or dynamic-sized) that it has available.
    * @constructs
    */
    defaults: {
      slug: '',
      asset_id: null,
      image_id: null,
      image_url: '',
      thumb_url: ''
    },

    /**
    * Requests the image at a given size (width/height).
    * In the current implementation, an image may only have one
    * dynamic-size request associated with it at a time.
    * @param {Number} width of rectangle to request.
    * @param {Number} height of rectangle to request.
    * @returns {undefined}
    */
    requestSize: function requestSize(width, height) {
      this._dyn = models_dynamic_images__WEBPACK_IMPORTED_MODULE_1__["default"].addRect(width, height, this.toJSON());
    },

    /**
    * Provides the fullsize URL for the image.
    * This is a dynamic image URL, if available,
    * or else the default fullsize image URL provided through component data.
    * @returns {String} the currently available fullsize URL.
    * This will either be the dynamic-sized image URL, or else the default fullsize image.
    */
    fullsizeURL: function fullsizeURL() {
      return this._dyn && this._dyn.get('url') || this.get('image_url');
    }
  });
  var GalleryImages = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Collection.extend(
  /** @lends module:apps/image_gallery.GalleryImages.prototype */
  {
    /**
    * Gallery Images collection manages a set of gallery images,
    * as well as the selection state of the currently selected image.
    * All navigation actions (previous/next/goto) are performed through this model.
    * This view will update itself to reflect new selection state here within the model.
    * @constructs
    */
    model: GalleryImage,
    _selection: 0,

    /**
    * Specifies the currently selected image index.
    * @returns {Number} the current selection index.
    */
    selectedIndex: function selectedIndex() {
      if (this.length < 1) return -1;
      return Math.max(0, Math.min(this._selection, this.length - 1));
    },

    /**
    * Accesses the currently selected image model.
    * @returns {GalleryImage} the currently selected gallery image model.
    */
    selectedImage: function selectedImage() {
      if (this.length < 1) return null;
      return this.at(this.selectedIndex());
    },

    /**
    * Accesses the currently selected slug name.
    * @returns {String} the currently selected gallery image slug.
    */
    selectedSlug: function selectedSlug() {
      var image = this.selectedImage();
      return image ? image.get('slug') : null;
    },

    /**
    * Selects the next model in the collection.
    * @returns {undefined}
    */
    next: function next() {
      if (this.length < 1) return;
      var index = this._selection + 1;
      this.selectByIndex(index < this.length ? index : 0);
    },

    /**
    * Selects the previous model in the collection.
    * @returns {undefined}
    */
    previous: function previous() {
      if (this.length < 1) return;
      var index = this._selection - 1;
      this.selectByIndex(index >= 0 ? index : this.length - 1);
    },

    /**
    * Sets the current selection by index reference.
    * @param {Number} index of the gallery image to select.
    * @returns {Boolean} true if the selection was modified.
    */
    selectByIndex: function selectByIndex(index) {
      if (index >= 0 && index < this.length && index != this._selection) {
        this._selection = index;
        this.trigger('selection');
        return true;
      }

      return false;
    },

    /**
    * Sets the current selection by slug reference.
    * @param {String} slug of the gallery image to select.
    * @returns {Boolean} true if the selection was modified.
    */
    selectBySlug: function selectBySlug(slug) {
      for (var i = 0; i < this.length; i++) {
        if (this.at(i).get('slug') === slug) {
          this.selectByIndex(i);
          return true;
        }
      }

      return false;
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (GalleryImages);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/tmpl/grid.html":
  /*!*****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/tmpl/grid.html ***!
    \*****************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<ul>\n  <% data.images.forEach(function(image) { %>\n  <li>\n    <a href=\"<%= image.image_url %>\" data-ui=\"thumb\" data-index=\"<%= data.index++ %>\">\n      <img src=\"<%= image.thumb_url %>\" alt=\"\">\n    </a>\n  </li>\n  <% }) %>\n</ul>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/views/gallery.js":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/views/gallery.js ***!
    \*******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_effects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/effects */ "./app_unison/frontend/scripts/lib/effects.js");
  /* harmony import */ var lib_viewport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/viewport */ "./app_unison/frontend/scripts/lib/viewport.js");
  /* harmony import */ var lib_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/modal */ "./app_unison/frontend/scripts/lib/modal.js");
  /* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./grid */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/views/grid.js");







  var GalleryView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend(
  /** @lends module:apps/image_gallery.GalleryView.prototype */
  {
    /**
    * Gallery view manages the display of the main gallery interface,
    * including the main image viewer region and the list of thumbnails.
    * <ul>
    *  <li>Requests all dynamically-sized images.</li>
    *  <li>Configures lazy viewport tracking for loading thumbnails.</li>
    *  <li>Configures events for re-rendering upon selection change.</li>
    * </ul>
    * @constructs
    */
    initialize: function initialize(opts) {
      var _this = this;

      this.app = opts.app;
      this.images = opts.app.images;
      this.requestSizedImages(); // Cache common elements, and disable script-free accessibility features:

      this.$scroller = this.$('[data-ui="scroller"]').removeClass('noscript-accessible');
      this.$thumbs = this.$('[data-ui="thumb"]');
      this.$thumb = this.$thumbs.eq(0).closest('li');
      this.$reel = this.$thumb.closest('ul'); // Track the gallery element within the viewport:

      lib_viewport__WEBPACK_IMPORTED_MODULE_4__["default"].trackElement(this.el, function () {
        _this.loadThumbs();

        _this.render();
      }, -0.5);
      this.listenTo(this.images, 'selection', this.render);
    },

    /**
    * Measures the main viewer display,
    * and then requests dynamic-size assets for all models.
    */
    requestSizedImages: function requestSizedImages() {
      var $viewer = this.$('[data-ui="viewer"]');
      var width = $viewer.width();
      var height = $viewer.height();
      this.images.models.forEach(function (model) {
        model.requestSize(width, height);
      });
    },

    /**
    * Loads all thumbnail images.
    * This is invoked by an enter-viewport callback,
    * so thumbnails will be lazily-loaded upon coming into view.
    */
    loadThumbs: function loadThumbs() {
      var _this2 = this;

      this.$thumbs.each(function (index, el) {
        el.style.backgroundImage = "url(".concat(_this2.images.at(index).get('thumb_url'), ")");
      });
    },

    /**
    * Toggles the wait-spinner animation:
    */
    wait: function wait(enable) {
      if (enable && !this.$loader) {
        this.$loader = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div class="p-loader"></div>');
        this.$('[data-ui="viewer"]').append(this.$loader);
      } else if (!enable && this.$loader) {
        this.$loader.remove();
        this.$loader = null;
      }
    },

    /**
    * Renders the view.
    * This updates the main viewer area, meta information, and the thumbnails list state.
    * Method is debounced to defer repeated invocations
    * (which are problematic during application startup and router initialization).
    */
    render: lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].debounce(function () {
      var image = this.images.selectedImage();
      if (!image) return;
      var $main = this.$('[data-ui="viewer"] img');
      var completed = 0;
      var self = this;

      function next() {
        completed++;
        if (completed < 2) return; // Swap in the new image for the old one:

        var $image = jquery__WEBPACK_IMPORTED_MODULE_1___default()(img);
        $main.replaceWith($image); // Reveal the image on the next event loop:

        setTimeout(function () {
          $image.addClass('present');
          self.wait(false);
        }, 0);
      } // Start loading new a image in parallel to the old image transitioning out:


      var img = new Image();
      img.onload = next;
      img.src = image.fullsizeURL(); // Transition out old main graphic, if effects are supported:

      if (lib_effects__WEBPACK_IMPORTED_MODULE_3__["TRANSITION_END"] && $main.hasClass('present')) {
        $main.one(lib_effects__WEBPACK_IMPORTED_MODULE_3__["TRANSITION_END"], next).removeClass('present');
      } else {
        next();
      } // Init loading.


      this.wait(true);
      this.renderMeta();
      this.renderThumbs();
      return this.$el;
    }, 25),

    /**
    * Render meta-information.
    * @private
    */
    renderMeta: function renderMeta() {
      // Generate cached references to commonly-accessed elements:
      this.$i = this.$i || this.$('[data-ui="index"]');
      this.$c = this.$c || this.$('[data-ui="caption"]'); // Populate "N of X" counter:

      var at = this.images.selectedIndex() + 1;
      var total = this.images.length;
      this.$i.html("".concat(at, " of ").concat(total)); // Populate caption:

      var image = this.images.selectedImage();
      var html = '';

      if (image) {
        var title = image.get('title');
        var caption = image.get('caption');
        if (title && caption) html += "<span class=\"c-image-gallery__caption--title c-image-gallery__caption--title-pipe\">".concat(title, "</span> ");
        if (title && !caption) html += "<span class=\"c-image-gallery__caption--title\">".concat(title, "</span> ");
        if (caption) html += caption;
      }

      this.$c.html(html);
    },

    /**
    * Render thumbs region.
    * @private
    */
    renderThumbs: function renderThumbs() {
      var selectedIndex = this.images.selectedIndex();
      var thumbM = parseInt(this.$thumb.css('marginRight'));
      var thumbW = this.$thumb.width() + thumbM;
      var extent = this.$thumbs.length * thumbW - thumbM;
      var range = this.$scroller.width();
      var limit = extent - range;
      var scrollTo; // Select active thumbnail:

      this.$thumbs.each(function () {
        var $el = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);
        $el.toggleClass('active', $el.data('index') == selectedIndex);
      });

      if (extent < range) {
        // Scenario: thumbs do NOT fill up the scroll range...
        // Center the row of thumbnails.
        scrollTo = (range - extent) / 2;
      } else {
        // Scenario: thumbs fill the scroll range...
        // Attept to center the currently selected thumb within the viewport.
        scrollTo = selectedIndex * thumbW + thumbW / 2 - range / 2;
        scrollTo = -Math.round(Math.max(0, Math.min(scrollTo, limit)));
      } // Assign total extent of thumbnails list,
      // and then set left position to scroll to.


      this.$reel.width(extent).css('transform', 'translateX(' + scrollTo + 'px)');
      this._x = scrollTo; // << "translateX" is tricky to DOM-parse, so just memo it.

      this.setThumbPage({
        extent: extent,
        range: range
      });
    },

    /**
    * Advances the current "page" of thumbnails.
    * Page size is calculated as half the width of the scroll range.
    * This is a dynamic method, re-implemented each time thumb scroll is rendered.
    * @param {Number} [direction] indicated as +1 or -1 for forward or backward.
    * Calling this without a direction value will simply set navigation controls.
    * @returns {undefined}
    */
    setThumbPage: function setThumbPage(opts) {
      var extent = opts.extent || this.$reel.width();
      var range = opts.range || this.$scroller.width();
      var limit = extent - range;
      var scroll = Math.abs(this._x || 0);
      var $prev = this.$('[data-ui="prev-page"]');
      var $next = this.$('[data-ui="next-page"]');
      $prev.css('display', 'block');
      $next.css('display', 'block');

      if (extent < range) {
        // Scenario: nowhere to scroll, so disable both arrows.
        $prev.css('display', 'none');
        $next.css('display', 'none');
        return;
      } else if (opts.page) {
        // Scenario: we can scroll, and have a direction to scroll in.
        scroll = Math.max(0, Math.min(scroll + range / 1.25 * opts.page, limit));
        var thumbW = this.$thumb.width(); // Nudge the scroll page size out when nearing the range limits:
        // This prevents leaving small fractions of a thumbnail as a "page".
        // Direction is checked to make sure we only nudge in the direction of travel.

        if (opts.page < 0 && scroll < thumbW) scroll = 0;else if (opts.page > 0 && limit - scroll < thumbW) scroll = limit;
        this.$reel.css('transform', 'translateX(-' + scroll + 'px)');
        this._x = -scroll; // << "translateX" is tricky to DOM-parse, so just memo it.
      } // Toggle prev/next disabled state:


      $prev.prop('disabled', scroll === 0);
      $next.prop('disabled', scroll === limit);
    },
    events: {
      'click [data-ui="prev-image"]': 'prevImg',
      'click [data-ui="next-image"]': 'nextImg',
      'click [data-ui="prev-page"]': 'prevPage',
      'click [data-ui="next-page"]': 'nextPage',
      'click [data-ui="expand"]': 'toggleFullScreen',
      'click [data-ui="thumb"]': 'thumb',
      'click [data-ui="grid"]': 'grid'
    },
    prevImg: function prevImg(evt) {
      evt.preventDefault();
      this.images.previous();
    },
    nextImg: function nextImg(evt) {
      evt.preventDefault();
      this.images.next();
    },
    prevPage: function prevPage(evt) {
      evt.preventDefault();
      this.setThumbPage({
        page: -1
      });
    },
    nextPage: function nextPage(evt) {
      evt.preventDefault();
      this.setThumbPage({
        page: 1
      });
    },
    thumb: function thumb(evt) {
      evt.preventDefault();
      var index = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.currentTarget).data('index');
      this.images.selectByIndex(index);
    },
    grid: function grid(evt) {
      evt.preventDefault();
      var grid = new _grid__WEBPACK_IMPORTED_MODULE_6__["default"]({
        collection: this.images
      });
      lib_modal__WEBPACK_IMPORTED_MODULE_5__["default"].dialog(grid.render());
    },
    toggleFullScreen: function toggleFullScreen(evt) {
      evt.preventDefault();
      var goBig = !this.$el.hasClass('full-screen');
      this.$('.c-image-gallery__viewer-expand svg use').attr('xlink:href', goBig ? '#icon-full-screen-exit' : '#icon-full-screen');
      this.$('.c-image-gallery__viewer-expand-text').html(goBig ? 'collapse' : 'expand');
      this.$el.toggleClass('full-screen expanded', goBig);
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('body').toggleClass('gallery-full-screen', goBig);
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (GalleryView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/views/grid.js":
  /*!****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/image_gallery/scripts/views/grid.js ***!
    \****************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/modal */ "./app_unison/frontend/scripts/lib/modal.js");
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");
  /* harmony import */ var _tmpl_grid_html__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tmpl/grid.html */ "./app_unison/frontend/stable/components/apps/image_gallery/scripts/tmpl/grid.html");
  /* harmony import */ var _tmpl_grid_html__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_tmpl_grid_html__WEBPACK_IMPORTED_MODULE_3__);




  var GalleryGridView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend(
  /** @lends module:apps/image_gallery.GalleryGridView.prototype */
  {
    /**
    * Gallery grid view manages the display of the grid overlay interface.
    * @constructs
    */
    className: 'c-image-gallery__grid',
    render: function render() {
      // Lazy-parse template upon first render:
      this.tmpl = this.tmpl || Object(lib_template__WEBPACK_IMPORTED_MODULE_2__["default"])(_tmpl_grid_html__WEBPACK_IMPORTED_MODULE_3___default.a); // Populate rendered HTML:

      this.$el.html(this.tmpl({
        images: this.collection.toJSON(),
        index: 0
      })); // Find and activate the selected image:

      this.$el.find('[data-index="' + this.collection.selectedIndex() + '"]').addClass('active');
      return this.$el;
    },
    events: {
      'click [data-index]': 'thumb'
    },
    thumb: function thumb(evt) {
      evt.preventDefault();
      var index = this.$(evt.currentTarget).data('index');
      this.collection.selectByIndex(index);
      lib_modal__WEBPACK_IMPORTED_MODULE_1__["default"].close();
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (GalleryGridView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/imageslider/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/imageslider/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/imageslider/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/imageslider/scripts/main.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('apps/imageslider', function (element) {
    new _scripts_main__WEBPACK_IMPORTED_MODULE_2__["default"](element);
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/imageslider/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/imageslider/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/imageslider/scripts/main.js":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/imageslider/scripts/main.js ***!
    \********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ImagesliderApp; });
  function ImagesliderApp(el) {
    this.el = el;
    el.addEventListener('mousemove', updateSlider.bind(this));
    el.addEventListener('touchstart', updateSlider.bind(this));
    el.addEventListener('touchmove', updateSlider.bind(this));
  }

  function updateSlider(e) {
    var rightImageContainer = this.el.querySelector('.c-imageslider__image--right');

    var _rightImageContainer$ = rightImageContainer.getBoundingClientRect(),
        left = _rightImageContainer$.left,
        width = _rightImageContainer$.width;

    var pageX = e.type == 'mousemove' ? e.pageX : e.changedTouches[0].pageX;
    var position = (pageX - left) / width * 100;

    if (position < 100 && position > 0) {
      this.el.querySelector('.c-imageslider__image--left').style.width = "".concat(position, "%");
      this.el.querySelector('.c-imageslider__handle').style.left = "".concat(position, "%");
    }
  }

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/interactive_table/index.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/interactive_table/index.js ***!
    \*******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/interactive_table/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");



  var pending;

  function load() {
    pending = pending || Promise.all(/*! import() | app-table */[__webpack_require__.e("vendors~app-table"), __webpack_require__.e("app-table")]).then(__webpack_require__.bind(null, /*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/interactive_table/scripts/main.js"));
    return pending;
  }

  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('apps/interactive_table', function (element, data) {
    load().then(function (module) {
      return new module["default"]({
        el: element,
        opts: data
      });
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/interactive_table/index.scss":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/interactive_table/index.scss ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/nextclick/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/nextclick/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/nextclick/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_main_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/main.js */ "./app_unison/frontend/stable/components/apps/nextclick/scripts/main.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('apps/nextclick', function (element, data) {
    new _scripts_main_js__WEBPACK_IMPORTED_MODULE_2__["default"](element, data);
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/nextclick/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/nextclick/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/nextclick/scripts/main.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/nextclick/scripts/main.js ***!
    \******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model */ "./app_unison/frontend/stable/components/apps/nextclick/scripts/model.js");
  /* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view */ "./app_unison/frontend/stable/components/apps/nextclick/scripts/view.js");
  /* harmony import */ var _raw_data_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./raw_data_source */ "./app_unison/frontend/stable/components/apps/nextclick/scripts/raw_data_source.js");




  function NextclickApp(el) {
    var _this = this;

    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    this.model = new _model__WEBPACK_IMPORTED_MODULE_0__["default"]();
    this.view = new _view__WEBPACK_IMPORTED_MODULE_1__["default"]({
      'el': el,
      'model': this.model
    });
    Object(_raw_data_source__WEBPACK_IMPORTED_MODULE_2__["default"])(data, el).then(function (resolvedData) {
      if (resolvedData && resolvedData.links && resolvedData.links.length > 0) {
        _this.model.head = resolvedData.head;

        _this.model.reset(resolvedData.links);
      } else if (resolvedData && resolvedData.length > 0) {
        _this.model.reset(resolvedData);
      }
    });
  }

  /* harmony default export */ __webpack_exports__["default"] = (NextclickApp);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/nextclick/scripts/model.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/nextclick/scripts/model.js ***!
    \*******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);

  var NextclickLink = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Model.extend({
    defaults: {
      title: null,
      url: null
    }
  });
  var NextclickLinks = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.Collection.extend({
    model: NextclickLink,
    initialize: function initialize(data) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.head = options.head || null;

      if (data && data.links) {
        this.reset(data.links);
      }
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (NextclickLinks);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/nextclick/scripts/raw_data_source.js":
  /*!*****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/nextclick/scripts/raw_data_source.js ***!
    \*****************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");



  var deferred = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.Deferred();

  var dataUrl = function dataUrl(data) {
    // e.g. <experiment_base_url>/<experiment id>/<community id>/<experiment variant id>/<entry id>.json` ?
    return "".concat(data.experiment_base_url).concat(data.experiment_id, "/").concat(models_context__WEBPACK_IMPORTED_MODULE_2__["currentCommunity"].get('id'), "/").concat(data.variant_id, "/").concat(data.entry_id, ".json");
  };
  /*
    Google Optimize experiment -> Chorus loop
    1. Google Optimize script bootstraps on page and fetches active targeted experiment / selects algo variant
    2. Via Optimize suite editor, selected variant assigns its value (eg. var_1) to specific attribute on the link container elem
    3. This method checks for the existence of said attribute every 100ms, until it validates its presence
       - OR - Optimize has set a finished flag on the GTM layer - OR - 4s have expired
  */


  var loadData = function loadData(data, el) {
    var $container = jquery__WEBPACK_IMPORTED_MODULE_1___default()(el);
    models_context__WEBPACK_IMPORTED_MODULE_2__["currentCommunity"].fetch().then(function () {
      // set timeout on optimize fetch
      var timer = window.setTimeout(function () {
        clearInterval(expCheck);
        return fetchRecs(data);
      }, 4000); // poll recs container for experiment variant attr populated by optimize
      // or until optimize is finished up processing

      var expCheck = window.setInterval(function () {
        var variantId = $container.attr('data-experiment-alt');
        var optimizeFired = window.dataLayer.hide.end;

        if (variantId || optimizeFired === null) {
          clearTimeout(timer);
          clearInterval(expCheck);
          data.variant_id = variantId;
          return fetchRecs(data);
        }
      }, 100);
    });
  };

  var fetchRecs = function fetchRecs(data) {
    // If there's no experiment / variant id, we need to ditch out and use the default values
    if (!data.experiment_id || !data.variant_id) {
      deferred.resolve(data.dynamic_links);
      return;
    }

    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajax({
      url: dataUrl(data),
      method: 'get',
      format: 'json',
      complete: function complete(xhr) {
        if (!xhr.responseText) {
          deferred.resolve(data.dynamic_links);
          return;
        }

        try {
          deferred.resolve(JSON.parse(xhr.responseText));
        } catch (e) {
          deferred.resolve(data.dynamic_links);
          console.error(e);
        }
      },
      error: function error() {
        deferred.resolve(data.dynamic_links);
      }
    });
  };

  /* harmony default export */ __webpack_exports__["default"] = (function (data, el) {
    loadData(data, el);
    return deferred.promise();
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/nextclick/scripts/tmpl/index.html":
  /*!**************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/nextclick/scripts/tmpl/index.html ***!
    \**************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<% data.forEach(function(link) { %>\n<li>\n  <% if (link.cross_community_label) { %>\n    <span class=\"c-related-list__eyebrow\">\n      <%= data.cross_community_label %>\n    </span>\n  <% } %>\n  <a\n    data-analytics-link=\"<%= link[\"data-analytics-link\"] %>\"\n    data-analytics-viewport=\"<%= link[\"data-analytics-viewport\"] %>\"\n    data-vars-analytics-link-title=\"<%= link[\"data-vars-analytics-link-title\"] %>\"\n    href=\"<%= link.url %>\">\n    <%= link.title %>\n  </a>\n</li>\n<% }) %>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/nextclick/scripts/view.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/nextclick/scripts/view.js ***!
    \******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");
  /* harmony import */ var _tmpl_index_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tmpl/index.html */ "./app_unison/frontend/stable/components/apps/nextclick/scripts/tmpl/index.html");
  /* harmony import */ var _tmpl_index_html__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_tmpl_index_html__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);





  var NextclickView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    template: Object(lib_template__WEBPACK_IMPORTED_MODULE_1__["default"])(_tmpl_index_html__WEBPACK_IMPORTED_MODULE_2___default.a),
    initialize: function initialize(opts) {
      var _this = this;

      this.model = opts.model;
      this.listenTo(this.model, 'reset', function () {
        _this.render();
      });
    },
    render: function render() {
      this.$('.c-related-list ul .dynamically-inserted').remove();

      if (this.model.head) {
        this.$('h2.c-related-list__head').html(this.model.head);
      }

      this.$('.c-related-list ul').prepend(this.template(this.model.toJSON()));
      this.$('.c-related-list ul a[data-delayed-analytics-link], .c-related-list ul a[data-delayed-analytics-viewport], .c-related-list ul a[data-vars-analytics-link-title]').each(function (link) {
        var $link = jquery__WEBPACK_IMPORTED_MODULE_4___default()(link);
        $link.attr('data-analytics-link', $link.attr('data-delayed-analytics-link'));
        $link.attr('data-analytics-viewport', $link.attr('data-delayed-analytics-viewport'));
        $link.attr('data-vars-analytics-link-title', $link.attr('data-delayed-vars-analytics-link-title'));
      });
      lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].trackImpressions(this.el);
      return this.el;
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (NextclickView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/poll/index.js":
  /*!******************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/poll/index.js ***!
    \******************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/apps/poll/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");



  var pending;

  function load() {
    pending = pending || __webpack_require__.e(/*! import() | app-poll */ "app-poll").then(__webpack_require__.bind(null, /*! ./scripts/main */ "./app_unison/frontend/stable/components/apps/poll/scripts/main.js"));
    return pending;
  }

  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('apps/poll', function (element, data) {
    load().then(function (module) {
      return new module["default"](element, data);
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/apps/poll/index.scss":
  /*!********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/apps/poll/index.scss ***!
    \********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/embeds/github_repo/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/embeds/github_repo/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/embeds/github_repo/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/embeds/github_repo/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/embeds/github_repo/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/embeds/must_read/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/embeds/must_read/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/embeds/must_read/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/embeds/must_read/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/embeds/must_read/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/embeds/place/index.js":
  /*!*********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/embeds/place/index.js ***!
    \*********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/embeds/place/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/embeds/place/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('embeds/place', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/embeds/place/index.scss":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/embeds/place/index.scss ***!
    \***********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/embeds/place/scripts/view.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/embeds/place/scripts/view.js ***!
    \****************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var CAROUSEL_INIT_MIN = 3;
  var EmbedCarousel = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {
      var _this = this;

      // we ditch if this has a preceding sibling that will invalidate the need to do further checking.
      if (this.$el.prev('.c-place-embed').length > 0) {
        return;
      }

      var siblings = this.adjacentSiblings();

      if (siblings.length < CAROUSEL_INIT_MIN) {
        return;
      }

      var parent = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div class="c-place-embed__carousel"><div class="c-place-embed__carousel-next"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-right"></use></svg></div><div class="c-place-embed__carousel-prev"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-left"></use></svg></div></div>');
      parent.on('click', '.c-place-embed__carousel-next', function () {
        _this.moveCarousel(parent, 1);
      });
      parent.on('click', '.c-place-embed__carousel-prev', function () {
        _this.moveCarousel(parent, -1);
      });
      this.$el.before(parent);
      parent.append(siblings);
      parent.data({
        'carousel-panes': siblings.length,
        'carousel-current': 1
      });
    },
    moveCarousel: function moveCarousel(parent, dir) {
      var panes = parent.data('carousel-panes');
      var current = parseInt(parent.data('carousel-current'));
      var target = current + dir;

      if (target < 1) {
        target = panes;
      }

      if (target > panes) {
        target = 1;
      }

      parent.data('carousel-current', target);
      parent.find('.c-place-embed').css({
        'transform': 'translateX(-' + (target - 1) * 100 + '%)'
      });
    },
    adjacentSiblings: function adjacentSiblings() {
      var siblings = jquery__WEBPACK_IMPORTED_MODULE_1___default()().add(this.$el);
      var testEl = this.$el.next('.c-place-embed');

      while (testEl.length > 0) {
        siblings = siblings.add(testEl);
        testEl = testEl.next('.c-place-embed');
      }

      return siblings;
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (EmbedCarousel);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/base/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/base/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _site_dynamic_size_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../site/dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _site_video_embed__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../site/video_embed */ "./app_unison/frontend/stable/components/site/video_embed/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");





  lib_initializer__WEBPACK_IMPORTED_MODULE_3__["default"].registerComponent('entry_boxes/base/video_entry', function (element, data) {
    if (lib_user_agent__WEBPACK_IMPORTED_MODULE_4__["default"].isMobile()) {
      var imageWrapper = jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).find('.c-entry-box-base__image');
      imageWrapper.removeAttr('src');
      lib_initializer__WEBPACK_IMPORTED_MODULE_3__["default"].get('site/video_embed').embed(imageWrapper[0], data);
    } else {
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).on('click', '.c-entry-box-base__image', function (evt) {
        evt.preventDefault();
        lib_initializer__WEBPACK_IMPORTED_MODULE_3__["default"].get('site/video_embed').modal(data);
      });
    }
  }, {
    waitForConsent: true
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/featured/index.js":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/featured/index.js ***!
    \*****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/featured/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/featured/index.scss":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/featured/index.scss ***!
    \*******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/group_entry/index.js":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/group_entry/index.js ***!
    \********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/group_entry/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/group_entry/index.scss":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/group_entry/index.scss ***!
    \**********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.js":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.js ***!
    \***************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.scss":
  /*!*****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.scss ***!
    \*****************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/hero/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/hero/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/hero/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/hero/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/hero/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/person/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/person/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/person/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/person/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/person/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/river/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/river/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/river/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/river/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/river/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/sidebar/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/sidebar/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/sidebar/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/sidebar/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/sidebar/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/video_layout/index.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/video_layout/index.js ***!
    \*********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/entry_boxes/video_layout/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/entry_boxes/video_layout/index.scss":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/entry_boxes/video_layout/index.scss ***!
    \***********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge.svg":
  /*!****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge.svg ***!
    \****************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/foundation/base/assets/polygon_badge-5095444819debdf34f07065395792581.svg";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge_hover.svg":
  /*!**********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge_hover.svg ***!
    \**********************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/foundation/base/assets/polygon_badge_hover-b3145dbdf5562061ae5bd02e8169d946.svg";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge_review.svg":
  /*!***********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge_review.svg ***!
    \***********************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/foundation/base/assets/polygon_badge_review-05f51b4a5a9a372dd0395a035ab7a3b7.svg";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/foundation/base/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/foundation/base/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/foundation/base/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var _assets_polygon_badge_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/polygon_badge.svg */ "./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge.svg");
  /* harmony import */ var _assets_polygon_badge_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_polygon_badge_svg__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var _assets_polygon_badge_hover_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets/polygon_badge_hover.svg */ "./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge_hover.svg");
  /* harmony import */ var _assets_polygon_badge_hover_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_assets_polygon_badge_hover_svg__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var _assets_polygon_badge_review_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assets/polygon_badge_review.svg */ "./app_unison/frontend/stable/components/foundation/base/assets/polygon_badge_review.svg");
  /* harmony import */ var _assets_polygon_badge_review_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_assets_polygon_badge_review_svg__WEBPACK_IMPORTED_MODULE_3__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var lib_launchers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/launchers */ "./app_unison/frontend/scripts/lib/launchers.js");
  /* harmony import */ var lib_subtags__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lib/subtags */ "./app_unison/frontend/scripts/lib/subtags.js");








  window.Subtags = lib_subtags__WEBPACK_IMPORTED_MODULE_7__["default"];
  lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].readyTask(lib_launchers__WEBPACK_IMPORTED_MODULE_6__["runStartup"], {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].HIGH
  });
  lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].readyTask(lib_launchers__WEBPACK_IMPORTED_MODULE_6__["runInitQueue"], {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].LOW
  }); // Start fetching current context...
  // makes this start happening in parallel with DOMReady.

  models_context__WEBPACK_IMPORTED_MODULE_5__["default"].fetch();

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/foundation/base/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/foundation/base/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/foundation/print/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/foundation/print/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_call_to_action/index.js":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_call_to_action/index.js ***!
    \*************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/header/header_call_to_action/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_call_to_action/index.scss":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_call_to_action/index.scss ***!
    \***************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_login/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_login/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/header/header_login/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/header/header_login/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('header/header_login', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_login/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_login/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_login/scripts/view.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_login/scripts/view.js ***!
    \***********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");




   // eslint-disable-line


  var HeaderLogin = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    // Initializes the model with events:
    initialize: function initialize() {
      this.listenTo(models_context__WEBPACK_IMPORTED_MODULE_1__["currentUser"], 'change', this.render);
      this.render();
    },
    $body: jquery__WEBPACK_IMPORTED_MODULE_2___default()('body'),
    // deal with it.
    // Renders the nav with the current user state:
    render: function render() {
      var _this = this;

      models_context__WEBPACK_IMPORTED_MODULE_1__["currentUser"].fetch().then(function () {
        if (models_context__WEBPACK_IMPORTED_MODULE_1__["currentUser"].isLoggedIn()) {
          var data = models_context__WEBPACK_IMPORTED_MODULE_1__["currentUser"].toJSON();
          data.logout_url = models_context__WEBPACK_IMPORTED_MODULE_1__["default"].get('auth_url') + '/logout';
          var menu = "\n          ".concat(_this.shouldToggleShowAndEditProfile(data), "\n          <li class=\"c-global-header__login-menu-item logged_in_item\"><a data-ui=\"logout\" href=\"").concat(data.logout_url, "\">Log out</a></li>\n        ");

          _this.$('[data-ui="menu"] .logged_out_item, [data-ui="menu"] .logged_in_item').remove();

          _this.$('.c-global-header__login').removeClass('logged_out_menu').addClass('logged_in_menu');

          _this.$('[data-ui="menu"]').append(menu);

          _this.showMenuIcon(_this.$('[data-ui="icon"]'), data);

          _this.$body.addClass('chorus-logged-in');

          if (data.auth0_id) {
            lib_analytics__WEBPACK_IMPORTED_MODULE_4__["default"].event('auth-0', 'auth-0-log-in', 'auth-0-logged-in', data.auth0_id);
          }

          if (data.passes_paywall) {
            lib_analytics__WEBPACK_IMPORTED_MODULE_4__["default"].event('paywall', 'paywall-status', 'passed-paywall', data.paywall_member_id);
          }
        }
      });
    },
    events: {
      'mouseenter .c-global-header__login': 'onLoginEnter',
      'mouseleave .c-global-header__login': 'onLoginLeave',
      'focus .c-global-header__login': 'onLoginEnter',
      'blur .c-global-header__login': 'onLoginLeave',
      'click [data-ui="logout"]': 'onLogoutClick'
    },
    // TOH: since user profiles are hidden, the cursor should change to default
    showMenuIcon: function showMenuIcon(el, data) {
      var slug = models_context__WEBPACK_IMPORTED_MODULE_1__["default"].currentNetwork.attributes.slug;
      var menuIcon = (slug === 'thisoldhouse' ? el.css('cursor', 'default') : el.attr('href', models_context__WEBPACK_IMPORTED_MODULE_1__["currentUser"].get('profile_url'))).html("<span class=\"sr-only\">View profile</span><img src=\"".concat(data.profile_image_url, "\" alt=\"\">"));
      return menuIcon;
    },
    // TOH: user profile should be hidden and diff 'Edit Profile' link
    shouldToggleShowAndEditProfile: function shouldToggleShowAndEditProfile(data) {
      var slug = models_context__WEBPACK_IMPORTED_MODULE_1__["default"].currentNetwork.attributes.slug;
      return slug === 'thisoldhouse' ? '<li class="c-global-header__login-menu-item logged_in_item"><a href="https://profile.thisoldhouse.com/my-account/edit-account/">My Profile</a></li>' : "<li class=\"c-global-header__login-menu-item logged_in_item\"><a href=\"".concat(data.profile_url, "\">").concat(data.username, "<span class=\"sr-only\"> (view profile)</span></a></li>\n      <li class=\"c-global-header__login-menu-item logged_in_item\"><a href=\"").concat(data.edit_profile_url, "\">Edit Profile</a></li>");
    },
    onLoginEnter: function onLoginEnter() {
      this.$el.addClass('is-login-active');
      this.action_to = null;
    },
    onLoginLeave: function onLoginLeave() {
      var _this2 = this;

      this.action_to = setTimeout(function () {
        if (_this2.action_to !== null) {
          _this2.$el.removeClass('is-login-active');
        }
      }, 200);
    },
    onLogoutClick: function onLogoutClick(evt) {
      var link = evt.currentTarget;
      var href = link.href;
      var form = document.createElement('form');
      var input = document.createElement('input');
      input.type = 'submit';
      form.appendChild(input);
      form.method = 'post';
      form.action = href;
      form.style.display = 'none';
      document.body.appendChild(form);
      input.click();
      evt.preventDefault();
    },
    onLinkClick: function onLinkClick(evt) {
      lib_analytics__WEBPACK_IMPORTED_MODULE_4__["default"].nav('click', evt.currentTarget.innerText.trim());
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (HeaderLogin);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_logo/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_logo/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/header/header_logo/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_logo/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_logo/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_nav/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_nav/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/header/header_nav/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/header/header_nav/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('header/header_nav', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_nav/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_nav/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_nav/scripts/view.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_nav/scripts/view.js ***!
    \*********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");








  var HeaderNav = exoskeleton__WEBPACK_IMPORTED_MODULE_1___default.a.View.extend({
    // Initializes the model with events:
    initialize: function initialize(opts) {
      var _this = this;

      this.listenTo(models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"], 'change', this.render);

      if (opts.data && opts.data.nav_items_limit) {
        this.nav_items_limit = opts.data.nav_items_limit;
      }

      this.render(); // Wait for fonts to finish loading before calculating nav item widths

      lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].get('site/font_loader').load().then(function () {
        _this.setNavItemsDisplay();
      });
      this.identifySubmenus();
      jquery__WEBPACK_IMPORTED_MODULE_3___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_4__["default"].debounce(this.setNavItemsDisplay.bind(this), 50));

      if (lib_user_agent__WEBPACK_IMPORTED_MODULE_6__["default"].browser().safari === true) {
        this.$body.addClass('safari');
      }
    },
    $body: jquery__WEBPACK_IMPORTED_MODULE_3___default()('body'),
    // deal with it.
    nav_items_limit: 100,
    // Renders the nav with the current user state:
    render: function render() {
      this.setNavItemsDisplay();
    },
    events: {
      'click .c-global-header__link': 'onLinkClick',
      'click .c-global-header__link-more': 'onLinkClick',
      'click .c-global-header__link-communities': 'onLinkClick'
    },
    // TOH: since user profiles are hidden, the cursor should change to default
    showMenuIcon: function showMenuIcon(el, data) {
      var slug = models_context__WEBPACK_IMPORTED_MODULE_2__["default"].currentNetwork.attributes.slug;
      var menuIcon = (slug === 'thisoldhouse' ? el.css('cursor', 'default') : el.attr('href', models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].get('profile_url'))).html("<span class=\"sr-only\">View profile</span><img src=\"".concat(data.profile_image_url, "\" alt=\"\">"));
      return menuIcon;
    },
    setNavItemsDisplay: function setNavItemsDisplay() {
      var $moreLink = this.$('.c-global-header__link-more');
      var viewableNavItemsWidth = 0;
      var viewableWidth = 0;
      var navItemsWidth = 0;
      var dropdownInMore;
      var navItems = [];
      var useMore = false;
      viewableWidth += jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-global-header__links').width();
      this.$('.c-global-header__link.is-pinned').each(function () {
        navItems.push(this);
      });
      this.$('.c-global-header__link').not('.is-pinned').each(function () {
        navItems.push(this);
      });
      var maxItems = this.nav_items_limit;
      navItems.forEach(function (item, idx) {
        var $item = jquery__WEBPACK_IMPORTED_MODULE_3___default()(item);
        navItemsWidth += $item.width();
        var itemId = $item.attr('data-nav-item-id');
        var navListElement = jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-nav-list').find('[data-nav-item-id=' + itemId + ']');

        if (navItemsWidth > viewableWidth || idx >= maxItems) {
          // Hide element in global nav
          $item.addClass('hidden'); // Show element in more list

          navListElement.removeClass('hidden');
          useMore = true;
        } else {
          // Show element in global nav
          $item.removeClass('hidden');
          viewableNavItemsWidth += $item.width(); // Hide element in more list

          navListElement.addClass('hidden');
        }
      }); // check to see if there's a dropdown in the more menu
      // because we need to display it differently

      dropdownInMore = jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-global-header__link.hidden[data-nav-list-trigger]');

      if (dropdownInMore.length > 0) {
        jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-nav-list').addClass('use-fixed-dropdown');
        $moreLink.addClass('use-fixed-dropdown');
      } else {
        jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-nav-list').removeClass('use-fixed-dropdown');
        $moreLink.removeClass('use-fixed-dropdown');
      }

      $moreLink.toggleClass('hidden', !useMore);

      if (useMore && viewableWidth < viewableNavItemsWidth + $moreLink.width()) {
        // grab the last visible item and hide it
        var $lastVisibleNavItem = this.$('.c-global-header__link').not('.hidden').last();
        $lastVisibleNavItem.addClass('hidden');
        var itemId = $lastVisibleNavItem.attr('data-nav-item-id');
        jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-nav-list').find('[data-nav-item-id=' + itemId + ']').removeClass('hidden');
      }
    },
    onLinkClick: function onLinkClick(evt) {
      lib_analytics__WEBPACK_IMPORTED_MODULE_5__["default"].nav('click', evt.currentTarget.innerText.trim());
    },
    identifySubmenus: function identifySubmenus() {
      var tabIndex = null;
      var anchors = this.$el.find('a, button');
      anchors.each(function (ixd, item) {
        var anchor = jquery__WEBPACK_IMPORTED_MODULE_3___default()(item);
        var parent = anchor.parent();
        var triggerId = parent.attr('data-nav-list-trigger');
        anchor.attr('tabIndex', tabIndex);

        if (!triggerId) {
          parent.addClass('has-no-sublist');
        }
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (HeaderNav);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_primary_community/index.js":
  /*!****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_primary_community/index.js ***!
    \****************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/header/header_primary_community/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_primary_community/index.scss":
  /*!******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_primary_community/index.scss ***!
    \******************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_search_trigger/index.js":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_search_trigger/index.js ***!
    \*************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/header/header_search_trigger/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/header/header_search_trigger/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('header/header_search_trigger', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_search_trigger/index.scss":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_search_trigger/index.scss ***!
    \***************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_search_trigger/scripts/view.js":
  /*!********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_search_trigger/scripts/view.js ***!
    \********************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var SearchTriggerView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {},
    $body: jquery__WEBPACK_IMPORTED_MODULE_1___default()('body'),
    events: {
      'click .c-global-header__search-trigger': 'onSearchToggleClick',
      'click .c-global-header__search': 'onSearchAreaClick'
    },
    onSearchAreaClick: function onSearchAreaClick(evt) {
      evt.stopPropagation();
    },
    onSearchToggleClick: function onSearchToggleClick(evt) {
      var _this = this;

      evt.preventDefault();
      evt.stopPropagation();
      var CLICK_OFF_NS = 'click.search-bar';
      var SEARCH_ACTIVE_CLASS = 'is-search-active';
      var searchActive = this.$el.hasClass(SEARCH_ACTIVE_CLASS);

      if (!searchActive) {
        var $searchbar = this.$('.c-global-header__search-menu');
        this.$el.find('input[name="q"]').focus();
        this.$body.on(CLICK_OFF_NS, function (evt) {
          if (!jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.target).closest($searchbar).length) {
            _this.$el.removeClass(SEARCH_ACTIVE_CLASS);

            _this.$body.off(CLICK_OFF_NS);
          }
        });
      } else {
        this.$body.off(CLICK_OFF_NS);
      }

      this.$el.toggleClass(SEARCH_ACTIVE_CLASS, !searchActive);
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (SearchTriggerView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_social/index.js":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_social/index.js ***!
    \*****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/header/header_social/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/header/header_social/index.scss":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/header/header_social/index.scss ***!
    \*******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/community_info/index.js":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/community_info/index.js ***!
    \*************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/community_info/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/community_info/index.scss":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/community_info/index.scss ***!
    \***************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.js":
  /*!************************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.js ***!
    \************************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_time__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/time */ "./app_unison/frontend/scripts/lib/time.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('sidebar_rocks/coral_active_conversation', function (element, data) {
    window.coralActiveConversationsLoaded = function (coralData) {
      var stories = coralData.stories || [];
      var injectHtml = '';

      if (stories.length > 0) {
        for (var i = 0; i < stories.length; i++) {
          var story = stories[i];
          injectHtml += "<li>\n          <a href=\"".concat(story.url, "\">\n            ").concat(story.title, "\n          </a>\n          <span class=\"c-rock-coral-active-conversation__meta\">\n            ").concat(lib_time__WEBPACK_IMPORTED_MODULE_2__["default"].recentRelative(story.publishedAt), "\n            <span class=\"comment_count\">\n              <a href=\"").concat(story.url, "#comments\">").concat(story.count, "</a>\n            </span>\n          </span>\n        </li>");
        }

        var ol = document.querySelector('#coral-active-conversation ol');
        ol.insertAdjacentHTML('beforeend', injectHtml);
      } else {
        document.querySelector('#coral-active-conversation .c-rock-list__body').insertAdjacentHTML('beforeend', '<p>No recent comments!</p>');
      }

      window.coralActiveConversationsLoaded = null;
    };

    var coralScript = document.createElement('script');
    coralScript.src = data.jsonp_url;
    element.appendChild(coralScript);
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.scss":
  /*!**************************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.scss ***!
    \**************************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.js ***!
    \***********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.scss":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.scss ***!
    \*************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/info_box/index.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/info_box/index.js ***!
    \*******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/info_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/info_box/index.scss":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/info_box/index.scss ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/link_list/index.js":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/link_list/index.js ***!
    \********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _site_dynamic_size_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../site/dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/link_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);





  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('sidebar_rocks/link_list/video_entry', function (element, data) {
    if (lib_user_agent__WEBPACK_IMPORTED_MODULE_3__["default"].isMobile()) {
      var imageWrapper = jquery__WEBPACK_IMPORTED_MODULE_4___default()(element).find('.p-badge__overlay');
      imageWrapper.removeAttr('src');
      lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].get('site/video_embed').embed(imageWrapper[0], data);
    } else {
      jquery__WEBPACK_IMPORTED_MODULE_4___default()(element).on('click', '.p-badge__overlay', function (evt) {
        evt.preventDefault();
        lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].get('site/video_embed').modal(data);
      });
    } // videos may have targeted advertising, so hold off.

  }, {
    waitForConsent: true
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/link_list/index.scss":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/link_list/index.scss ***!
    \**********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/metabet/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/metabet/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/metabet/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/metabet/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/metabet/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.js":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.js ***!
    \*******************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.scss":
  /*!*********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.scss ***!
    \*********************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.js ***!
    \***********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.scss":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.scss ***!
    \*************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/ad_allowlist/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/ad_allowlist/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/ad_allowlist/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_adblock_detection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scripts/adblock_detection */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/adblock_detection.js");
  /* harmony import */ var _scripts_ad_allowlist_messaging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scripts/ad_allowlist_messaging */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/ad_allowlist_messaging.js");
  /* harmony import */ var _scripts_phonograph__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scripts/phonograph */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/phonograph.js");
  /* harmony import */ var _scripts_track_and_record__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scripts/track_and_record */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/track_and_record.js");







  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/ad_allowlist', function (element, data) {
    var isTestUrl = lib_utils__WEBPACK_IMPORTED_MODULE_1__["default"].deparamitize(location.search).allowlist_test;

    if (isTestUrl) return _scripts_ad_allowlist_messaging__WEBPACK_IMPORTED_MODULE_4__["default"].appendMessaging(data.selector, data.messaging_urls[0], true);
    if (!data.adblocker_allowlist_prompt_enabled) return;
    _scripts_adblock_detection__WEBPACK_IMPORTED_MODULE_3__["default"].checkForAdblock().then(function (adBlockPresent) {
      if (_scripts_track_and_record__WEBPACK_IMPORTED_MODULE_6__["default"].getAllowlistViews() > 0 && !adBlockPresent) {
        return _scripts_track_and_record__WEBPACK_IMPORTED_MODULE_6__["default"].conversion();
      }

      if (_scripts_track_and_record__WEBPACK_IMPORTED_MODULE_6__["default"].isConverted() && adBlockPresent) {
        return _scripts_track_and_record__WEBPACK_IMPORTED_MODULE_6__["default"].lostConversion();
      }

      if (!adBlockPresent) {
        return;
      }

      _scripts_track_and_record__WEBPACK_IMPORTED_MODULE_6__["default"].sessionPageview();
      _scripts_track_and_record__WEBPACK_IMPORTED_MODULE_6__["default"].setupPageviewLengthTracking();
      _scripts_phonograph__WEBPACK_IMPORTED_MODULE_5__["default"].logAdBlockPageview();
      _scripts_ad_allowlist_messaging__WEBPACK_IMPORTED_MODULE_4__["default"].displayMessaging(data.selector, data.messaging_urls);
    });
  }, {
    waitForConsent: true
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/ad_allowlist/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/ad_allowlist/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/ad_allowlist_messaging.js":
  /*!***************************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/ad_allowlist/scripts/ad_allowlist_messaging.js ***!
    \***************************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");
  /* harmony import */ var _phonograph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phonograph */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/phonograph.js");
  /* harmony import */ var _track_and_record__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./track_and_record */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/track_and_record.js");



  var Messaging = {
    displayMessaging: function displayMessaging(selector, messagingUrls) {
      if (this.checkForFeatureLayout()) return;
      var messagingUrl = messagingUrls[this.getMessagingVariant()] || this.chooseMessagingVariant(messagingUrls);
      _track_and_record__WEBPACK_IMPORTED_MODULE_2__["default"].allowlistView();
      _phonograph__WEBPACK_IMPORTED_MODULE_1__["default"].logAllowlistView();
      _phonograph__WEBPACK_IMPORTED_MODULE_1__["default"].logAllowlistViewByMessagingVariant();
      this.appendMessaging(selector, messagingUrl);
    },
    chooseMessagingVariant: function chooseMessagingVariant(messagingUrls) {
      var randomIdx = Math.floor(Math.random() * messagingUrls.length);
      lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set('whitelist_messaging_variant', randomIdx);
      return messagingUrls[randomIdx];
    },
    getMessagingVariant: function getMessagingVariant() {
      return lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].get('whitelist_messaging_variant');
    },
    checkForFeatureLayout: function checkForFeatureLayout() {
      if (document.querySelector('.entry_template_minimal')) {
        return true;
      }
    },
    checkForArticlePage: function checkForArticlePage() {
      if (document.querySelector('.entry_template_standard')) {
        return true;
      }
    },
    appendMessaging: function appendMessaging(selector, url, isTest) {
      if (isTest) {
        var leaderboard = document.querySelector('.m-ad__desktop_leaderboard_variable');

        if (leaderboard) {
          leaderboard.innerHTML = '';
          leaderboard.style.display = 'none';
        }
      }

      var parentSelector = document.querySelector(selector);
      var iframeWrapper = this.createIframeWrapper();
      var iframe = this.createIframe(url);
      iframeWrapper.appendChild(iframe);
      parentSelector.appendChild(iframeWrapper);
    },
    createIframeWrapper: function createIframeWrapper() {
      var iframeWrapper = document.createElement('div');
      iframeWrapper.className = this.checkForArticlePage() ? 'adblock-allowlist-messaging__article-wrapper' : 'adblock-allowlist-messaging__wrapper';
      return iframeWrapper;
    },
    createIframe: function createIframe(url) {
      var iframe = document.createElement('iframe');
      iframe.className = 'adblock-allowlist-messaging__iframe';
      iframe.src = url;
      iframe.scrolling = 'no';
      iframe.frameBorder = 0;
      iframe.title = 'Adblock Allowlist Instructions';
      return iframe;
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (Messaging);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/adblock_detection.js":
  /*!**********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/ad_allowlist/scripts/adblock_detection.js ***!
    \**********************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  var TIMEOUT = 5000;
  /* harmony default export */ __webpack_exports__["default"] = ({
    /**
     * Determines if adblock is present using ConcertAds adblock detection or
     * assumes adblock is present if ConcertAds script is blocked
     * @return {Promise}
     */
    checkForAdblock: function checkForAdblock() {
      return new Promise(function (resolve, reject) {
        window.setTimeout(function () {
          resolve(window.concertAds && window.concertAds.adsBlocked || !window.concertAds && !(window.Scroll && window.Scroll.config.detected));
        }, TIMEOUT);
      });
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/phonograph.js":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/ad_allowlist/scripts/phonograph.js ***!
    \***************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var _ad_allowlist_messaging__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ad_allowlist_messaging */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/ad_allowlist_messaging.js");
  /* harmony import */ var _track_and_record__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./track_and_record */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/track_and_record.js");
  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





  var phonographKeys = {
    adblockPvs: 'adblock_total_pageviews_1',
    conversion: 'conversion_1',
    lostConversion: 'lost_conversion_1',
    averagePageviewLength: 'average_pageview_length_1',
    allowlistPvs: 'total_messaging_pageviews',
    pvsByMessagingVariant: 'messaging_variant_pageviews'
  };

  function getNetwork() {
    return new Promise(function (resolve, reject) {
      models_context__WEBPACK_IMPORTED_MODULE_0__["default"].fetch().then(function () {
        var network = models_context__WEBPACK_IMPORTED_MODULE_0__["currentNetwork"].get('slug') || '';
        resolve(network);
      });
    });
  }

  function sendToPhonograph(data) {
    if (typeof window.phonographEvents === 'object') {
      getNetwork().then(function (res) {
        return window.phonographEvents.push(['rev_whitelist', _objectSpread(_objectSpread({}, data), {}, {
          network: res
        })]);
      });
    }
  }

  var Phonograph = {
    logAdBlockPageview: function logAdBlockPageview() {
      sendToPhonograph({
        category: phonographKeys.adblockPvs,
        count: 1
      });
    },
    logAllowlistView: function logAllowlistView() {
      sendToPhonograph({
        category: phonographKeys.allowlistPvs,
        count: 1
      });
    },
    logAllowlistViewByMessagingVariant: function logAllowlistViewByMessagingVariant() {
      sendToPhonograph({
        category: phonographKeys.pvsByMessagingVariant,
        messaging_variant: _ad_allowlist_messaging__WEBPACK_IMPORTED_MODULE_1__["default"].getMessagingVariant(),
        count: 1
      });
    },
    logConversion: function logConversion() {
      sendToPhonograph({
        category: phonographKeys.conversion,
        whitelist_pageviews: _track_and_record__WEBPACK_IMPORTED_MODULE_2__["default"].getAllowlistViews(),
        messaging_variant: _ad_allowlist_messaging__WEBPACK_IMPORTED_MODULE_1__["default"].getMessagingVariant(),
        count: 1
      });
    },
    logLostConversion: function logLostConversion() {
      sendToPhonograph({
        category: phonographKeys.lostConversion,
        whitelist_pageviews: _track_and_record__WEBPACK_IMPORTED_MODULE_2__["default"].getAllowlistViews(),
        messaging_variant: _ad_allowlist_messaging__WEBPACK_IMPORTED_MODULE_1__["default"].getMessagingVariant(),
        count: 1
      });
    },
    logAvgPageviewTime: function logAvgPageviewTime() {
      var secondsOnPageArray = _track_and_record__WEBPACK_IMPORTED_MODULE_2__["default"].getPageviewLengths();
      var data = {
        category: phonographKeys.averagePageviewLength
      };

      if (secondsOnPageArray.length > 3) {
        var averagePageviewLength = secondsOnPageArray.reduce(function (acc, val) {
          return acc + val;
        }) / secondsOnPageArray.length;
        data.length_in_seconds = averagePageviewLength;
        sendToPhonograph(data);
        _track_and_record__WEBPACK_IMPORTED_MODULE_2__["default"].clearPageviewArray();
      }
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (Phonograph);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/track_and_record.js":
  /*!*********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/ad_allowlist/scripts/track_and_record.js ***!
    \*********************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");
  /* harmony import */ var _phonograph__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./phonograph */ "./app_unison/frontend/stable/components/site/ad_allowlist/scripts/phonograph.js");
  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

  function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter); }

  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }



  var pageLoad = new Date();
  var sessionPageviewsKey = 'allowlist_session_pvs_1';
  var secondsOnPageKey = 'allowlist_pageview_lengths_1';
  var allowlistPageviewsKey = 'allowlist_shown_pvs';
  var conversionKey = 'allowlist_adblock_conversion';
  var lostConversionKey = 'allowlist_lost_conversion';
  var dfpVariablesKey = 'dfp_variables';
  var dfpVariables = {};
  var TrackAndRecord = {
    allowlistView: function allowlistView() {
      lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set(allowlistPageviewsKey, this.getAllowlistViews() + 1);
    },
    getAllowlistViews: function getAllowlistViews() {
      return Number(lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].get(allowlistPageviewsKey)) || 0;
    },
    sessionPageview: function sessionPageview() {
      sessionStorage.setItem(sessionPageviewsKey, this.getSessionPageviews() + 1);
    },
    getSessionPageviews: function getSessionPageviews() {
      return Number(sessionStorage.getItem(sessionPageviewsKey)) || 0;
    },
    conversion: function conversion() {
      if (!this.isConverted()) {
        dfpVariables[conversionKey] = 'true';
        lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set(dfpVariablesKey, dfpVariables);
        lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set(conversionKey, true);
        _phonograph__WEBPACK_IMPORTED_MODULE_1__["default"].logConversion();
      }
    },
    lostConversion: function lostConversion() {
      if (!this.isLostConversion()) {
        this.clearDfpVariables();
        lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set(lostConversionKey, true);
        _phonograph__WEBPACK_IMPORTED_MODULE_1__["default"].logLostConversion();
      }
    },
    isConverted: function isConverted() {
      return lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].get(conversionKey) || false;
    },
    isLostConversion: function isLostConversion() {
      return lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].get(lostConversionKey) || false;
    },
    clearDfpVariables: function clearDfpVariables() {
      lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set(dfpVariablesKey, {});
    },
    setupPageviewLengthTracking: function setupPageviewLengthTracking() {
      var _this = this;

      window.addEventListener('beforeunload', function () {
        _this.setPageviewLength();

        _phonograph__WEBPACK_IMPORTED_MODULE_1__["default"].logAvgPageviewTime();
      });
    },
    setPageviewLength: function setPageviewLength() {
      var secondsOnPage = Math.round((new Date() - pageLoad) / 1000);
      var pageviewLengths = this.getPageviewLengths();
      lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set(secondsOnPageKey, [].concat(_toConsumableArray(pageviewLengths), [secondsOnPage]));
    },
    getPageviewLengths: function getPageviewLengths() {
      return lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].get(secondsOnPageKey) || [];
    },
    clearPageviewArray: function clearPageviewArray() {
      lib_localstorage__WEBPACK_IMPORTED_MODULE_0__["default"].set(secondsOnPageKey, []);
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (TrackAndRecord);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/app_nav/index.js":
  /*!*********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/app_nav/index.js ***!
    \*********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _disclaimer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../disclaimer */ "./app_unison/frontend/stable/components/site/disclaimer/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/app_nav/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);



  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/app_nav/index.scss":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/app_nav/index.scss ***!
    \***********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/archives_load_more/index.js":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/archives_load_more/index.js ***!
    \********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/archives_load_more/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/archives_load_more/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/archives_load_more', function (element) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/archives_load_more/index.scss":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/archives_load_more/index.scss ***!
    \**********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/archives_load_more/scripts/view.js":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/archives_load_more/scripts/view.js ***!
    \***************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var ArchivesLoadMoreView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    events: {
      'click .c-archives-load-more__button': 'handleClick'
    },
    initialize: function initialize(evt) {
      this.$button = this.$('.c-archives-load-more__button');
      this.hasMoreEntries = true;
      this.currentPage = 1;
      this.resultsHTML = '';
      this.$resultsContainer = this.$('.c-archives-load-more__results');
    },
    handleClick: function handleClick() {
      var _this = this;

      // Disable button
      this.$button.prop('disabled', true);
      this.fetch().then(function () {
        // Append results to container
        _this.$resultsContainer.append(_this.resultsHTML); // Re-enable or remove button


        if (_this.hasMoreEntries) {
          _this.$button.prop('disabled', false);
        } else {
          _this.$button.remove();
        }
      });
    },

    /**
    * Fetches more archive entries as JSON
    */
    fetch: function fetch() {
      var _this2 = this;

      if (!this._load) {
        this._load = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.Deferred();
        var apiEndpoint = '/fetch' + window.location.pathname + '/' + ++this.currentPage;
        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajax({
          url: apiEndpoint,
          method: 'get',
          format: 'json',
          complete: function complete(xhr) {
            var response = JSON.parse(xhr.responseText);
            _this2.resultsHTML = response.html;
            _this2.hasMoreEntries = response.has_more;

            _this2._load.resolve();

            _this2._load = null;
          },
          error: function error() {
            delete _this2._load;
          }
        });
      }

      return this._load.promise();
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (ArchivesLoadMoreView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/article_footer/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/article_footer/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/article_footer/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/article_footer/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/article_footer/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/breaking_news/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/breaking_news/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/breaking_news/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/breaking_news', function (element, data) {
    jquery__WEBPACK_IMPORTED_MODULE_1___default()('body').addClass('has-breaking-news');

    if (lib_localstorage__WEBPACK_IMPORTED_MODULE_3__["default"].get('breaking-news') === data.title) {
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('[data-ui="breaking-news"]').removeClass('visible');
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('body').removeClass('has-breaking-news');
    }

    jquery__WEBPACK_IMPORTED_MODULE_1___default()('[data-ui="close-breaking-news"]').on('click', function () {
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('[data-ui="breaking-news"]').removeClass('visible');
      lib_localstorage__WEBPACK_IMPORTED_MODULE_3__["default"].set('breaking-news', data.title);
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/breaking_news/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/breaking_news/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/byline/index.js":
  /*!********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/byline/index.js ***!
    \********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/byline/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_time__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/time */ "./app_unison/frontend/scripts/lib/time.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/byline', function (element, data) {
    if (data.timestamp) {
      var dateFormat = lib_time__WEBPACK_IMPORTED_MODULE_3__["default"].combinedRelative(data.timestamp * 1000);

      if (dateFormat) {
        jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).find('[data-relative-timestamp]').text(dateFormat);
      }
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/byline/index.scss":
  /*!**********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/byline/index.scss ***!
    \**********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/call_to_action_button/index.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/call_to_action_button/index.js ***!
    \***********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/call_to_action_button/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/call_to_action_button/index.scss":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/call_to_action_button/index.scss ***!
    \*************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/directory/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/directory/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/directory/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/directory/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/directory', function (element) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/directory/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/directory/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/directory/scripts/view.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/directory/scripts/view.js ***!
    \******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var DirectoryView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {
      var _this = this;

      setTimeout(function () {
        _this.handleHashChange();
      }, 500);
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).on('hashchange', function () {
        _this.handleHashChange();
      });
    },
    handleHashChange: function handleHashChange() {
      var selection = window.location.hash.slice(1);

      if (selection) {
        this.showSection(selection);
      } else {
        this.resetList();
      }
    },
    handleResetClick: function handleResetClick() {
      this.resetList();
    },
    resetList: function resetList() {
      this.$el.removeClass('is-section-active').find('.is-active-section').removeClass('is-active-section');
    },
    showSection: function showSection(section) {
      this.$el.find('.level-idx-1').text(this.$el.find('h2[data-section-title="' + section + '"]').text() + ' Neighborhoods');
      this.$el.find('is-active-section').removeClass('is-active-section');
      this.$el.addClass('is-section-active').find('.c-directory__extended-body[data-body-for="' + section + '"]').addClass('is-active-section');
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('html, body').animate({
        scrollTop: this.$el.offset().top
      }, 500);
    },
    events: {
      'click .level-idx-0': 'handleResetClick'
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (DirectoryView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/disclaimer/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/disclaimer/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _disclaimer_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../disclaimer_image */ "./app_unison/frontend/stable/components/site/disclaimer_image/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/disclaimer/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/disclaimer/scripts/view.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/disclaimer/header', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_3__["default"]({
      el: element,
      data: data
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/disclaimer/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/disclaimer/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/disclaimer/scripts/view.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/disclaimer/scripts/view.js ***!
    \*******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var LOGO_TARGETS = ['.c-read-more__intro'];
  var DisclaimerHeaderView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize(opts) {
      var data = opts.data;

      if (!jquery__WEBPACK_IMPORTED_MODULE_1___default()(LOGO_TARGETS).length) {
        return;
      }

      if (!data.url) {
        return;
      }

      jquery__WEBPACK_IMPORTED_MODULE_1___default()(LOGO_TARGETS).each(function () {
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).html('Read more from').append("<img src=\"".concat(data.url, "\" alt=\"").concat(data.alt, "\" />"));
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (DisclaimerHeaderView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/disclaimer_image/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/disclaimer_image/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/disclaimer_image/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/disclaimer_image/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/disclaimer_image', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/disclaimer_image/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/disclaimer_image/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/disclaimer_image/scripts/view.js":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/disclaimer_image/scripts/view.js ***!
    \*************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/color */ "./app_unison/frontend/scripts/lib/color.js");




  /**
   * Insert a light or dark disclaimer image based on a background_selector
   * Example background_selector values:
   * '.c-global-header::before'
   * '.c-app-nav'
   * 'body'
   */

  var DisclaimerImageView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize(opts) {
      var _this = this;

      this.data = opts.data || {}; // Cache the DOM node responsible for retrieving background color

      this.backgroundEl = this.getBackgroundElement();
      this.displayImageType();
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].throttle(function () {
        return _this.displayImageType();
      }, 150));
    },

    /**
     * Sets the image src based on the brightness of the background_selector
     * @return {undefined}
     */
    displayImageType: function displayImageType() {
      var imageType = lib_color__WEBPACK_IMPORTED_MODULE_3__["default"].hasLightBackground(this.backgroundEl, this.getPseudoSelector()) ? 'dark' : 'light';
      var url = this.data["".concat(imageType, "_url")];

      if (!url || this.$el.attr('src') === url) {
        return;
      } // Load image asychronously and trigger a resize to update the global_header nav


      var image = new Image();
      var self = this;

      image.onload = function () {
        self.$el.attr('src', url);

        if (self.data.is_header) {
          jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).trigger('resize');
        }
      };

      image.src = url;
    },

    /**
     * Get the background element. If one is passed as opts.data.background_selector,
     * find and use that node. Otherwise, use this element's parentNode.
     * @return {node}   Element from which to pull background color
     */
    getBackgroundElement: function getBackgroundElement() {
      if (this.parseBackgroundSelector()) {
        return document.querySelector(this.parseBackgroundSelector()[0]);
      } else {
        return this.$el[0].parentNode;
      }
    },

    /**
     * Get the pseudo selector specified in opts.data.background_selector, if available
     * @return {string} Pseudo selector (sans ::)
     */
    getPseudoSelector: function getPseudoSelector() {
      var pseudoSelector;

      if (this.parseBackgroundSelector()) {
        pseudoSelector = this.parseBackgroundSelector()[1];
      }

      return pseudoSelector;
    },

    /**
     * Parses the background_selector passed to the view
     * @param  {string} [selector=''] Selector. Defaults to this.data.background_selector.
     * @return {array}                Selector split by any pseudo selectors.
     */
    parseBackgroundSelector: function parseBackgroundSelector() {
      var selector;

      if (this.data.background_selector) {
        selector = this.data.background_selector.replace('::', ':').split(':');
      }

      return selector;
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (DisclaimerImageView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/dynamic_size_image/index.js ***!
    \********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var models_dynamic_images__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/dynamic_images */ "./app_unison/frontend/scripts/models/dynamic_images.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/dynamic_size_image', function (element, data) {
    models_dynamic_images__WEBPACK_IMPORTED_MODULE_2__["default"].addEl(element, data);
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  }); // Legacy lazy images loader:

  window.chorus_lazy_assets = function () {
    var images = document.querySelectorAll('.vox-lazy-load');

    for (var i = 0; i < images.length; i++) {
      var el = images[i];
      models_dynamic_images__WEBPACK_IMPORTED_MODULE_2__["default"].addEl(el, {
        image_id: el.getAttribute('data-imgkey') || null,
        asset_id: el.getAttribute('data-chorus-asset-id') || null,
        ratio: el.getAttribute('data-ratio') || '*'
      });
    }
  }; // Expose model globally for debugging:


  window.DynamicImages = models_dynamic_images__WEBPACK_IMPORTED_MODULE_2__["default"];
  window.chorus_lazy_assets();

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.scss":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/dynamic_size_image/index.scss ***!
    \**********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_box/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_box/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _byline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../byline */ "./app_unison/frontend/stable/components/site/byline/index.js");
  /* harmony import */ var _dynamic_size_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _entry_group_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entry_group_list */ "./app_unison/frontend/stable/components/site/entry_group_list/index.js");
  /* harmony import */ var _entry_stat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../entry_stat */ "./app_unison/frontend/stable/components/site/entry_stat/index.js");
  /* harmony import */ var _video_embed__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../video_embed */ "./app_unison/frontend/stable/components/site/video_embed/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_5__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_6__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var lib_time__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lib/time */ "./app_unison/frontend/scripts/lib/time.js");
  /* harmony import */ var _scripts_group_view__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./scripts/group_view */ "./app_unison/frontend/stable/components/site/entry_box/scripts/group_view.js");











  lib_initializer__WEBPACK_IMPORTED_MODULE_7__["default"].registerComponent('site/entry_box/entry_group', function (element) {
    new _scripts_group_view__WEBPACK_IMPORTED_MODULE_10__["default"]({
      el: element
    });
  });
  lib_initializer__WEBPACK_IMPORTED_MODULE_7__["default"].registerComponent('site/entry_box/compact_video_entry', function (element, data) {
    if (lib_user_agent__WEBPACK_IMPORTED_MODULE_8__["default"].isMobile()) {
      var imageWrapper = jquery__WEBPACK_IMPORTED_MODULE_6___default()(element).find('.c-entry-box--compact__image-wrapper');
      imageWrapper.removeAttr('src');
      lib_initializer__WEBPACK_IMPORTED_MODULE_7__["default"].get('site/video_embed').embed(imageWrapper[0], data);
    } else {
      jquery__WEBPACK_IMPORTED_MODULE_6___default()(element).on('click', '.c-entry-box--compact__image-wrapper', function (evt) {
        evt.preventDefault();
        lib_initializer__WEBPACK_IMPORTED_MODULE_7__["default"].get('site/video_embed').modal(data);
      });
    }
  }, {
    waitForConsent: true
  });
  lib_initializer__WEBPACK_IMPORTED_MODULE_7__["default"].registerComponent('site/entry_box/stream_item', function (element, data) {
    var dateFormat = lib_time__WEBPACK_IMPORTED_MODULE_9__["default"].combinedRelative(data.timestamp * 1000);

    if (dateFormat) {
      jquery__WEBPACK_IMPORTED_MODULE_6___default()(element).find('[data-relative-timestamp]').text(dateFormat);
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_box/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_box/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_box/scripts/group_view.js":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_box/scripts/group_view.js ***!
    \************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");



  var GroupView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    events: {
      'click [data-ui="next-entry"]': 'onNextClick',
      'click [data-ui="prev-entry"]': 'onPrevClick',
      'click [data-ui="pager-button"]': 'onPagerClick'
    },
    initialize: function initialize() {
      var _this = this;

      this.$entries = this.$el.find('.c-entry-box-group__entries');
      this.entryNumber = this.$entries.children().length;
      this.i = 0;
      this.applyMobileStyles(); // Adds a class so we know the js ran and can have a proper fallback if not.

      this.$el.addClass('js-active');
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].throttle(function () {
        _this.applyMobileStyles();
      }, 150));
    },
    applyMobileStyles: function applyMobileStyles() {
      if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).width() > 600) {
        this.$entries.removeAttr('style');
        this.$entries.find('li').removeAttr('style');
      } else {
        this.$entries.width(this.entryNumber * 100 + '%');
        this.$entries.find('li').width(100 / this.entryNumber + '%');
      }
    },
    positionEntry: function positionEntry(index) {
      var position = index * -100 + '%';
      this.$("[data-ui=\"pager-button\"][data-index=\"".concat(index, "\"]")).addClass('active').siblings().removeClass('active');
      this.$entries.css('left', position);
    },
    onNextClick: function onNextClick() {
      if (this.i < this.entryNumber - 1) {
        this.i += 1;
        this.positionEntry(this.i);
      }
    },
    onPrevClick: function onPrevClick() {
      if (this.i > 0) {
        this.i -= 1;
        this.positionEntry(this.i);
      }
    },
    onPagerClick: function onPagerClick(evt) {
      this.i = this.$(evt.currentTarget).data('index');
      this.positionEntry(this.i);
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (GroupView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_box_grid/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_box_grid/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _dynamic_size_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _entry_box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entry_box */ "./app_unison/frontend/stable/components/site/entry_box/index.js");
  /* harmony import */ var _entry_stat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entry_stat */ "./app_unison/frontend/stable/components/site/entry_stat/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_box_grid/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_3__);





  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_box_grid/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_box_grid/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_correction/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_correction/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_correction/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/entry_correction', function (element) {
    jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).find('[data-toggle]').on('click', function (e) {
      e.preventDefault();
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).toggleClass('expanded');
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_correction/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_correction/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_formatter/index.js":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_formatter/index.js ***!
    \*****************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _image_enlarge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../image_enlarge */ "./app_unison/frontend/stable/components/site/image_enlarge/index.js");
  /* harmony import */ var _snippet_animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../snippet_animation */ "./app_unison/frontend/stable/components/site/snippet_animation/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_runtime_formatters__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scripts/runtime_formatters */ "./app_unison/frontend/stable/components/site/entry_formatter/scripts/runtime_formatters.js");
  /* harmony import */ var _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scripts/formatters */ "./app_unison/frontend/stable/components/site/entry_formatter/scripts/formatters.js");
  /* harmony import */ var lib_video__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lib/video */ "./app_unison/frontend/scripts/lib/video.js");







   // Apply runtime formatters immediately (before DOM Ready)

  var featureBody = document.querySelector('.l-feature .c-entry-content, .l-page .c-entry-content');
  _scripts_runtime_formatters__WEBPACK_IMPORTED_MODULE_5__["default"].loadTwitter(); // needs to be run before doe ready so that the picture element/dynamic image picks up the right size

  if (featureBody) {
    _scripts_runtime_formatters__WEBPACK_IMPORTED_MODULE_5__["default"].fullBleed(featureBody);
    jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].throttle(function () {
      _scripts_runtime_formatters__WEBPACK_IMPORTED_MODULE_5__["default"].fullBleed(featureBody, 1000);
    }));
  }

  lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].registerComponent('site/entry_formatter', function (element, data) {
    function runFormatters() {
      var entryBodies = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-mapstack__card, .c-entry-content, .c-entry-intro, .l-col__main > .c-video-embed--media, .presto-wrapper');

      if (entryBodies.length > 0) {
        var opts = {
          priority: lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].LOW
        };
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].embedSanitizer(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].hrIllo(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].dropCap(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].imageEnlarge(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].dataTables(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].ratingsSnippet(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].shareQuote(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].snippetAnimations(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].captionSpacingNormalizer(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].listicleSharing(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].refreshTwitterEmbeds(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].refreshInstagramEmbeds(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].legacyVoxmediaToolsSupprt(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].pinterestEmbeds(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].wideImageCompensation(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].narrowImageWidth(entryBodies);
        }, opts);
        lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].task(function () {
          lib_video__WEBPACK_IMPORTED_MODULE_7__["default"].install();
        }, opts);
        entryBodies.each(function () {
          lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].run(this);
        }); // this needs to be rerun, be cause sometimes the width gets miscalculated
        // see COM-177

        if (featureBody) {
          _scripts_runtime_formatters__WEBPACK_IMPORTED_MODULE_5__["default"].fullBleed(featureBody);
        }
      }
    }

    document.addEventListener('anthem.preview-updated', runFormatters);
    runFormatters();
  });
  /* harmony default export */ __webpack_exports__["default"] = ({
    /* Helper methods for external use */
    formatVideoEmbeds: function formatVideoEmbeds($scope) {
      _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].embedSanitizer($scope);
    },
    formatGIFs: function formatGIFs($scope) {
      _scripts_formatters__WEBPACK_IMPORTED_MODULE_6__["default"].gifs($scope);
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_formatter/scripts/formatters.js":
  /*!******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_formatter/scripts/formatters.js ***!
    \******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_sharing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/sharing */ "./app_unison/frontend/scripts/lib/sharing.js");




  var Formatter = {
    embedSanitizer: function embedSanitizer($target) {
      var entryBodyRelativeVideoSelector = ['iframe[src*="youtube.com"]', 'iframe[src*="vine.co"]', 'iframe[src*="ooyala.com"]', 'iframe[src*="gfycat.com"]', 'iframe[src*="giphy.com"]', 'iframe[src*="iheart.com"]', 'iframe[src*="theplatform.com"]', // NBC
      'iframe[src*="twitch.tv"]', 'div[id*="ooyalaPlayer"]', 'iframe[src*="watchable.com"]', 'iframe[src*="graphics.suntimes.com"]', 'iframe[src*="streamable.com"]', 'iframe[src*="vimeo.com"]', 'iframe[src*="tmz.com"]', 'iframe[src*="players.brightcove.net"]'].join(', ');
      $target.find(entryBodyRelativeVideoSelector).each(function (idx, item) {
        var $it = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);
        $it.find('object, embed, video').attr('width', '100%').attr('height', '100%'); // ooyala HTML5 video player support

        $it.find('.OoyalaHtml5VideoPlayer, .oo_promoImag').css({
          'width': '100%',
          'height': '100%'
        });
        $it.find('table').addBack().removeAttr('width height style'); // Check to see if this is a manually-created flexible object.
        // If the responsive container doesn’t already exist, create it.
        //
        // (Per BUG-395, FOD manually created a `.iframe-container` class to patch
        // these embeds in their stories. We don’t want to conflict with those styles, so
        // let’s ignore objects inside that responsive container.)

        if ($it.parents('.p-scalable-video, .iframe-container').length < 1) {
          // A non-zero value for padding-bottom means embed came from
          // iframe.ly and already contains responsive CSS.
          // Remove the padding-bottom and height to avoid
          // the double responsive wrapping with div.p-scalable-video.
          if ($it.parent().css('padding-bottom') !== '0px') {
            $it.parent().css('padding-bottom', 0);
            $it.parent().css('height', 'auto');
          }

          $it.wrap('<div class="p-scalable-video"></div>');
        }
      }); // MLB Embed come with some problematic js that reassigns the height at runtime
      // Since we are using flexbox for the layout, it can be the case that the width
      // of the main column can change at runtime. This JS simply recalculates the correct
      // height values and reloads the i-frame.
      // Since these get pumped in from iframely, we really have limited control over these embeds.

      var mlbSelfSizingSelector = ['iframe[src*="mlb.com"][data-aspect][data-src]'].join(', ');
      $target.find(mlbSelfSizingSelector).each(function (idx, item) {
        var $it = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);
        var w = $it.width();
        var h = Math.round(w / parseFloat($it.attr('data-aspect')));
        $it.attr('src', $it.attr('data-src') + 'width=' + w + '&height=' + h).css({
          'height': h + 'px'
        });
      }); // Facebook, in an awesome turn of events, likes to size its embeds to a ratio that is non-standard!
      // Super helpful, thanks facebook.
      //
      // In these cases we want to remove the aspect-ratio-sizing that gets applied, and let the video size itself

      var fbEmbedsSelector = ['.fb-video', 'iframe[src*="facebook.com"]'].join(', ');
      $target.find(fbEmbedsSelector).each(function (idx, item) {
        var videoItem = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);
        videoItem.parents('.c-video-embed').removeClass('c-video-embed').addClass('c-video-embed--self-sizing');
        videoItem.parents('.p-modal__window').css('max-width', window.screen.height * .75 + 'px');
        videoItem.parents('.p-scalable-video').children().unwrap();
      }); // Instagram and Imgur both add a bunch of inline styles that need to be pulled, lest the embeds break visually.
      // :knife: media embeds.

      var unalignedEmbedsSelector = ['.instagram-media', 'iframe[src*="imgur.com"]', 'iframe[src*="embed.tumblr.com"]'].join(', ');
      $target.find(unalignedEmbedsSelector).each(function (idx, item) {
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(item).css({
          'marginLeft': 'auto',
          'marginRight': 'auto',
          'position': 'relative'
        });
      });
      var scrollEnabledEmbedsSelector = ['iframe[src*="cf.datawrapper.de"]'].join(', ');
      $target.find(scrollEnabledEmbedsSelector).each(function (idx, item) {
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(item).attr('scrolling', 'yes').attr('scrollingenabled', 'yes').attr('height', '700');
      }); // google form iframes need to be sized so that the outer iframe is the same size as the content,
      // as they also use scrolling="no" and start off at a small size.

      var googleFormEmbedsSelector = ['iframe[src*="google.com/forms"]:not([style], [width], [height])'].join(', ');
      $target.find(googleFormEmbedsSelector).each(function (idx, item) {
        var $it = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);
        $it.attr('scrolling', 'auto');
        $it.css({
          'width': '100%'
        });
      });
    },
    hrIllo: function hrIllo($target) {
      var hrSelector = 'hr.p-entry-hr';
      var illo = jquery__WEBPACK_IMPORTED_MODULE_1___default()('#svg_hr_illustration').html();

      if (!illo) {
        return;
      }

      $target.find(hrSelector).each(function (idx, item) {
        var $hr = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item); // do this rather than "wrap", bacuse the illi is an svg
        // and gets meesed up with the dom

        $hr.replaceWith('<div class="p-hr-illo"><span class="p-hr-illo__box">' + illo + '</span>' + $hr[0].outerHTML + '</div>');
      });
    },
    dropCap: function dropCap($target) {
      var dropcapSelector = '.p--has-dropcap';
      var modifyButtonSelector = '.p-anthem-selection';
      $target.addBack().find(dropcapSelector).each(function (idx, item) {
        var container = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);

        if ('createTreeWalker' in document) {
          // Just a quick method to find the closest ancestor with the matching selector
          // (`Element.contains()` would be better here, but most IE polyfills I’ve seen are…a little involved)
          var getClosest = function getClosest(elem, selector) {
            if (!Element.prototype.matches) {
              Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
            }

            for (; elem && elem !== document; elem = elem.parentNode) {
              if (elem.matches(selector)) {
                return elem;
              }
            }

            return null;
          }; // Find all the text nodes in our container


          var tree = document.createTreeWalker(container[0], NodeFilter.SHOW_TEXT, null, false);
          var isAdmin = container[0].querySelector(modifyButtonSelector); // Compile all our text nodes

          var nodes = [];
          var current;

          while (current = tree.nextNode()) {
            if (current.nodeValue.trim().length > 0) {
              // Check to see if we’re in the editor
              if (isAdmin) {
                // If we are, is this text node part of an admin button?
                if (!current.parentNode.classList.contains(modifyButtonSelector) && getClosest(current.parentNode, modifyButtonSelector) === null) {
                  nodes.push(current);
                }
              } else {
                nodes.push(current);
              }
            }
          }

          if (nodes.length) {
            // The first text node is the one we’ll be manipulating
            var firstNode = nodes[0]; // Let’s strip off leading spaces

            var nodeText = firstNode.nodeValue.replace(/^\s+/, ''); // Let’s get the first ~word from that text

            var firstWord = nodeText.split(' ')[0]; // Now, let’s store a variable for…everything else after the first word

            var textRemainder = nodeText.substring(firstWord.length); // Let’s pick the first word apart a bit: namely, we want to capture everything *up to and including* the first letter, as well as any immediately-following punctuation. [BUG-420]
            // Basically, we’re trying to replicate the expected behavior of `:first-letter`, which is terribly, terribly named. (https://codepen.io/beep/pen/ZZYJWO)
            // Here, we’re defining a regular expression that includes:
            // a.) ASCII letters [a-zA-Z],
            // b.) Numbers [0-9],
            // c.) A sizable-but-narrow range of accented Unicode characters [\u00C0-\u017F] (Display this unicode range: http://qaz.wtf/u/show.cgi?show=00C0-017F&type=hex),
            //
            // NOTE / TODO: If we ever get into non-Latinate alphabets, this needs to be revisited.

            var unicodeRange = "a-zA-Z0-9\xC0-\u017F"; // Given an input string of `“…Matthew” watched the storm` This .match() will return:
            // - [0] The first complete match of everything that, uh, matches the regular expression (`“…M`)
            // - [1] The first “real” letter

            var dropCapRegEx = new RegExp('^[^' + unicodeRange + ']*([' + unicodeRange + '])[^' + unicodeRange + ']*');
            var dropCapSearch = firstWord.match(dropCapRegEx); // Did our regular expression return anything? If so, we can carry on.

            if (dropCapSearch.length) {
              // This is the text we’ll be displaying in our drop cap
              var textToDropCap = dropCapSearch[0]; // Let’s store the first “real” letter in the first word, so we can drop it into a class

              var letterInitial = dropCapSearch[1]; // Below, we’ll define some wrapper elements for our drop cap, the “real” initial word, and for the content that follows it. In other words, we’re going to take this:
              //
              // <p class="p--has-dropcap">Firstword rest of the text goes here…</p>
              //
              // And turn it into this:
              //
              // <p class="p--has-dropcap">
              //   <span role="text">
              //     <span aria-hidden="true">
              //       <span class="dropcap">F</span>irstword
              //     </span>
              //     <span class="sr-only">Firstword</span>
              //   </span>
              //  rest of the text goes here…
              // </p>
              //
              // (For more info, see [AUD-1278] in Jira.)
              // This is the outer span element, which wraps our entire markup structure

              var $dropcapWrapper = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<span role="text"></span>'); // This is the drop cap, which is hidden from assistive technology

              var $dropCap = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<span aria-hidden="true" class="dropcap-outer"><span class="dropcap">' + textToDropCap + '</span>' + firstWord.substring(textToDropCap.length) + '</span>'); // This is the “real” first word, which is revealed to assistive technology but HIDDEN from sighted readers

              var $realWord = jquery__WEBPACK_IMPORTED_MODULE_1___default()('<span class="sr-only">' + firstWord + '</span>'); // Set the value of the text node to the “remainder” string, since the first word’s going to sit inside our dropcap markup

              firstNode.nodeValue = textRemainder; // Assemble the mess o’ markup for our drop cap

              $dropcapWrapper.append($dropCap, $realWord); // Inject the drop cap before the “rest” of the content

              firstNode.parentNode.insertBefore($dropcapWrapper[0], firstNode); // Decorate the container with the `.drop-letter-*` class

              container.addClass(' drop-letter-' + letterInitial.toLowerCase());
            }
          }
        }
      });
    },
    captionSpacingNormalizer: function captionSpacingNormalizer($target) {
      var captionSelector = '.caption';
      $target.find(captionSelector).each(function (idx, item) {
        var $cap = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);
        $cap.prevUntil('figure, img, .p-fullbleed-block, .wide-image-block, .c-wide-block, div[data-volume-uuid], .p-scalable-video', 'p:empty').remove();
        var $meta = $cap.prev('.e-image').find('.e-image__meta');

        if ($meta.length > 0) {
          $meta.prepend("<figcaption>".concat($cap.text(), "</figcaption>"));
          $cap.remove();
        }

        var $snippetImages = $cap.prev('.p-fullbleed-block, .wide-image-block, .c-wide-block').find('.e-image');

        if ($snippetImages.length > 0) {
          $cap.addClass('offset');
        }
      });
    },
    imageEnlarge: function imageEnlarge($target) {
      var enlargeableImagesSelector = '.e-image__image';
      var enlargeableImages = $target.find(enlargeableImagesSelector);

      if (enlargeableImages.length < 1) {
        return;
      }

      enlargeableImages.each(function (idx, image) {
        lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].get('site/image_enlarge').build(jquery__WEBPACK_IMPORTED_MODULE_1___default()(image));
      });
    },
    dataTables: function dataTables($target) {
      // remove the 'zebra' class to support sbn legacy stuff
      var tables = $target.find('table:not([class]), .sbn-boxscore-table').addClass('p-data-table');
      $target.find('table.zebra').addClass('p-striped-table');
      var bodyWidth = $target.width();
      tables.each(function (idx, item) {
        var $item = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);
        var itemWidth = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item).width();

        if (itemWidth > bodyWidth) {
          $item.wrap('<div class="p-overflow-wrapper"></div>');
        }
      });
    },
    ratingsSnippet: function ratingsSnippet($target) {
      $target.find('.ratingbox .rating-number').each(function (i, e) {
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(e).html(jquery__WEBPACK_IMPORTED_MODULE_1___default()('<span>').width(jquery__WEBPACK_IMPORTED_MODULE_1___default()(e).text() * 25));
      });
    },
    shareQuote: function shareQuote($target) {
      var url = jquery__WEBPACK_IMPORTED_MODULE_1___default()('meta[property="og:url"]').attr('content');
      $target.find('.s-share-quote').each(function () {
        var text = encodeURIComponent(jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).find('.s-share-quote__text').html());
        var facebookShareUrl = lib_sharing__WEBPACK_IMPORTED_MODULE_3__["default"].formatSharer(url, 'facebook');
        var twitterShareUrl = lib_sharing__WEBPACK_IMPORTED_MODULE_3__["default"].formatSharer(url, 'twitter', {
          'text': text
        }); // Add social buttons to the image

        jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).append("<ul class=\"c-social-buttons c-social-buttons--bright\">\n        <li class=\"c-social-buttons__item\"><a class=\"c-social-buttons__item-link c-social-buttons__twitter\" href=\"".concat(twitterShareUrl, "\" data-analytics-social=\"twitter\"><svg class=\"p-svg-icon c-social-buttons__svg\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-twitter\"></use></svg><span class=\"c-social-buttons__text\">tweet</span></a></li>\n        <li class=\"c-social-buttons__item\"><a class=\"c-social-buttons__item-link c-social-buttons__facebook\" href=\"").concat(facebookShareUrl, "\" data-analytics-social=\"facebook\"><svg class=\"p-svg-icon c-social-buttons__svg\"><use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#icon-facebook\"></use></svg><span class=\"c-social-buttons__text\">share</span></a></li>\n      </ul>"));
      });
    },
    snippetAnimations: function snippetAnimations($target) {
      var animatedSelector = '[data-animated]';
      var animatedSnippets = $target.find(animatedSelector);

      if (animatedSnippets.length < 1) {
        return;
      }

      animatedSnippets.each(function (idx, snippet) {
        lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].get('site/snippet_animation').build(snippet);
      });
    },
    listicleSharing: function listicleSharing($target) {
      var listItems = $target.find('.js-social-item');

      if (listItems.length < 1) {
        return;
      }

      var url = jquery__WEBPACK_IMPORTED_MODULE_1___default()('meta[property="og:url"]').attr('content');
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('body').on('click', '.js-social-item a[data-analytics-social]', function (evt) {
        evt.preventDefault();
        var itemId = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).closest('.js-social-item').attr('id');
        var itemUrl = url + '#' + itemId;
        var service = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).attr('data-analytics-social');
        lib_sharing__WEBPACK_IMPORTED_MODULE_3__["default"].share(itemUrl, service);
      });
    },
    refreshTwitterEmbeds: function refreshTwitterEmbeds() {
      lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].get(window, 'twttr.widgets.load', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.noop)();
    },
    refreshInstagramEmbeds: function refreshInstagramEmbeds() {
      lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].get(window, 'instgrm.Embeds.process', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.noop)();
    },
    // Vox media tools js has a problematic reliance on jquery being loaded before they can be called,
    // and since unison delays the load of jquery, they are erroring out.
    // luckilly the tools js is pretty consistent in the way it uses jquery closures, e.g.
    //
    // ImageSlider.Tool = ( function ( $ ) { ... } )( jQuery );
    // This filter simply reloads the tools js at a point after jquery is in memory, and
    // it runs as normal.
    legacyVoxmediaToolsSupprt: function legacyVoxmediaToolsSupprt($target) {
      $target.find('script[src*="//apps.voxmedia.com/tools"], script[src*="footnote-script"]').each(function (idx, item) {
        lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].loadScript(jquery__WEBPACK_IMPORTED_MODULE_1___default()(item).attr('src'));
      });
    },
    pinterestEmbeds: function pinterestEmbeds() {
      if (jquery__WEBPACK_IMPORTED_MODULE_1___default()('*[data-pin-do]').length > 0 && jquery__WEBPACK_IMPORTED_MODULE_1___default()('script[src*="pinit.js"]').length < 1) {
        lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].loadScript('https://assets.pinterest.com/js/pinit.js');
      }
    },
    wideImageCompensation: function wideImageCompensation($target) {
      $target.find('.c-wide-block, .wide-image-block').each(function (idx, item) {
        var $block = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);
        var $img = $block.find('img');

        if ($img.length < 1 || !$img.hasClass('lazy-image')) {
          return;
        }

        if ($img.hasClass('lazy-loaded')) {
          $block.addClass('is-loaded');
        } else {
          $img.on('load', function () {
            $block.addClass('is-loaded');
          });
        }
      });
    },
    narrowImageWidth: function narrowImageWidth($target) {
      var colWidth = $target.width();
      $target.find('.c-picture img').not('.p-fullbleed-block img').each(function (idx, item) {
        var img = jquery__WEBPACK_IMPORTED_MODULE_1___default()(item);

        if (img.width() < colWidth && img.attr('data-upload-width')) {
          img.css({
            'width': img.attr('data-upload-width') + 'px'
          });
        }
      });
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (Formatter);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_formatter/scripts/runtime_formatters.js":
  /*!**************************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_formatter/scripts/runtime_formatters.js ***!
    \**************************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  // These al get run before the DOM is ready, so don't make any assuptions about what is available
  var RuntimeFormatter = {
    loadTwitter: function loadTwitter() {
      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      if (!window.twttr) {
        if (document.querySelector('[class^="twitter-"]') || force) {
          window.twttr = function (d, s, id) {
            var js,
                fjs = d.getElementsByTagName(s)[0],
                t = window.twttr || {};
            if (d.getElementById(id)) return t;
            js = d.createElement(s);
            js.id = id;
            js.defer = true;
            js.src = 'https://platform.twitter.com/widgets.js';
            fjs.parentNode.insertBefore(js, fjs);
            t._e = [];

            t.ready = function (f) {
              t._e.push(f);
            };

            return t;
          }(document, 'script', 'twitter-wjs');
        }
      }
    },
    fullBleed: function fullBleed(target) {
      if (!target) {
        return;
      }

      var currentStyleNode = document.getElementById('full-bleed-style');
      var offset = target.offsetLeft;
      var style = document.createElement('style');
      style.id = 'full-bleed-style';
      style.innerHTML = '.fullbleed-block, .p-fullbleed-block{max-width:none !important;margin-left:-' + offset + 'px !important;width:' + window.innerWidth + 'px !important;}';

      if (currentStyleNode) {
        currentStyleNode.parentNode.replaceChild(style, currentStyleNode);
      } else {
        document.head.appendChild(style);
      }
    }
  };
  /* harmony default export */ __webpack_exports__["default"] = (RuntimeFormatter);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_group_list/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_group_list/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_group_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_group_list/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_group_list/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_hero/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_hero/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _dynamic_size_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _entry_group_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entry_group_list */ "./app_unison/frontend/stable/components/site/entry_group_list/index.js");
  /* harmony import */ var _entry_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entry_image */ "./app_unison/frontend/stable/components/site/entry_image/index.js");
  /* harmony import */ var _entry_stat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../entry_stat */ "./app_unison/frontend/stable/components/site/entry_stat/index.js");
  /* harmony import */ var _page_title__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../page_title */ "./app_unison/frontend/stable/components/site/page_title/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_hero/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_5__);







  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_hero/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_hero/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_hero_video/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_hero_video/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_hero_video/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_hero_video/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_hero_video/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_image/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_image/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _dynamic_size_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _image_mask__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../image_mask */ "./app_unison/frontend/stable/components/site/image_mask/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_image/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_2__);




  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_image/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_image/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_intro/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_intro/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_intro/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_intro/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_intro/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_sidebar/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_sidebar/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_sidebar/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_sidebar/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_sidebar/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_stat/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_stat/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _apps_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../apps/auth */ "./app_unison/frontend/stable/components/apps/auth/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_stat/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var models_entry_stats__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! models/entry_stats */ "./app_unison/frontend/scripts/models/entry_stats.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/entry_stat/scripts/view.js");





  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/entry_stat', function (element, data) {
    var entry = models_entry_stats__WEBPACK_IMPORTED_MODULE_3__["default"].add(data);
    new _scripts_view__WEBPACK_IMPORTED_MODULE_4__["default"]({
      el: element,
      model: entry
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_stat/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_stat/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_stat/scripts/view.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_stat/scripts/view.js ***!
    \*******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var lib_notification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/notification */ "./app_unison/frontend/scripts/lib/notification.js");




  var EntryStatView = exoskeleton__WEBPACK_IMPORTED_MODULE_1___default.a.View.extend({
    initialize: function initialize() {
      this.listenTo(this.model, 'change', this.render);
    },
    render: function render() {
      if (this.model.hasChanged('recommended_by_user') || this.model.hasChanged('recommended_count')) {
        this.renderRecs();
      }

      if (this.model.hasChanged('comment_unreads') || this.model.hasChanged('comment_count')) {
        this.renderComments();
      }
    },
    renderRecs: function renderRecs() {
      var recd = this.model.isRecommendedByUser();
      var totalRecs = this.model.get('recommended_count');
      var $label = this.$('[data-ui="rec-data"]');
      $label.text(totalRecs);
      this.$('[data-ui="rec"]').toggleClass('is-recced', recd).toggleClass('has-content', !!totalRecs && !recd);
    },
    renderComments: function renderComments() {
      var unreadComments = this.model.get('comment_unreads');
      var commentCount = this.model.get('comment_count');
      var $label = this.$('[data-ui="comment-data"]');
      this.$('[data-ui="comment"]').toggleClass('has-unread', !!unreadComments).toggleClass('has-content', !!commentCount && !unreadComments);
      $label.text(commentCount);
      var $unread = this.$('[data-ui="unread"]');

      if ($unread) {
        $unread.toggle(unreadComments > 0).find('[data-ui="unread-data"]').text(unreadComments);
      }
    },
    events: {
      'click [data-ui="rec"]': 'onRec'
    },
    onRec: function onRec() {
      var _this = this;

      models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].fetch().then(function () {
        if (models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].isLoggedIn()) {
          var rec = !_this.model.isRecommendedByUser();

          _this.model.recommend(rec).done(function () {
            if (rec) lib_notification__WEBPACK_IMPORTED_MODULE_3__["default"].success('Recommendation added.');
          }).fail(function (mssg) {
            lib_notification__WEBPACK_IMPORTED_MODULE_3__["default"].error(mssg);
          });
        } else {
          lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].get('apps/auth').open();
        }
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (EntryStatView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_summary/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_summary/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_summary/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_summary/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_summary/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_update_bar/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_update_bar/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/entry_update_bar/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/entry_update_bar/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/entry_update_bar/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/feed/index.js":
  /*!******************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/feed/index.js ***!
    \******************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/feed/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/feed/index.scss":
  /*!********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/feed/index.scss ***!
    \********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/filter_list/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/filter_list/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/filter_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_filter_list_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/filter_list_view */ "./app_unison/frontend/stable/components/site/filter_list/scripts/filter_list_view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/filter_list', function (element) {
    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    new _scripts_filter_list_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      prevent_default_events: data.prevent_default_events
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/filter_list/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/filter_list/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/filter_list/scripts/filter_list_view.js":
  /*!********************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/filter_list/scripts/filter_list_view.js ***!
    \********************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var FilterListView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    preventDefaultEvents: false,
    handleSelectChange: function handleSelectChange(event) {
      if (this.preventDefaultEvents) {
        event.preventDefault();
        var slug = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.currentTarget).attr('value');
        this.selectItem(slug);
      } else {
        window.location = event.currentTarget.value;
      }
    },
    handleClick: function handleClick(event) {
      if (this.preventDefaultEvents) {
        event.preventDefault();
        var slug = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.currentTarget).attr('href');
        this.selectItem(slug);
      }
    },
    selectItem: function selectItem(slug) {
      this.$el.trigger('filter', slug);
      this.$('.is-selected').removeClass('is-selected');
      this.$('option[selected="selected"]').removeAttr('selected');
      this.$('*[data-slug="' + slug + '"]').addClass('is-selected');
      this.$('option[value="' + slug + '"]').attr('selected', 'selected');
    },
    events: {
      'change select': 'handleSelectChange',
      'click a': 'handleClick'
    },
    initialize: function initialize() {
      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this.$el.addClass('js-active');
      this.preventDefaultEvents = opts.prevent_default_events || false;
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (FilterListView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/font_loader/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/font_loader/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_text_balancer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/text_balancer */ "./app_unison/frontend/scripts/lib/text_balancer.js");




  var deferred = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.Deferred();
  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/font_loader', function (element, data) {
    var FONTS_LOADED_CLASS = 'fonts-loaded';
    var docEL = document.documentElement;

    function textBalance() {
      if (data.headline_balance_div_classes && data.headline_balance_fraction && data.headline_balance_fraction > 0.0) {
        Object(lib_text_balancer__WEBPACK_IMPORTED_MODULE_3__["default"])(data.headline_balance_div_classes, data.headline_balance_fraction);
      }
    }

    if (document.fonts) {
      deferred.resolve();
      textBalance();
    } else {
      var fontsSuccess = function fontsSuccess() {
        docEL.classList.add(FONTS_LOADED_CLASS);
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(docEL).trigger('fontsloaded', {});
        textBalance();
        deferred.resolve();
      };

      var fontsFailure = function fontsFailure() {
        // mark fonts as loaded (triggering the display of what fonts did successfully load)
        docEL.classList.add(FONTS_LOADED_CLASS);
        deferred.reject();
      };

      __webpack_require__.e(/*! import() */ 4).then(__webpack_require__.bind(null, /*! ./scripts/main */ "./app_unison/frontend/stable/components/site/font_loader/scripts/main.js")).then(function (module) {
        return module.loadFonts(data);
      }).then(fontsSuccess, fontsFailure);
    }
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].HIGH,
    load: function load() {
      return deferred.promise();
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/foursquare_button/index.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/foursquare_button/index.js ***!
    \*******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/foursquare_button/scripts/view.js");


  lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].registerComponent('site/foursquare_button', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_1__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/foursquare_button/scripts/view.js":
  /*!**************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/foursquare_button/scripts/view.js ***!
    \**************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_foursquare_widget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/foursquare_widget */ "./app_unison/frontend/scripts/lib/foursquare_widget.js");
  /* global fourSq: false */


  var FoursquareButton = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {
      var _this = this;

      Object(lib_foursquare_widget__WEBPACK_IMPORTED_MODULE_1__["default"])().then(function () {
        var widget = new fourSq.widget.SaveTo({
          'vid': _this.$el.data('foursquare-id')
        });
        widget.attach(_this.el);

        _this.$el.on('click', function (e) {
          e.preventDefault();
        });
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (FoursquareButton);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/gifv/index.js":
  /*!******************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/gifv/index.js ***!
    \******************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/gifv/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

  function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }







  var VISIBILITY_THRESHOLD = 0.25; // element must be > or < 25% visible to triggle toggle

  var CHECK_INTERVAL = 200;
  var iOS = lib_user_agent__WEBPACK_IMPORTED_MODULE_5__["default"].iOSversion().iOS;
  var supportsObjectFit = ('objectFit' in document.documentElement.style);
  var supportsPicture = lib_user_agent__WEBPACK_IMPORTED_MODULE_5__["default"].supportsPictureElement();
  var supportsIO = !!window.IntersectionObserver;
  var supportsPromises;
  var videoIO;
  var allVideos = [];
  var videoEntriesToPlay = [];
  var videosToPlay = [];
  var videosToPause = [];
  lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].registerComponent('site/gifv', function (element, data) {
    // referencing "element" all over, feels like using variable "x"
    var video = element; // needed high up the scope chain, debounce this to prevent thrashing

    var debounceSetVideoURL; // As of Dec 5, 2016 all browsers that support
    // .play() promises also support inline video playback.
    // Browsers that lack this support will get GIFs.
    // Previous API's also lacked any way to verify a video
    // actually played after calling .play(), which unacceptable
    // for emulating a GIF-like experience
    // Chrome and Safaris > v10, have support (~ 70% our of users)
    // And Firefox is en route: https://bugzilla.mozilla.org/show_bug.cgi?id=1244768

    if (supportsPromises === undefined) {
      var maybePromise = video.play();

      if (maybePromise && maybePromise.then) {
        supportsPromises = true;
      } else {
        supportsPromises = false;
      }
    }

    if (!supportsPromises) {
      // ALL OPTIONS MUST swap with picture and `return`, we can't do GIFv here
      if (!supportsPicture && !supportsObjectFit) {
        // MUST polyfill picture
        // MUST polyfill object fit
        // swap with picture
        // Example: IE's don't support pictures or object fit, needs kitchen sink
        return Promise.all([__webpack_require__.e(/*! import() */ 0).then(__webpack_require__.t.bind(null, /*! objectFitPolyfill */ "./node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js", 7)), __webpack_require__.e(/*! import() */ 2).then(__webpack_require__.t.bind(null, /*! picturefill */ "./node_modules/picturefill/dist/picturefill.js", 7))]).then(function (_ref) {
          var _ref2 = _slicedToArray(_ref, 2),
              objectFit = _ref2[0],
              pictureFill = _ref2[1];

          var replacement = swapWithFallback(video);
          objectFit(replacement.img);
          pictureFill({
            elements: [replacement.img]
          });
        });
      }

      if (!supportsObjectFit) {
        // MUST polyfill object fit
        // swap with picture
        // Example: Edge doesn't doesn't object fit but some versions do support the picture element
        return __webpack_require__.e(/*! import() */ 0).then(__webpack_require__.t.bind(null, /*! objectFitPolyfill */ "./node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js", 7)).then(function (objectFit) {
          var replacement = swapWithFallback(video);
          objectFit(replacement.img);
        });
      }

      if (!supportsPicture) {
        // MUST polyfill picture
        // swap with picture
        // Example: doesn't support picture but does support object fit (very rare, Opera Mobile and Opera Mini only AFAIK)
        return __webpack_require__.e(/*! import() */ 2).then(__webpack_require__.t.bind(null, /*! picturefill */ "./node_modules/picturefill/dist/picturefill.js", 7)).then(function (pictureFill) {
          var replacement = swapWithFallback(video);
          pictureFill({
            elements: [replacement.img]
          });
        });
      } // swap with picture
      // Example: FF supports pictures and object fit, doesn't need polyfill


      swapWithFallback(video);
      return;
    } else {
      // GIFv OK, but...
      if (!supportsIO && !supportsObjectFit) {
        // MUST load IO polyfill
        // MUST load object polyfill
        // Example: If Edge added .play promises before object fit & intersection oberser for instance
        Promise.all([__webpack_require__.e(/*! import() */ 0).then(__webpack_require__.t.bind(null, /*! objectFitPolyfill */ "./node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js", 7)), __webpack_require__.e(/*! import() */ 1).then(__webpack_require__.t.bind(null, /*! intersection-observer */ "./node_modules/intersection-observer/intersection-observer.js", 7))]).then(function (_ref3) {
          var _ref4 = _slicedToArray(_ref3, 1),
              objectFit = _ref4[0];

          init();
          objectFit(video);
        });
      } else if (!supportsObjectFit) {
        // GIFv OK, but...
        // MUST load object polyfill
        // Example [very unlikely]:
        // Example: If Edge added .play promises before object fit
        __webpack_require__.e(/*! import() */ 0).then(__webpack_require__.t.bind(null, /*! objectFitPolyfill */ "./node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js", 7)).then(function (objectFit) {
          init();
          objectFit(video);
        });
      } else if (!supportsIO) {
        // MUST load IO polyfill
        // Example: many browsers, all Safari, all FF, all Edge (if we made it this far)
        __webpack_require__.e(/*! import() */ 1).then(__webpack_require__.t.bind(null, /*! intersection-observer */ "./node_modules/intersection-observer/intersection-observer.js", 7)).then(init);
      } else {
        // but nothing, just init
        init();
      }
    } // Rock it out


    function init() {
      // Track all videos for calculating 'visible' deltas later
      allVideos.push(video); // upgrade video to device appropriate resolution

      setVideoURL(video, data); // Setup a single IntersectionObserver for all gifv components

      if (!videoIO) {
        videoIO = new IntersectionObserver(toggleVideos, {
          threshold: [0, 0.25, 0.5, 0.75, 1]
        });
        videoIO.POLL_INTERVAL = CHECK_INTERVAL;
      } // Track via IntersectionObserver


      videoIO.observe(video); // Track resize/orientation

      debounceSetVideoURL = lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].debounce(function () {
        setVideoURL(video, data);
      }, CHECK_INTERVAL);
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('resize orientationchange', debounceSetVideoURL);
    }

    function swapAndCleanup(video) {
      // detach listeners
      videoIO.unobserve(video);
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).off('resize orientationchange', debounceSetVideoURL); // remove refs from all caches

      allVideos = allVideos.filter(function (cv) {
        return cv !== video;
      });
      videosToPlay = videosToPlay.filter(function (cv) {
        return cv !== video;
      });
      videosToPause = videosToPause.filter(function (cv) {
        return cv !== video;
      });
      videoEntriesToPlay = videoEntriesToPlay.filter(function (entry) {
        return entry.target !== video;
      }); // swap el

      swapWithFallback(video);
    }

    function toggleVideos(newEntries) {
      newEntries.forEach(function (newEntry) {
        // remove any entries have the same target/node
        videoEntriesToPlay = videoEntriesToPlay.filter(function (entry) {
          return entry.target !== newEntry.target;
        }); // now push the entry with the freshest data, knowing we aren't creating dups

        if (newEntry.intersectionRatio >= VISIBILITY_THRESHOLD) {
          videoEntriesToPlay.push(newEntry);
        }
      }); // We still need to store all videos which qualify for playing
      // because if two videos are in the viewport at a ratio of 1 ...
      // then the top videos goes out of viewport triggering it's pause
      // but the lower video is still at a ratio of 1, IO will not log it
      // as a new entry as it's ratio has not actually changes but our priority has
      // So reselelect the most visible but track all that qualify
      // * Once iOS allows multiple videos to be play at the same time
      // * we can nuke this if (iOS) block

      if (iOS) {
        var mostVisible = [selectMostVisible(videoEntriesToPlay)].filter(function (e) {
          return e;
        });
        videosToPlay = ioEntriesToNodes(mostVisible);
      } else {
        videosToPlay = ioEntriesToNodes(videoEntriesToPlay);
      }

      videosToPause = allVideos.filter(function (avideo) {
        return videosToPlay.indexOf(avideo) < 0;
      });
      playOrPause(videosToPause, videosToPlay);
    } // Select the "most visible" from an array of IO entries


    function selectMostVisible(entries) {
      // Sort in ascending order by intersectionRatio
      var sortedEntries = entries.sort(function (a, b) {
        return b.intersectionRatio - a.intersectionRatio;
      }); // See if there is more than one entry with intersectionRatio equal to the first in sortedEntries

      var equalRatioEntries = sortedEntries.filter(function (entry) {
        return entry.intersectionRatio === sortedEntries[0].intersectionRatio;
      }); // If multiple entries have equal intersectionRatios
      // refine to only those with equal intersectionRatios
      // sort by boundingClientRect.top

      if (equalRatioEntries.length > 1) {
        sortedEntries = equalRatioEntries.sort(function (a, b) {
          return a.boundingClientRect.top - b.boundingClientRect.top;
        });
      }

      return sortedEntries.length ? sortedEntries[0] : null;
    }

    function playOrPause(videosToPause, videosToPlay) {
      videosToPause.forEach(function (toPause) {
        if (!toPause.paused) {
          toPause.pause();
        }
      });
      videosToPlay.forEach(function (toPlay) {
        if (toPlay.paused) {
          var playPromise = toPlay.play();
          playPromise.then(function () {// all is well
          })["catch"](function () {
            // everything is terrible, replace with GIF
            swapAndCleanup(toPlay);
          });
        }
      });
    } // Utility: map IO entries to nodes


    function ioEntriesToNodes(entries) {
      return entries.map(function (entry) {
        return entry.target;
      });
    }

    function setVideoURL(video, data) {
      var wasPlaying = !video.paused;
      var videoURL = getVideoURL(video, data);
      var currentVideoURL = video.getAttribute('src');

      if (currentVideoURL !== videoURL) {
        // the old src will continue to download
        // unless we remove src and load first
        video.removeAttribute('src');
        video.load(); // set new src and initiate load

        video.setAttribute('src', videoURL);
        video.load();
      }

      if (wasPlaying) {
        video.play();
      }
    } // Assumes video element has fallback wrapped in script tag
    // replace the video with the markup inside the script tag


    function swapWithFallback(video) {
      var videoParent = video.parentNode;
      var scriptEl = video.querySelector('script');
      var fallbackMarkup = scriptEl.innerHTML;
      video.outerHTML = fallbackMarkup;
      return {
        picture: videoParent.querySelector('picture'),
        img: videoParent.querySelector('img')
      };
    } // Get the best src url for the element size * dpr


    function getVideoURL(video, data) {
      var sizes = {}; // Check art directed variants first
      // NOTE: This assumes art directed elements are ordered largest-to-smallest

      if (data.art_directed.length) {
        for (var i = 0; i < data.art_directed.length; i++) {
          var variant = data.art_directed[i];

          if (window.matchMedia(variant.media).matches) {
            sizes = variant.urls;
            break;
          }
        }
      } // Fall back to default list


      if (!Object.keys(sizes).length) {
        sizes = data["default"];
      }

      var elWidth = video.offsetWidth * (window.devicePixelRatio || 1);
      var size = getClosestSize(elWidth, Object.keys(sizes));
      return sizes[parseInt(size)];
    } // Utility: width is Int, sizes is array of Int ...
    // return the closed Int value to width from sizes


    function getClosestSize(width, sizes) {
      var curr = sizes[0];
      var diff = Math.abs(width - curr);

      for (var val = 0; val < sizes.length; val++) {
        var newdiff = Math.abs(width - sizes[val]);

        if (newdiff < diff) {
          diff = newdiff;
          curr = sizes[val];
        }
      }

      return curr;
    }
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/gifv/index.scss":
  /*!********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/gifv/index.scss ***!
    \********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/global_footer/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/global_footer/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/global_footer/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/global_footer', function (element, data) {
    models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].fetch().then(function () {
      if (models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].isLoggedIn()) {
        var data = models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].toJSON();
        var menu = "\n          <a href=\"".concat(data.edit_profile_url, "\" class=\"u-block\">Edit Profile</a>\n          <a href=\"").concat(data.account_settings_url, "\" class=\"u-block\">Account Settings</a>\n          <a href=\"/logout\" class=\"u-block\" data-ui=\"logout\">Log out</a>\n        ");
        var $el = jquery__WEBPACK_IMPORTED_MODULE_2___default()(element);
        $el.find('.c-footer__section--auth').html(menu);
        $el.on('click', '[data-ui="logout"]', function (evt) {
          var link = evt.currentTarget;
          var form = document.createElement('form');
          var input = document.createElement('input');
          input.type = 'submit';
          form.appendChild(input);
          form.method = 'post';
          form.action = link.href;
          form.style.display = 'none';
          document.body.appendChild(form);
          input.click();
          evt.preventDefault();
        });
      }
    });
    var cookiePreferenceButton = element.querySelector('#cookie-pref');

    if (cookiePreferenceButton) {
      cookiePreferenceButton.addEventListener('click', function (evt) {
        evt.preventDefault();
        document.querySelector('#privacy-options').classList.remove('m-privacy-options__hidden');
      });
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/global_footer/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/global_footer/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/global_header/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/global_header/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _apps_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../apps/auth */ "./app_unison/frontend/stable/components/apps/auth/index.js");
  /* harmony import */ var _nav_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../nav_list */ "./app_unison/frontend/stable/components/site/nav_list/index.js");
  /* harmony import */ var _disclaimer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../disclaimer */ "./app_unison/frontend/stable/components/site/disclaimer/index.js");
  /* harmony import */ var _input_header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../input_header */ "./app_unison/frontend/stable/components/site/input_header/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/global_header/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_4__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/global_header/scripts/view.js");







  lib_initializer__WEBPACK_IMPORTED_MODULE_5__["default"].registerComponent('site/global_header', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_6__["default"]({
      el: element,
      data: data
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_5__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/global_header/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/global_header/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/global_header/scripts/view.js":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/global_header/scripts/view.js ***!
    \**********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");








  var CLICK_OFF_NS = 'click.search-bar';
  var SEARCH_ACTIVE_CLASS = 'is-search-active';
  var GlobalHeaderView = exoskeleton__WEBPACK_IMPORTED_MODULE_1___default.a.View.extend({
    // Initializes the model with events:
    initialize: function initialize(opts) {
      var _this = this;

      this.listenTo(models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"], 'change', this.render);

      if (opts.data && opts.data.nav_items_limit) {
        this.nav_items_limit = opts.data.nav_items_limit;
      }

      this.render(); // Wait for fonts to finish loading before calculating nav item widths

      lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].get('site/font_loader').load().then(function () {
        _this.setNavItemsDisplay();
      });
      this.identifySubmenus();
      jquery__WEBPACK_IMPORTED_MODULE_3___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_4__["default"].debounce(this.setNavItemsDisplay.bind(this), 200));

      if (lib_user_agent__WEBPACK_IMPORTED_MODULE_6__["default"].browser().safari === true) {
        this.$body.addClass('safari');
      }
    },
    $body: jquery__WEBPACK_IMPORTED_MODULE_3___default()('body'),
    // deal with it.
    nav_items_limit: 100,
    // Renders the nav with the current user state:
    render: function render() {
      var _this2 = this;

      this.setNavItemsDisplay();
      var searchActive = this.$el.hasClass(SEARCH_ACTIVE_CLASS);

      if (searchActive) {
        var $searchbar = this.$('.c-global-header__search-menu');
        this.$el.find('input[name="q"]').focus();
        this.$body.on(CLICK_OFF_NS, function (evt) {
          if (!jquery__WEBPACK_IMPORTED_MODULE_3___default()(evt.target).closest($searchbar).length) {
            _this2.$el.removeClass(SEARCH_ACTIVE_CLASS);

            _this2.$body.off(CLICK_OFF_NS);
          }
        });
      }

      models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].fetch().then(function () {
        if (models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].isLoggedIn()) {
          var data = models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].toJSON();
          data.logout_url = models_context__WEBPACK_IMPORTED_MODULE_2__["default"].get('auth_url') + '/logout';
          var menu = "\n          ".concat(_this2.shouldToggleShowAndEditProfile(data), "\n          <li class=\"c-global-header__login-menu-item logged_in_item\"><a data-ui=\"logout\" href=\"").concat(data.logout_url, "\">Log out</a></li>\n        ");

          _this2.$('[data-ui="menu"] .logged_out_item, [data-ui="menu"] .logged_in_item').remove();

          _this2.$('.c-global-header__login').removeClass('logged_out_menu').addClass('logged_in_menu');

          _this2.$('[data-ui="menu"]').append(menu);

          _this2.showMenuIcon(_this2.$('[data-ui="icon"]'), data);

          _this2.$body.addClass('chorus-logged-in');

          _this2.updateExclusiveLinks();

          if (data.auth0_id) {
            lib_analytics__WEBPACK_IMPORTED_MODULE_5__["default"].event('auth-0', 'auth-0-log-in', 'auth-0-logged-in', data.auth0_id);
          }

          if (data.passes_paywall) {
            lib_analytics__WEBPACK_IMPORTED_MODULE_5__["default"].event('paywall', 'paywall-status', 'passed-paywall', data.paywall_member_id);
          }
        }
      });
    },
    events: {
      'mouseenter .c-global-header__login': 'onLoginEnter',
      'mouseleave .c-global-header__login': 'onLoginLeave',
      'focus .c-global-header__login': 'onLoginEnter',
      'blur .c-global-header__login': 'onLoginLeave',
      'click .c-global-header__search-trigger': 'onSearchToggleClick',
      'click .c-global-header__search': 'onSearchAreaClick',
      'click .c-global-header__link': 'onLinkClick',
      'click .c-global-header__link-more': 'onLinkClick',
      'click .c-global-header__link-communities': 'onLinkClick',
      'click [data-ui="logout"]': 'onLogoutClick',
      'site_sponsorship_logo_color_rendered': 'onSiteSponsorshipLogoRender',
      'site_sponsorship_logo_mobile_color_rendered': 'onSiteSponsorshipLogoRender',
      'site_sponsorship_logo_white_rendered': 'onSiteSponsorshipLogoRender',
      'site_sponsorship_logo_mobile_white_rendered': 'onSiteSponsorshipLogoRender'
    },
    // TOH: since user profiles are hidden, the cursor should change to default
    showMenuIcon: function showMenuIcon(el, data) {
      var slug = models_context__WEBPACK_IMPORTED_MODULE_2__["default"].currentNetwork.attributes.slug;
      var menuIcon = (slug === 'thisoldhouse' ? el.css('cursor', 'default') : el.attr('href', models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].get('profile_url'))).html("<span class=\"sr-only\">View profile</span><img src=\"".concat(data.profile_image_url, "\" alt=\"\">"));
      return menuIcon;
    },
    // TOH: user profile should be hidden and diff 'Edit Profile' link
    shouldToggleShowAndEditProfile: function shouldToggleShowAndEditProfile(data) {
      var slug = models_context__WEBPACK_IMPORTED_MODULE_2__["default"].currentNetwork.attributes.slug;
      return slug === 'thisoldhouse' ? '<li class="c-global-header__login-menu-item logged_in_item"><a href="https://profile.thisoldhouse.com/my-account/edit-account/">My Profile</a></li>' : "<li class=\"c-global-header__login-menu-item logged_in_item\"><a href=\"".concat(data.profile_url, "\">").concat(data.username, "<span class=\"sr-only\"> (view profile)</span></a></li>\n      <li class=\"c-global-header__login-menu-item logged_in_item\"><a href=\"").concat(data.edit_profile_url, "\">Edit Profile</a></li>");
    },
    setNavItemsDisplay: function setNavItemsDisplay() {
      var $moreLink = this.$('.c-global-header__link-more');
      var viewableWidth = 0;
      var navItemsWidth = 0;
      var dropdownInMore;
      var navItems = [];
      var useMore = false;
      viewableWidth += jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-global-header__links').width(); // If more is not hidden, account for that in total link width

      if (!$moreLink.hasClass('hidden')) {
        navItemsWidth += $moreLink.width();
      }

      this.$('.c-global-header__link.is-pinned').each(function () {
        navItems.push(this);
      });
      this.$('.c-global-header__link').not('.is-pinned').each(function () {
        navItems.push(this);
      });
      var maxItems = this.nav_items_limit;
      navItems.forEach(function (item, idx) {
        var $item = jquery__WEBPACK_IMPORTED_MODULE_3___default()(item);
        navItemsWidth += $item.width();
        var itemId = $item.attr('data-nav-item-id');
        var navListElement = jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-nav-list').find('[data-nav-item-id=' + itemId + ']');

        if (navItemsWidth > viewableWidth || idx >= maxItems) {
          // Hide element in global nav
          $item.addClass('hidden'); // Show element in more list

          navListElement.removeClass('hidden');
          useMore = true;
        } else {
          // Show element in global nav
          $item.removeClass('hidden'); // Hide element in more list

          navListElement.addClass('hidden');
        }
      }); // We need to ensure that each login URL heads back to the page we are on.
      // By default, we set this to be the domain (so that we can cache this cell
      // across pages), this will alter that with JS once we load the page.

      var returnToUrlEncoded = encodeURI(window.location.href);
      this.$('.c-global-header__login a[data-return-to]').each(function () {
        this.search = this.search.replace(/return_to=[^&]*/, 'return_to=' + returnToUrlEncoded);
      }); // check to see if there's a dropdown in the more menu
      // because we need to display it differently

      dropdownInMore = jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-global-header__link.hidden[data-nav-list-trigger]');

      if (dropdownInMore.length > 0) {
        jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-nav-list').addClass('use-fixed-dropdown');
        $moreLink.addClass('use-fixed-dropdown');
      } else {
        jquery__WEBPACK_IMPORTED_MODULE_3___default()('.c-nav-list').removeClass('use-fixed-dropdown');
        $moreLink.removeClass('use-fixed-dropdown');
      }

      $moreLink.toggleClass('hidden', !useMore);
    },
    onLoginEnter: function onLoginEnter() {
      this.$el.addClass('is-login-active');
      this.action_to = null;
    },
    onLoginLeave: function onLoginLeave() {
      var _this3 = this;

      this.action_to = setTimeout(function () {
        if (_this3.action_to !== null) {
          _this3.$el.removeClass('is-login-active');
        }
      }, 200);
    },
    onSearchAreaClick: function onSearchAreaClick(evt) {
      evt.stopPropagation();
    },
    onSearchToggleClick: function onSearchToggleClick(evt) {
      var _this4 = this;

      evt.preventDefault();
      evt.stopPropagation();
      var searchActive = this.$el.hasClass(SEARCH_ACTIVE_CLASS);

      if (!searchActive) {
        var $searchbar = this.$('.c-global-header__search-menu');
        this.$el.find('input[name="q"]').focus();
        this.$body.on(CLICK_OFF_NS, function (evt) {
          if (!jquery__WEBPACK_IMPORTED_MODULE_3___default()(evt.target).closest($searchbar).length) {
            _this4.$el.removeClass(SEARCH_ACTIVE_CLASS);

            _this4.$body.off(CLICK_OFF_NS);
          }
        });
      } else {
        this.$body.off(CLICK_OFF_NS);
      }

      this.$el.toggleClass(SEARCH_ACTIVE_CLASS, !searchActive);
    },
    onLinkClick: function onLinkClick(evt) {
      lib_analytics__WEBPACK_IMPORTED_MODULE_5__["default"].nav('click', evt.currentTarget.innerText.trim());
    },
    onLogoutClick: function onLogoutClick(evt) {
      var link = evt.currentTarget;
      var href = link.href;
      var form = document.createElement('form');
      var input = document.createElement('input');
      input.type = 'submit';
      form.appendChild(input);
      form.method = 'post';
      form.action = href;
      form.style.display = 'none';
      document.body.appendChild(form);
      input.click();
      evt.preventDefault();
    },
    onSiteSponsorshipLogoRender: function onSiteSponsorshipLogoRender(evt) {
      var _this5 = this;

      this.$el.addClass('has-site-sponsorship-logo');
      setTimeout(function () {
        _this5.setNavItemsDisplay();
      }, 1000);
    },
    identifySubmenus: function identifySubmenus() {
      var tabIndex = null;
      var anchors = this.$el.find('a, button');
      anchors.each(function (ixd, item) {
        var anchor = jquery__WEBPACK_IMPORTED_MODULE_3___default()(item);
        var parent = anchor.parent();
        var triggerId = parent.attr('data-nav-list-trigger');
        anchor.attr('tabIndex', tabIndex);

        if (!triggerId) {
          parent.addClass('has-no-sublist');
        }
      });
    },
    updateExclusiveLinks: function updateExclusiveLinks() {
      var exclusiveLink = this.$('.c-global-header__exclusive-link');
      var exclusiveLinkNewUrl = exclusiveLink.attr('data-logged-in-url');

      if (exclusiveLinkNewUrl) {
        exclusiveLink.attr('href', exclusiveLinkNewUrl);
      }
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (GlobalHeaderView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_commerce_disclosure/index.js":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_commerce_disclosure/index.js ***!
    \***************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/group_commerce_disclosure/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_commerce_disclosure/index.scss":
  /*!*****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_commerce_disclosure/index.scss ***!
    \*****************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_description/index.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_description/index.js ***!
    \*******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/group_description/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_description/index.scss":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_description/index.scss ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_header/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_header/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _social_buttons_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../social_buttons_list */ "./app_unison/frontend/stable/components/site/social_buttons_list/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/group_header/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);



  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_header/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_header/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_subnav/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_subnav/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/group_subnav/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/group_subnav', function (element, data) {
    // $$ VARS
    var $mainLinks = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-group-subnav__main .c-group-subnav__item');
    var $collapsedLinks = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-group-subnav__collapsed .c-group-subnav__item');
    var $collapsedMenu = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-group-subnav__collapsed');
    var $showAllButton = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-group-subnav__see-all');
    var $showAllButtonText = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-group-subnav__see-all span');
    var $collapsedH2 = jquery__WEBPACK_IMPORTED_MODULE_2___default()('#group-subnav--label-more');
    var totalNumberOfLinks = $mainLinks.length; // at each breakpoint, we want to show a certain number of links in the main nav

    setBreakpoints();
    jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).resize(function () {
      lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].debounce(setBreakpoints(), 200);
    });

    function setBreakpoints() {
      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).width() >= 1024) {
        setLargeScreenState();
      }

      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).width() <= 1024) {
        collapseLinks(12);
        showShowAllButton(12);
      }

      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).width() <= 728) {
        collapseLinks(9);
        showShowAllButton(9);
      }

      if (jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).width() <= 600) {
        collapseLinks(6);
        showShowAllButton(6);
      }
    } // the show all button should only show if we have more links than the amount of links we collapse at


    function showShowAllButton(numberOfLinksToShow) {
      if (totalNumberOfLinks > numberOfLinksToShow) {
        $showAllButton.removeClass('hidden');
      }
    }

    function setLargeScreenState() {
      // on big screens, with infinite links,
      // we want to show everything in the main nav and no see all button
      $mainLinks.removeClass('hidden');
      $collapsedLinks.addClass('hidden');
      $showAllButton.addClass('hidden');
    }

    function collapseLinks(numberOfLinksToShow) {
      //  we're starting with all the links in both the main and collapsed navs
      //  in the main nav, hide the links if there's more than we want to show
      //  in the collapsed nav, hide the links we want to show in the main nav
      if (totalNumberOfLinks > numberOfLinksToShow) {
        for (var i = 0; i < totalNumberOfLinks; i++) {
          if (i >= numberOfLinksToShow) {
            $mainLinks.eq(i).addClass('hidden');
            $collapsedLinks.eq(i).removeClass('hidden');
          } else {
            $mainLinks.eq(i).removeClass('hidden');
            $collapsedLinks.eq(i).addClass('hidden');
          }
        }
      }
    } // the stuff that happens when you click the see all button


    function toggleCollapsedMenu() {
      $collapsedMenu.toggleClass('hidden'); // toggles hidden just on the screenreader only H2 above the collapsed menu, so it's hidden from screenreaders when the menu is closed

      $collapsedH2.toggleClass('hidden'); // makes down arrow point up on the button

      $showAllButton.toggleClass('arrow-up'); // changes the text on the "see all" button when you're seeing all

      $showAllButtonText.text(jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-group-subnav__collapsed').hasClass('hidden') ? 'Show All' : 'Show Less');
      toggleAriaAndFocus();
    }

    function toggleAriaAndFocus() {
      // toggle acessibility attribute & focus
      if ($collapsedMenu.attr('aria-expanded') === 'false') {
        $collapsedMenu.attr('aria-expanded', 'true'); // focus on first visible link in menu if we open the collapser menu

        jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-group-subnav__collapsed[aria-expanded="true"] > li:not(.hidden) a').eq(0).focus();
      } else {
        $collapsedMenu.attr('aria-expanded', 'false');
      }
    }

    $showAllButton.click(toggleCollapsedMenu);
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/group_subnav/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/group_subnav/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/hub_title/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/hub_title/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/hub_title/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/hub_title/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/hub_title/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/image_enlarge/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/image_enlarge/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/image_enlarge/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/image_enlarge/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/image_enlarge', {
    build: function build(element) {
      return new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
        el: element
      });
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/image_enlarge/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/image_enlarge/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/image_enlarge/scripts/tmpl/enlarged_template.html":
  /*!******************************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/image_enlarge/scripts/tmpl/enlarged_template.html ***!
    \******************************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<div class=\"c-image-enlarge__overlay\">\n  <img src=\"<%= data.original %>\" />\n</div>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/image_enlarge/scripts/view.js":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/image_enlarge/scripts/view.js ***!
    \**********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_2__);



  var itemTmpl = Object(lib_template__WEBPACK_IMPORTED_MODULE_1__["default"])(__webpack_require__(/*! ./tmpl/enlarged_template.html */ "./app_unison/frontend/stable/components/site/image_enlarge/scripts/tmpl/enlarged_template.html"));

  function isRightClick(evt) {
    return evt.which > 1 || evt.ctrlKey || evt.metaKey;
  }

  function isNotEnlargeable($el) {
    return $el.parents('.is-not-enlargeable').length > 0;
  }

  function isTooTall($el) {
    return $el.height() > window.innerHeight;
  }

  var ImageEnlarger = exoskeleton__WEBPACK_IMPORTED_MODULE_2___default.a.View.extend({
    className: 'is-enlargeable',
    $enlargedOverlay: null,
    $body: jquery__WEBPACK_IMPORTED_MODULE_0___default()('body'),
    enlarge: function enlarge() {
      this._boundClick = this.handleEnlargedClick.bind(this), this._boundKeyPress = this.handleKeypress.bind(this), this.$enlargedOverlay = jquery__WEBPACK_IMPORTED_MODULE_0___default()(itemTmpl({
        original: this.$el.data('original')
      }));
      this.$enlargedOverlay.on('click', this._boundClick);
      this.$body.addClass('enlarged-image-active');
      this.$body.on('keydown', this._boundKeyPress);
      this.$body.append(this.$enlargedOverlay);
    },
    removeEnlargedImage: function removeEnlargedImage() {
      if (this.$enlargedOverlay) {
        this.$enlargedOverlay.remove();
        this.$enlargedOverlay.off('click', this._boundClick);
        this.$enlargedOverlay = null;
        this.$body.removeClass('enlarged-image-active');
        this.$body.off('keydown', this._boundKeyPress);
      }
    },
    toggleNoMax: function toggleNoMax() {
      this.$enlargedOverlay.toggleClass('no-max');
    },
    events: {
      'click': 'handleImageClick'
    },
    handleEnlargedClick: function handleEnlargedClick(evt) {
      if (isRightClick(evt)) {
        return;
      }

      if (evt.target.nodeName.toLowerCase() === 'img' && !this.$enlargedOverlay.hasClass('no-max')) {
        this.toggleNoMax();
      } else {
        this.removeEnlargedImage();
      }
    },
    handleKeypress: function handleKeypress(evt) {
      if (evt.keyCode === 27) {
        // esc button
        this.removeEnlargedImage();
      }
    },
    handleImageClick: function handleImageClick(evt) {
      if (isRightClick(evt)) {
        return;
      }

      if (isTooTall(this.$el)) {
        return;
      }

      if (isNotEnlargeable(this.$el)) {
        return;
      }

      this.enlarge();
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (ImageEnlarger);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/image_mask/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/image_mask/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/image_mask/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/image_mask/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/image_mask/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/input_header/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/input_header/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/input_header/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/input_header/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/input_header/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/lifetime_view/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/lifetime_view/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/lifetime_view/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/lifetime_view', function (element, data) {
    function tooltipToggle() {
      var icon = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-lifetime-view__info-icon');
      var tooltip = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-lifetime-view__tooltip--wrap');
      icon.click(function () {
        tooltip.toggle();
      });
    }

    tooltipToggle();
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/lifetime_view/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/lifetime_view/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/masthead/index.js":
  /*!**********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/masthead/index.js ***!
    \**********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/masthead/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/masthead', function (element, data) {
    var $el = jquery__WEBPACK_IMPORTED_MODULE_2___default()(element);
    var searchIcon = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-masthead-custom .c-global-header__search');
    $el.on('site_sponsorship_logo_rendered site_sponsorship_logo_mobile_rendered', function (evt) {
      $el.addClass('has-site-sponsorship-logo');
    });
    searchIcon.click(function () {
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-masthead-custom').toggleClass('is-search-active');
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/masthead/index.scss":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/masthead/index.scss ***!
    \************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/nav_list/index.js":
  /*!**********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/nav_list/index.js ***!
    \**********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/nav_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_nav_list_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/nav_list_view */ "./app_unison/frontend/stable/components/site/nav_list/scripts/nav_list_view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/nav_list', function (element, data) {
    new _scripts_nav_list_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/nav_list/index.scss":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/nav_list/index.scss ***!
    \************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/nav_list/scripts/nav_list_view.js":
  /*!**************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/nav_list/scripts/nav_list_view.js ***!
    \**************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");





  var sharedTO = null;
  var MOBILE_BREAK = 600;
  var NavListView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    $body: jquery__WEBPACK_IMPORTED_MODULE_1___default()('body'),
    events: {
      'click [data-ui="close-nav"]': 'closeLists',
      'click a': 'trackClick'
    },
    closeLists: function closeLists() {
      this.handleListLeave();
      this.detachLists();
    },
    handleTriggerClick: function handleTriggerClick(evt) {
      evt.preventDefault();
      var trigger = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.currentTarget);

      if (trigger.hasClass('is-attached')) {
        this.closeLists();
      } else {
        this.handleTriggerEnter(evt, true);
      }
    },
    handleTriggerEnter: function handleTriggerEnter(evt) {
      var viaClick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      evt.preventDefault();
      clearTimeout(sharedTO);
      var ct = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.currentTarget);

      if (!viaClick && ct.data('nav-list-trigger') === 'more' && ct.hasClass('use-fixed-dropdown')) {
        return;
      }

      this.attachList(ct.data('nav-list-trigger'), ct, viaClick || lib_user_agent__WEBPACK_IMPORTED_MODULE_2__["default"].isTouch());
    },

    /**
    When we have nested lists inside of the MORE menu
    We want to have them collapsed until they are clicked
    **/
    handleNavListClick: function handleNavListClick(evt) {
      evt.preventDefault();
      var tabId = evt.data.tabId;
      var element = this.$body.find('[data-nav-list-id=' + tabId + ']');
      element.toggleClass('show-sub-items');
    },
    handleListEnter: function handleListEnter() {
      clearTimeout(sharedTO);
    },
    handleListLeave: function handleListLeave(evt) {
      if (evt) {
        var ct = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.currentTarget);

        if (ct.data('nav-list-trigger') === 'more' && ct.hasClass('use-fixed-dropdown')) {
          return;
        }
      }

      if (!lib_user_agent__WEBPACK_IMPORTED_MODULE_2__["default"].isSmallWindow(MOBILE_BREAK)) {
        // OI this is a tough one, sometimes we have nested
        // lists, so we need to make sure that there's only
        // one of these guys out there before we set another one
        clearTimeout(sharedTO);
        sharedTO = setTimeout(jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.detachLists, this), 200);
      }
    },
    handleStumpEnter: function handleStumpEnter() {
      clearTimeout(sharedTO);
      this.detachLists();
    },
    trackClick: function trackClick(evt) {
      lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].nav('click', evt.currentTarget.innerText.trim());
    },

    /**
    * Open the list by adding the class
    * @param the relevant listId as a string
    * @ param the relevant trigger element
    */
    attachList: function attachList(listId, triggerElement, viaInteraction) {
      var _this = this;

      // make sure all lists are detached before we add another one
      this.detachLists();
      var os = triggerElement.offset();
      this.$el.addClass('is-active');
      triggerElement.addClass('is-attached');
      triggerElement.height(); // check to see if list is the MORE menu

      if (listId === 'more') {
        this.$el.addClass('show-more-menu');
        var attached = this.$el.find('.c-nav-list__main');
      } else {
        this.$el.removeClass('show-more-menu');
        attached = this.$el.find('[data-nav-list-id=' + listId + ']').addBack().filter('[data-nav-list-id=' + listId + ']').find('> .c-nav-list__inner > .c-nav-list__sub-items, > .c-nav-list__sub-items').first();
      }

      attached.addClass('is-attached');
      var useFixedMoreList = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-nav-list').hasClass('show-more-menu') && jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-nav-list').hasClass('use-fixed-dropdown');

      if (window.innerWidth >= MOBILE_BREAK && !useFixedMoreList) {
        this.$el.find('.c-nav-list__inner').css({
          'top': os.top + triggerElement.height() + 'px',
          'left': 'auto',
          'right': 'auto'
        });
        this.$el.find('.c-nav-list__main').off('mouseleave');
        this.$el.find('.c-nav-list__main').on('mouseleave', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleListLeave, this));

        if (os.left + attached.width() >= window.innerWidth) {
          attached.css({
            'right': this.$body.width() - (os.left + triggerElement.outerWidth()) + 'px',
            'left': 'auto'
          });
        } else {
          attached.css({
            'left': os.left + 'px',
            'right': 'auto'
          });
        }
      } else if (window.innerWidth >= MOBILE_BREAK && useFixedMoreList) {
        var mo = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-masthead').offset();
        this.$el.find('.c-nav-list__main').off('mouseleave');
        this.$el.find('.c-nav-list__inner').css({
          'top': (mo ? mo.top : os.top) - jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).scrollTop() + 'px',
          'right': '0',
          'left': 'auto'
        });
      } else {
        this.$el.find('.c-nav-list__inner').css({
          'top': os.top + triggerElement.height() - this.$body.scrollTop() + 'px',
          'left': 'auto',
          'right': 'auto'
        });
      }

      if (window.innerWidth <= MOBILE_BREAK || useFixedMoreList) {
        jquery__WEBPACK_IMPORTED_MODULE_1___default()('html').addClass('is-nav-list-active');
      }

      if (window.innerWidth >= MOBILE_BREAK) {
        this.$body.off('click.navList').on('click.navList', function (evt) {
          var $clicked = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.target);

          if (!$clicked.closest('.c-nav-list__inner').length && !$clicked.is('.c-nav-list__inner')) {
            evt.preventDefault();

            _this.closeLists();
          }
        });
      } // Trigger "expand" event...
      // Final argument is the event `nonInteraction` report,
      // which should be true when this event occurs due to mouse-hover
      // (we make this distinction because mouse-hover events are not considered deliberate).


      lib_analytics__WEBPACK_IMPORTED_MODULE_3__["default"].nav('expand', triggerElement.text().trim(), !viaInteraction);
    },

    /**
    * Removes all attached menus
    */
    detachLists: function detachLists() {
      this.$body.find('[data-nav-list-trigger].is-attached, [data-nav-list-id].is-attached, [data-nav-list-id] .is-attached').removeClass('is-attached').removeAttr('style');
      this.$body.find('.c-nav-list').removeClass('is-active').removeClass('show-more-menu');
      this.$el.find('[data-nav-list-id] .is-active').removeClass('is-active');
      jquery__WEBPACK_IMPORTED_MODULE_1___default()('html').removeClass('is-nav-list-active');
      this.$body.off('click.navList');
    },
    listenFor: function listenFor(tabId) {
      this.$body.on('click', '*[data-nav-list-trigger=' + tabId + ']', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleTriggerClick, this));
      this.$body.on('click', '.c-nav-list__main [data-nav-list-id=' + tabId + '] .c-nav-list__label', {
        tabId: tabId
      }, jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleNavListClick, this));

      if (!lib_user_agent__WEBPACK_IMPORTED_MODULE_2__["default"].isTouch() && !(tabId === 'more' && jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-nav-list').hasClass('use-fixed-dropdown'))) {
        this.$body.on('mouseenter.navTrigger', '*[data-nav-list-trigger=' + tabId + ']', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleTriggerEnter, this));
        this.$body.on('mouseleave.navTrigger', '*[data-nav-list-trigger=' + tabId + ']', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleListLeave, this));
      }
    },
    updateLoginLinks: function updateLoginLinks() {
      var updateLinks = this.$('a[data-update-for-logged-in]');

      if (updateLinks.length > 0) {
        models_context__WEBPACK_IMPORTED_MODULE_4__["currentUser"].fetch().then(function () {
          if (models_context__WEBPACK_IMPORTED_MODULE_4__["currentUser"].isLoggedIn()) {
            updateLinks.each(function () {
              var link = jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);
              link.attr('href', link.attr('data-update-for-logged-in'));
            });
          }
        });
      }
    },
    initialize: function initialize(opts) {
      var _this2 = this;

      this.data = opts.data; // page-wide listeners.

      this.$el.find('*[data-nav-list-id]').each(function (idx, item) {
        _this2.listenFor(item.getAttribute('data-nav-list-id'));
      });
      this.$body.find('.has-no-sublist a').on('mouseenter focus', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleStumpEnter, this));
      this.$el.find('.c-nav-list__main').on('mouseenter', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleListEnter, this));
      this.$el.find('.c-nav-list__main').on('mouseleave', jquery__WEBPACK_IMPORTED_MODULE_1___default.a.proxy(this.handleListLeave, this));
      this.updateLoginLinks();
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (NavListView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/news_disclaimer/index.js":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/news_disclaimer/index.js ***!
    \*****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/news_disclaimer/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/news_disclaimer/index.scss":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/news_disclaimer/index.scss ***!
    \*******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/newsletter_signup_box/index.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/newsletter_signup_box/index.js ***!
    \***********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/newsletter_signup_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var _newsletter_signup_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../newsletter_signup_form */ "./app_unison/frontend/stable/components/site/newsletter_signup_form/index.js");



  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/newsletter_signup_box/index.scss":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/newsletter_signup_box/index.scss ***!
    \*************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/newsletter_signup_form/index.js":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/newsletter_signup_form/index.js ***!
    \************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/newsletter_signup_form/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view.js */ "./app_unison/frontend/stable/components/site/newsletter_signup_form/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/newsletter_signup_form', function (element, data) {
    element.children.field_source.value = "".concat(element.children.field_source.value, "__").concat(window.location.pathname);
    new _scripts_view_js__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/newsletter_signup_form/index.scss":
  /*!**************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/newsletter_signup_form/index.scss ***!
    \**************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/newsletter_signup_form/scripts/view.js":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/newsletter_signup_form/scripts/view.js ***!
    \*******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var NewsletterSignupFormView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    events: {
      'submit': 'handleSubmit'
    },
    handleSubmit: function handleSubmit(evt) {
      if (this.simpleValidate(evt)) {
        window.localStorage.setItem('hide_toaster', Date.now());

        if (jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.target).attr('data-submit-ajax-redirect').length > 0) {
          evt.preventDefault();
          var self = this;
          var dataRandomId = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.target).attr('data-random-id');
          window.grecaptcha.ready(function () {
            window.grecaptcha.execute(window.recaptcha_v3_site_key, {
              action: 'newsletter'
            }).then(function (token) {
              var hiddenInput = document.getElementById("g-recaptcha-response-data-newsletter-".concat(dataRandomId));
              hiddenInput.value = token;
            }).then(function () {
              self.ajaxSubmit(evt);
            });
          });
        }
      }
    },
    simpleValidate: function simpleValidate(evt) {
      if (!this.$('input[type="email"]').val()) {
        alert('Please provide an email address to subscribe');
        evt.preventDefault();
        return false;
      }

      return true;
    },
    ajaxSubmit: function ajaxSubmit(event) {
      var target = event.target;
      var data = jquery__WEBPACK_IMPORTED_MODULE_1___default()(target).serialize();

      var formOnSuccess = function formOnSuccess(target) {
        var successMessage = jquery__WEBPACK_IMPORTED_MODULE_1___default()(target).children('div[class*="form__success"]');
        var formBody = jquery__WEBPACK_IMPORTED_MODULE_1___default()(target).children('div[class*="form__body"]');
        formBody.hide();
        successMessage.show();
        return false;
      };

      jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajax({
        url: target.action,
        method: target.method,
        data: data
      }).done(function () {
        formOnSuccess(target);
        return false;
      }).fail(function (errorObj, errorText) {
        alert('There has been an error. Please double check your email for typos or try again in a few minutes.');
        console.log(errorText);
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (NewsletterSignupFormView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/off_platform_publish/index.js":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/off_platform_publish/index.js ***!
    \**********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/off_platform_publish/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/off_platform_publish/index.scss":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/off_platform_publish/index.scss ***!
    \************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/opentable_button/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/opentable_button/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/opentable_button/scripts/view.js");


  lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].registerComponent('site/opentable_button', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_1__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/opentable_button/scripts/view.js":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/opentable_button/scripts/view.js ***!
    \*************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);




  var OpentableButton = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {
      var _this = this;

      models_context__WEBPACK_IMPORTED_MODULE_1__["default"].fetch().then(function () {
        _this.opentableRefID = models_context__WEBPACK_IMPORTED_MODULE_1__["currentNetwork"].get('opentable_ref_id');

        _this.$el.on('click', function (evt) {
          _this.handleClick(evt);
        });
      });
    },
    handleClick: function handleClick(e) {
      e.preventDefault();
      var params = {
        'rid': e.currentTarget.getAttribute('data-opentable-id'),
        'ref': this.opentableRefID
      };
      var url = 'http://www.opentable.com/single.aspx?' + jquery__WEBPACK_IMPORTED_MODULE_2___default.a.param(params);
      window.open(url, '_blank');
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (OpentableButton);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/opinion_flag/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/opinion_flag/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/opinion_flag/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/opinion_flag/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/opinion_flag/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/overlay_nav/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/overlay_nav/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/overlay_nav/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/overlay_nav/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/overlay_nav/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/package_cover/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/package_cover/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.scss */ "./app_unison/frontend/stable/components/site/package_cover/styles/index.scss");
  /* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/package_cover', function (element, data) {
    if (jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).hasClass('c-package-cover--overlay-nav')) {
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-overlay-nav').addClass('package-content-layout-overlay');
    }

    var applySingleBlockLayoutRules = function applySingleBlockLayoutRules($el) {
      var $singleItems = $el.find('.c-package-cover__horizontal .c-package-cover__entry');
      $singleItems.removeClass('c-package-cover__entry--space-left c-package-cover__entry--space-right');

      var shouldRulesBeApplied = function shouldRulesBeApplied(set, isFirstOrLastRow) {
        var len = set.length;

        if (len == 2) {
          // if it's got two items, and only one of them is a singe, then we need to apply the rules
          if (set.filter(function (item) {
            return item.hasClass('c-package-cover__entry--single');
          }).length === 1) {
            return true;
          }
        }

        if (len == 3) {
          // catches pullquotes and videos trapped in the middle
          // but not if it's the last line - more important to not push an orphan down
          if (!isFirstOrLastRow && (set[1].hasClass('c-package-cover__entry--pullquote') || set[1].hasClass('c-package-cover__entry--embedded-video') || set[1].hasClass('c-package-cover__entry--featured'))) {
            return true;
          } // if it's 3 singles alone, with no left or right sizing yet applied.
          // no need to check for last-line status here


          if (set.filter(function (item) {
            return item.hasClass('c-package-cover__entry--single');
          }).length === 3 && set.filter(function (item) {
            return item.hasClass('c-package-cover__entry--space-left') || item.hasClass('c-package-cover__entry--space-right');
          }).length == 0) {
            return true;
          }
        } // if there are 4 in a row, we know they are all singles, so we should be applying the rules
        // but not if it's the last line, since we don't push any orphans down


        if (!isFirstOrLastRow && len == 4) {
          return true;
        }

        return false;
      };

      function buildPositionHash(items, currentItem) {
        var sortedByPosition = {};

        for (var i = 0; i < items.length; i += 1) {
          var $item = jquery__WEBPACK_IMPORTED_MODULE_2___default()(items[i]); // we sort all of these items by their top position, so that we can inspect the rows
          // since these rows shift, we need to rerun this every time.
          // This is rounded to ten to jsut keep odd positions from maeeing anythign up

          var positionKey = 'top_position_' + Math.ceil(($item.position().top + 1) / 10) * 10;

          if (sortedByPosition[positionKey]) {
            sortedByPosition[positionKey].push($item);
          } else {
            sortedByPosition[positionKey] = [$item];
          }

          if (!sortedByPosition.firstRow) {
            sortedByPosition.firstRow = sortedByPosition[positionKey];
          } // need to be able to determine which items is the current one we're dealing with


          if (items[i] === currentItem) {
            sortedByPosition.active = sortedByPosition[positionKey];
          }

          sortedByPosition.lastRow = sortedByPosition[positionKey];
        }

        return sortedByPosition;
      }

      for (var i = 0; i < $singleItems.length; i += 1) {
        var positionHash = buildPositionHash($singleItems, $singleItems[i]);
        var activeSet = positionHash.active; // Remove this class, which might have been added to a previous pass thru
        // we never want the first item to have right padding

        activeSet[0].removeClass('c-package-cover__entry--space-right');

        if (shouldRulesBeApplied(activeSet, positionHash.lastRow === activeSet || positionHash.firstRow === activeSet)) {
          // if the first one's previous item has a pad- right,
          // then we need to apply a pad left to the first item
          var prev = activeSet[0].prev();

          if (prev && prev.hasClass('c-package-cover__entry--space-right')) {
            activeSet[0].addClass('c-package-cover__entry--space-left');
          } else {
            // 4 across means that they are all single, and the second to last one need the spacing
            if (activeSet.length === 4) {
              activeSet[activeSet.length - 2].addClass('c-package-cover__entry--space-right');
            } else {
              // otherwose, the lasst item needs to get updated
              activeSet[activeSet.length - 1].addClass('c-package-cover__entry--space-right');
            }
          }
        }
      }
    };

    var alignQuotes = function alignQuotes($el) {
      var $pullquoteItems = $el.find('.c-package-cover__entry--pullquote');
      var halfBoxWidth = $el.find('.c-package-cover__horizontal').width() * .5 || $el.width();
      $pullquoteItems.each(function (idx) {
        var $item = jquery__WEBPACK_IMPORTED_MODULE_2___default()($pullquoteItems[idx]); // position may have changed, so don't use the cached value

        setTimeout(function () {
          $item.toggleClass('align-right', $item.position().left < halfBoxWidth);
        }, 1000);
      });
    };

    var applyLayoutFilters = function applyLayoutFilters() {
      applySingleBlockLayoutRules(jquery__WEBPACK_IMPORTED_MODULE_2___default()(element));
      alignQuotes(jquery__WEBPACK_IMPORTED_MODULE_2___default()(element));
    };

    jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('resize orientationchange', lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].debounce(applyLayoutFilters, 500));
    applyLayoutFilters();
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/package_cover/styles/index.scss":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/package_cover/styles/index.scss ***!
    \************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/package_subnav/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/package_subnav/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/package_subnav/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/package_subnav', function (element) {
    var $el = jquery__WEBPACK_IMPORTED_MODULE_2___default()(element);
    $el.find('.collapsible').on('click', '*[data-ui-action="collapse-toggle"]', function (evt) {
      var $dt = jquery__WEBPACK_IMPORTED_MODULE_2___default()(evt.delegateTarget);

      if ($dt.hasClass('collapsible-mobile-only') && !lib_user_agent__WEBPACK_IMPORTED_MODULE_3__["default"].isSmallWindow()) {
        return;
      }

      evt.preventDefault();
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(evt.delegateTarget).toggleClass('collapsed');
    });
    $el.find('.expandable').on('click', '*[data-ui-action="expand"]', function (evt) {
      evt.preventDefault();
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(evt.delegateTarget).removeClass('expandable');
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(evt.currentTarget).remove();
    });
    $el.find('*[data-ui-action="collapse-all"]').on('click', function () {
      $el.find('.collapsible').addClass('collapsed');
    });
    $el.find('*[data-ui-action="uncollapse-all"]').on('click', function () {
      $el.find('.collapsible').removeClass('collapsed');
    });
    element.querySelectorAll('ul ul a').forEach(function (linkElement) {
      var rawText = linkElement.textContent;
      var matches = rawText.match(/(^\d{1,3}\.)/);

      if (matches && matches.length > 0) {
        var index = matches[0];
        linkElement.classList.add('list-indexed');
        linkElement.innerHTML = '<span class="list-index">' + index + '</span>' + rawText.replace(index, '');
      }
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/package_subnav/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/package_subnav/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/page_title/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/page_title/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/page_title/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/page_title/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/page_title/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/pagination/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/pagination/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/pagination/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/pagination/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/pagination/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/paywall_logo/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/paywall_logo/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/paywall_logo/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/paywall_logo/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/paywall_logo/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/piano/index.js":
  /*!*******************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/piano/index.js ***!
    \*******************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/piano/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/piano/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/piano/login_controls', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/piano/index.scss":
  /*!*********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/piano/index.scss ***!
    \*********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/piano/scripts/view.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/piano/scripts/view.js ***!
    \**************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_piano_id__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/piano-id */ "./app_unison/frontend/scripts/lib/piano-id.js");



  var PianoLoginView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    manageAccountUrl: null,
    initialize: function initialize(opts) {
      var _this = this;

      this.manageAccountUrl = opts.data.manageAccountUrl;
      lib_piano_id__WEBPACK_IMPORTED_MODULE_2__["default"].pullAccount().then(function (data) {
        if (data.token) {
          _this.pianoLogIn(data);
        } else {
          _this.pianoLogOut();
        }
      });
      lib_piano_id__WEBPACK_IMPORTED_MODULE_2__["default"].on('change', function (evt) {
        if (evt.data.token) {
          _this.pianoLogIn(evt.data);
        } else {
          _this.pianoLogOut();
        }
      });
    },
    events: {
      'click [data-ui="piano_subscribe"]': 'onPianoAction',
      'click [data-ui="piano_login"]': 'onPianoAction',
      'click [data-ui="piano_logout"]': 'onPianoAction',
      'click [data-ui="piano_manage_account"]': 'onPianoAction'
    },
    pianoLogIn: function pianoLogIn(data) {
      var user = data.user || {};
      this.$el.addClass('logged-in');
      this.$('.c-piano__login-controls_logged-status').html("\n      ".concat(user.firstName || 'Subscriber', " ").concat(user.lastName || '', " | <a href=\"#\" data-ui=\"piano_logout\">Log Out</a> |  <a href=\"").concat(this.manageAccountUrl, "\">Manage Account</a>\n    "));
    },
    pianoLogOut: function pianoLogOut() {
      this.$el.removeClass('logged-in');
      this.$('.c-piano__login-controls_logged-status').empty();
    },
    onPianoAction: function onPianoAction(evt) {
      evt.preventDefault();
      evt.stopPropagation();
      var action = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.currentTarget).attr('data-ui');
      var tp = window.tp || [];

      if (tp.pianoId) {
        switch (action) {
          case 'piano_subscribe':
            lib_piano_id__WEBPACK_IMPORTED_MODULE_2__["default"].showRegister();
            break;

          case 'piano_login':
            lib_piano_id__WEBPACK_IMPORTED_MODULE_2__["default"].showLogin();
            break;

          case 'piano_logout':
            lib_piano_id__WEBPACK_IMPORTED_MODULE_2__["default"].logout();
            break;
        }
      }
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (PianoLoginView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/picture_element/index.js":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/picture_element/index.js ***!
    \*****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/picture_element/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }

  function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _iterableToArrayLimit(arr, i) { if (typeof Symbol === "undefined" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

  function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }







  var supportsPicture = lib_user_agent__WEBPACK_IMPORTED_MODULE_4__["default"].supportsPictureElement();
  var supportsObjectFit = lib_user_agent__WEBPACK_IMPORTED_MODULE_4__["default"].supportsObjectFit();
  var supportsIO = lib_user_agent__WEBPACK_IMPORTED_MODULE_4__["default"].supportsIntersectionObserver();
  var allPictures = []; // Singletons

  var listenerAttached;
  var pictureIO;
  var polyfillFunc;
  lib_initializer__WEBPACK_IMPORTED_MODULE_5__["default"].registerComponent('site/picture_element', function (element, data) {
    // Set polyfillFunc singleton
    if (!supportsPicture && !supportsObjectFit) {
      polyfillFunc = polyfillOjectFitAndPicture;
    } else if (!supportsObjectFit) {
      polyfillFunc = polyfillOjectFit;
    } // Polyfill normal pictures immediately,
    // but lazy variants can't be polyfilled
    // until they are unwrapped/rendered.


    if (polyfillFunc && !data.lazy) {
      allPictures.push(element);
      polyfillFunc(element);
    } // Setup resize listener singleton
    // to reapply any polyfills


    if (!listenerAttached && polyfillFunc) {
      listenerAttached = true;

      var polyfillAllPictures = function polyfillAllPictures() {
        return allPictures.forEach(polyfillFunc);
      };

      jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('resize orientationchange', lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].debounce(polyfillAllPictures, 200)); // The IE layout engine finishes sizing boxes after this polyfill runs,
      // so we're going to forcibly correct that by updating every few seconds.
      // Sorry IE, not sorry.

      if (lib_user_agent__WEBPACK_IMPORTED_MODULE_4__["default"].browser().msie) {
        decayRecurse(3000, polyfillAllPictures);
      }
    } // Polyfill IntersectionObserver if unsupported
    // and at least one Picture is of the lazy type
    // then proceed to observe Pictures.


    if (data.lazy) {
      if (!supportsIO) {
        __webpack_require__.e(/*! import() */ 1).then(__webpack_require__.t.bind(null, /*! intersection-observer */ "./node_modules/intersection-observer/intersection-observer.js", 7)).then(observePictures);
      } else {
        observePictures();
      }
    } // Setup a single IntersectionObserver for all picture components


    function observePictures() {
      if (!pictureIO) {
        pictureIO = new IntersectionObserver(lazyLoadAllVisiblePictures, {
          threshold: [0.25, 0.5, 0.75, 1],
          rootMargin: '0px'
        });
        pictureIO.POLL_INTERVAL = 200;
      }

      pictureIO.observe(element);
    } // If a Picture intersects the desired area, load it.


    function lazyLoadAllVisiblePictures(entries) {
      entries.forEach(function (entry) {
        // this if statement is needed to check whether the element actually became visible
        // since Chrome 58.x+ calls this callback function immediately when observer.observe(target)
        // is called even if the element isn't visible yet
        if (entry.intersectionRatio >= 0.25) {
          pictureIO.unobserve(entry.target);
          var loadedPicture = lazyLoadPicture(entry.target);

          if (polyfillFunc) {
            allPictures.push(loadedPicture);
            polyfillFunc(loadedPicture);
          }
        }
      });
    } // Render picture via hidden markup


    function lazyLoadPicture(target) {
      var $markupWrapper = jquery__WEBPACK_IMPORTED_MODULE_2___default()(target).find("script[type='text/template-picture']");
      var html = $markupWrapper.html();
      var $parent = $markupWrapper.parent();
      $markupWrapper.replaceWith(html);
      return $parent[0];
    }

    function polyfillOjectFit(pictureElement) {
      __webpack_require__.e(/*! import() */ 0).then(__webpack_require__.t.bind(null, /*! objectFitPolyfill */ "./node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js", 7)).then(function (objectFit) {
        objectFit(pictureElement.getElementsByTagName('img')[0]);
      });
    }

    function polyfillOjectFitAndPicture(pictureElement) {
      Promise.all([__webpack_require__.e(/*! import() */ 2).then(__webpack_require__.t.bind(null, /*! picturefill */ "./node_modules/picturefill/dist/picturefill.js", 7)), __webpack_require__.e(/*! import() */ 0).then(__webpack_require__.t.bind(null, /*! objectFitPolyfill */ "./node_modules/objectFitPolyfill/dist/objectFitPolyfill.min.js", 7))]).then(function (_ref) {
        var _ref2 = _slicedToArray(_ref, 2),
            pictureFill = _ref2[0],
            objectFit = _ref2[1];

        pictureFill({
          elements: [pictureElement]
        });
        objectFit(pictureElement.getElementsByTagName('img')[0]);
      });
    } // Utility function that will recursively execute a function
    // immediately once, then subsequent executions will call
    // with a delay, where the delay starts at N and doubles itself
    // based on the previous delay value. 1, 2, 4, 8, etc


    function decayRecurse(delay, toRecurse) {
      var recurse = function recurse() {
        setTimeout(function () {
          toRecurse();
          delay += delay || 1000;
          recurse(delay);
        }, delay);
      };

      toRecurse();
      recurse(delay);
    }
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_5__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/picture_element/index.scss":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/picture_element/index.scss ***!
    \*******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/pinterest_save_button/index.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/pinterest_save_button/index.js ***!
    \***********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/pinterest_save_button/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/pinterest_save_button/index.scss":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/pinterest_save_button/index.scss ***!
    \*************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/place_hero/assets/curbed.png":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/place_hero/assets/curbed.png ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/site/place_hero/assets/curbed-5256a4a8067d4fc672536cfc43b5004c.png";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/place_hero/assets/eater.jpg":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/place_hero/assets/eater.jpg ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/site/place_hero/assets/eater-3384a6e625c156530c3eb33fe449f799.jpg";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/place_hero/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/place_hero/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _assets_curbed_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assets/curbed.png */ "./app_unison/frontend/stable/components/site/place_hero/assets/curbed.png");
  /* harmony import */ var _assets_curbed_png__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_assets_curbed_png__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var _assets_eater_jpg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/eater.jpg */ "./app_unison/frontend/stable/components/site/place_hero/assets/eater.jpg");
  /* harmony import */ var _assets_eater_jpg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_eater_jpg__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/place_hero/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_2__);




  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/place_hero/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/place_hero/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/product_card/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/product_card/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/product_card/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/product_card/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/product_card/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/promo_box/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/promo_box/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/promo_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/promo_box/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/promo_box/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/promo_list/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/promo_list/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/promo_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/promo_list/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/promo_list/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/recirc_module/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/recirc_module/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/recirc_module/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/recirc_module/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/recirc_module/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/related_list/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/related_list/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/related_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _entry_formatter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entry_formatter */ "./app_unison/frontend/stable/components/site/entry_formatter/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);




  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/related_list', function (element) {
    _entry_formatter__WEBPACK_IMPORTED_MODULE_2__["default"].formatVideoEmbeds(jquery__WEBPACK_IMPORTED_MODULE_3___default()(element));
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/related_list/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/related_list/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/resend_confirmation/index.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/resend_confirmation/index.js ***!
    \*********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/resend_confirmation/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/resend_confirmation/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/resend_confirmation', function (element) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/resend_confirmation/index.scss":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/resend_confirmation/index.scss ***!
    \***********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/resend_confirmation/scripts/view.js":
  /*!****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/resend_confirmation/scripts/view.js ***!
    \****************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_recaptcha_loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/recaptcha_loader */ "./app_unison/frontend/scripts/lib/recaptcha_loader.js");
  /* harmony import */ var lib_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/modal */ "./app_unison/frontend/scripts/lib/modal.js");




  var ResendConfirmationView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    events: {
      'click .c-resend-confirmation__button': 'handleClick'
    },
    initialize: function initialize(evt) {
      this.$button = this.$('.c-resend-confirmation__button');
      this.$message = this.$('.c-auth__message');
      Object(lib_recaptcha_loader__WEBPACK_IMPORTED_MODULE_2__["default"])();
    },
    handleClick: function handleClick() {
      var _this = this;

      // Disable button to prevent double click, which will fail Recaptcha test
      this.$button.prop('disabled', true);
      var data = {
        'g-recaptcha-response': this.$('[name="g-recaptcha-response"]').val()
      };
      this.fetch(data).then(function () {
        if (_this.messageType == 'success') {
          _this.$message.text('').hide();

          lib_modal__WEBPACK_IMPORTED_MODULE_3__["default"].overlay(_this.message); // Redirect to homepage

          window.setTimeout(function () {
            window.location = '/';
          }, 5000);
        } else {
          _this.$button.prop('disabled', false);

          _this.$message.text(_this.message).show();
        }
      });
    },

    /**
    * Requests confirmation email resend
    */
    fetch: function fetch(data) {
      var _this2 = this;

      if (!this._load) {
        this._load = jquery__WEBPACK_IMPORTED_MODULE_1___default.a.Deferred();
        jquery__WEBPACK_IMPORTED_MODULE_1___default.a.ajax({
          url: '/chorus_auth/initiate_resend_confirmation',
          method: 'post',
          data: data,
          format: 'json',
          complete: function complete(xhr) {
            var response = JSON.parse(xhr.responseText);
            _this2.message = response.message;
            _this2.messageType = response.message_type;

            _this2._load.resolve();

            _this2._load = null;
          },
          error: function error() {
            delete _this2._load;
          }
        });
      }

      return this._load.promise();
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (ResendConfirmationView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/review_label/assets/rating_star.svg":
  /*!****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/review_label/assets/rating_star.svg ***!
    \****************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/site/review_label/assets/rating_star-68a9ba4c09c5660fc77f75430fb32341.svg";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/review_label/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/review_label/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/review_label/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var _assets_rating_star_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/rating_star.svg */ "./app_unison/frontend/stable/components/site/review_label/assets/rating_star.svg");
  /* harmony import */ var _assets_rating_star_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_rating_star_svg__WEBPACK_IMPORTED_MODULE_1__);



  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/review_label/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/review_label/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/river/index.js":
  /*!*******************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/river/index.js ***!
    \*******************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _entry_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../entry_box */ "./app_unison/frontend/stable/components/site/entry_box/index.js");
  /* harmony import */ var _entry_group_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entry_group_list */ "./app_unison/frontend/stable/components/site/entry_group_list/index.js");
  /* harmony import */ var _entry_stat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../entry_stat */ "./app_unison/frontend/stable/components/site/entry_stat/index.js");
  /* harmony import */ var _dynamic_size_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/river/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_4__);






  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/river/index.scss":
  /*!*********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/river/index.scss ***!
    \*********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/river_section_title/index.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/river_section_title/index.js ***!
    \*********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/river_section_title/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/river_section_title/index.scss":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/river_section_title/index.scss ***!
    \***********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/scorecard/assets/decagon.svg":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/scorecard/assets/decagon.svg ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/site/scorecard/assets/decagon-3c9a0851b75fd39d99adcdfe648cd161.svg";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/scorecard/assets/venue.svg":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/scorecard/assets/venue.svg ***!
    \*******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  module.exports = __webpack_require__.p + "media/stable/components/site/scorecard/assets/venue-886ed981c97ba7bf48411069730dd686.svg";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/scorecard/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/scorecard/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.scss */ "./app_unison/frontend/stable/components/site/scorecard/styles/index.scss");
  /* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var _styles_game_info_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/game_info.scss */ "./app_unison/frontend/stable/components/site/scorecard/styles/game_info.scss");
  /* harmony import */ var _styles_game_info_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_game_info_scss__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var _styles_meta_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/meta.scss */ "./app_unison/frontend/stable/components/site/scorecard/styles/meta.scss");
  /* harmony import */ var _styles_meta_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_meta_scss__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var _assets_decagon_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assets/decagon.svg */ "./app_unison/frontend/stable/components/site/scorecard/assets/decagon.svg");
  /* harmony import */ var _assets_decagon_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_assets_decagon_svg__WEBPACK_IMPORTED_MODULE_3__);
  /* harmony import */ var _assets_venue_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./assets/venue.svg */ "./app_unison/frontend/stable/components/site/scorecard/assets/venue.svg");
  /* harmony import */ var _assets_venue_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_assets_venue_svg__WEBPACK_IMPORTED_MODULE_4__);






  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/scorecard/styles/game_info.scss":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/scorecard/styles/game_info.scss ***!
    \************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/scorecard/styles/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/scorecard/styles/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/scorecard/styles/meta.scss":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/scorecard/styles/meta.scss ***!
    \*******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/section_front_block/index.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/section_front_block/index.js ***!
    \*********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/section_front_block/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/section_front_block/index.scss":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/section_front_block/index.scss ***!
    \***********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/simple_map/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/simple_map/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/simple_map/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/simple_map/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/simple_map', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      lat: data.lat,
      lon: data.lon
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/simple_map/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/simple_map/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/simple_map/scripts/view.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/simple_map/scripts/view.js ***!
    \*******************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_google_maps__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/google_maps */ "./app_unison/frontend/scripts/lib/google_maps.js");
  /* harmony import */ var lib_google_maps_marker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/google_maps_marker */ "./app_unison/frontend/scripts/lib/google_maps_marker.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* global google:false */




  var SimpleMap = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize(opts) {
      var _this = this;

      var self = this;
      self.opts = opts;
      opts = lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].extend({
        lat: 0,
        lon: 0,
        slug: '',
        label: '',
        cssClass: 'c-simple-map__marker'
      }, opts);
      Object(lib_google_maps__WEBPACK_IMPORTED_MODULE_1__["default"])().then(function () {
        // Configure default starting center:
        // Create Google Map:
        _this.map = new google.maps.Map(_this.el, {
          center: new google.maps.LatLng(opts.lat, opts.lon),
          mapTypeControl: false,
          panControl: false,
          scrollwheel: false,
          streetViewControl: false,
          zoom: 14,
          zoomControl: true,
          zoomControlOptions: {
            position: google.maps.ControlPosition.RIGHT_CENTER
          }
        }); // Create MapMarkerView factory object:

        var marker = Object(lib_google_maps_marker__WEBPACK_IMPORTED_MODULE_2__["default"])(opts);
        _this.frame = marker;
        marker.setMap(_this.map);
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (SimpleMap);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/site_switcher/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/site_switcher/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/site_switcher/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/site_switcher/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/site_switcher/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/snippet_animation/index.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/snippet_animation/index.js ***!
    \*******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");


  var pending;

  function load() {
    pending = pending || __webpack_require__.e(/*! import() | snippet-anim */ "snippet-anim").then(__webpack_require__.bind(null, /*! ./scripts/main */ "./app_unison/frontend/stable/components/site/snippet_animation/scripts/main.js"));
    return pending;
  }

  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/snippet_animation', {
    build: function build(element) {
      load().then(function (module) {
        return new module["default"]({
          el: element
        });
      });
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/social_buttons_list/index.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/social_buttons_list/index.js ***!
    \*********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _apps_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../apps/auth */ "./app_unison/frontend/stable/components/apps/auth/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/social_buttons_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/social_buttons_list/scripts/view.js");
  /* harmony import */ var _scripts_popover__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scripts/popover */ "./app_unison/frontend/stable/components/site/social_buttons_list/scripts/popover.js");





  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/social_buttons_list', function (element, data) {
    data.el = element;
    new _scripts_view__WEBPACK_IMPORTED_MODULE_3__["default"](data);
  });
  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/social_buttons_list/popover', function (element, data) {
    data.el = element;
    new _scripts_popover__WEBPACK_IMPORTED_MODULE_4__["default"](data);
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/social_buttons_list/index.scss":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/social_buttons_list/index.scss ***!
    \***********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/social_buttons_list/scripts/popover.js":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/social_buttons_list/scripts/popover.js ***!
    \*******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view */ "./app_unison/frontend/stable/components/site/social_buttons_list/scripts/view.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var CLICKOFF_NS = 'click.social-popover';
  var PopoverView = _view__WEBPACK_IMPORTED_MODULE_0__["default"].extend({
    close: function close() {
      var $popover = this.$popover;
      this.toggleAriaAndFocus();
      if (!$popover) return;
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).off(CLICKOFF_NS);
      $popover.hide();
    },
    events: {
      'click [data-analytics-social]': 'social',
      'click [data-ui="more"]': 'onMore'
    },
    onMore: function onMore(evt) {
      var _this = this;

      evt.preventDefault();
      var $popover = this.$popover = this.$popover || this.$('[data-ui="popover"]');
      if ($popover.is(':visible')) return;
      requestAnimationFrame(function () {
        var $more = jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.currentTarget);
        var offset = $more.offset();
        var poffset = $more.parent().offset();
        var height = $popover.outerHeight();
        var width = $popover.outerWidth();
        var INSET = 20;
        var below = height > offset.top - INSET - document.documentElement.scrollTop;
        var top = below ? 'calc(100% + 5px)' : $more.position().top - (height + 5);
        var left = Math.min(offset.left + width - INSET, window.innerWidth - INSET) - width - poffset.left;
        var moreLocalX = offset.left - poffset.left;
        $popover.toggleClass('below', below).find('[data-ui="caret"]').css({
          left: Math.round(moreLocalX - left + 10)
        });
        $popover.css({
          top: top,
          left: left
        }).show();

        _this.toggleAriaAndFocus();

        requestAnimationFrame(function () {
          jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).off(CLICKOFF_NS).on(CLICKOFF_NS, function (evt) {
            if (!jquery__WEBPACK_IMPORTED_MODULE_1___default()(evt.target).closest($popover).length > 0) _this.close();
          });
        });
      });
    },
    social: function social(evt) {
      this.onService(evt);
    },
    toggleAriaAndFocus: function toggleAriaAndFocus() {
      var $collapsedMenu = jquery__WEBPACK_IMPORTED_MODULE_1___default()('[data-ui="more"] a'); // toggle acessibility attribute & focus

      if ($collapsedMenu.attr('aria-expanded') === 'false') {
        $collapsedMenu.attr('aria-expanded', 'true'); // focus on heading in popover

        jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-social-buttons__popover-header h3').focus();
      } else {
        $collapsedMenu.attr('aria-expanded', 'false');
      }
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (PopoverView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/social_buttons_list/scripts/view.js":
  /*!****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/social_buttons_list/scripts/view.js ***!
    \****************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var models_entry_stats__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! models/entry_stats */ "./app_unison/frontend/scripts/models/entry_stats.js");
  /* harmony import */ var models_social_counts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! models/social_counts */ "./app_unison/frontend/scripts/models/social_counts.js");
  /* harmony import */ var lib_sharing__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lib/sharing */ "./app_unison/frontend/scripts/lib/sharing.js");
  /* harmony import */ var lib_notification__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lib/notification */ "./app_unison/frontend/scripts/lib/notification.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");











  var SocialButtonsView = exoskeleton__WEBPACK_IMPORTED_MODULE_1___default.a.View.extend({
    initialize: function initialize(opts) {
      var _this = this;

      this.url = opts.base_url;

      if (opts.entry_id) {
        this.entry = models_entry_stats__WEBPACK_IMPORTED_MODULE_4__["default"].add({
          id: opts.entry_id
        });
        this.listenTo(this.entry, 'change', this.renderRecs);
        this.renderRecs();
      } // Delay for a few seconds before fetching social counts...


      setTimeout(function () {
        models_social_counts__WEBPACK_IMPORTED_MODULE_5__["default"].fetch(opts.services).always(function () {
          _this.render();
        });
      }, 1500);
    },
    renderRecs: function renderRecs() {
      var recd = this.entry.isRecommendedByUser();
      var totalRecs = this.entry.get('recommended_count');

      if (this.entry) {
        this.$('[data-analytics-social="rec"]').toggleClass('is-recced', recd).toggleClass('has-content', !!totalRecs && !recd).find('[data-ui="count"]').text(totalRecs ? " (".concat(totalRecs, ")") : '');
      }
    },
    render: function render() {
      this.$('[data-analytics-social]').each(function () {
        var $el = jquery__WEBPACK_IMPORTED_MODULE_2___default()(this);
        var service = $el.data('analytics-social');

        if (models_social_counts__WEBPACK_IMPORTED_MODULE_5__["default"].hasCount(service) && models_social_counts__WEBPACK_IMPORTED_MODULE_5__["default"].get(service) > 0) {
          $el.find('[data-ui="count"]').text(" (".concat(models_social_counts__WEBPACK_IMPORTED_MODULE_5__["default"].get(service), ")"));
        } // [AUD-1734] Since we’re opening social links in new windows, we should add something
        // to the link that signals that. (For example, `Share on Twitter <span class="sr-only"> (opens in new window)</span>)
        //
        // NOTE: this approach currently assumes there’s only one `sr-text` in the label,
        // and assumes that it’ll be at the end of the parent node. This fits with our current
        // usage in this component, but this might need to be rethought in the future


        var $accessibleText = $el.find('.sr-only');
        var labelNewWindow = ' (opens in new window)';

        if ($accessibleText.length > 0) {
          $accessibleText.append(labelNewWindow);
        } else {
          $el.append("<span class=\"sr-only\">".concat(labelNewWindow, "</span>"));
        }
      });
    },
    events: {
      'click [data-analytics-social]': 'onService'
    },
    onService: function onService(evt) {
      var service = this.$(evt.currentTarget).data('analytics-social');

      if (service === 'email') {
        if (lib_user_agent__WEBPACK_IMPORTED_MODULE_8__["default"].browser().safari) {
          window.location.href = this.$(evt.currentTarget).attr('href');
          evt.preventDefault();
        }

        return;
      }

      if (service !== 'republish_off_platform') {
        evt.preventDefault();
      }

      var url = evt.currentTarget.href || this.url;

      if (service === 'rec') {
        this.onRec();
      } else {
        lib_sharing__WEBPACK_IMPORTED_MODULE_6__["default"].share(url, service);
      }
    },
    onRec: function onRec() {
      var _this2 = this;

      models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].fetch().then(function () {
        if (models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].isLoggedIn()) {
          if (models_context__WEBPACK_IMPORTED_MODULE_3__["currentMember"].get('id')) {
            if (!_this2.entry) return;
            var rec = !_this2.entry.isRecommendedByUser();

            _this2.entry.recommend(rec).done(function () {
              if (rec) lib_notification__WEBPACK_IMPORTED_MODULE_7__["default"].success('Recommended.');
            }).fail(function (mssg) {
              lib_notification__WEBPACK_IMPORTED_MODULE_7__["default"].error(mssg);
            });
          } else {
            lib_notification__WEBPACK_IMPORTED_MODULE_7__["default"].error('You must be a member of ' + models_context__WEBPACK_IMPORTED_MODULE_3__["currentCommunity"].get('name') + ' to recommend.');
          }
        } else {
          lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].get('apps/auth').open();
        }
      });
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (SocialButtonsView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/sports_blog_directory/index.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/sports_blog_directory/index.js ***!
    \***********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/sports_blog_directory/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/sports_blog_directory/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/sports_blog_directory', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/sports_blog_directory/index.scss":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/sports_blog_directory/index.scss ***!
    \*************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/sports_blog_directory/scripts/view.js":
  /*!******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/sports_blog_directory/scripts/view.js ***!
    \******************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var SportsBlogDirectoryView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    currentTopic: null,
    initialize: function initialize() {
      this.$headers = this.$('.c-sports-blog-directory__main').find('h2, h3, h4');
      this.$entries = this.$('.c-sports-blog-directory__item');
      this.$filter = this.$('.c-filter-list');
      this.$textInput = this.$('.c-filter-list__search-input');
    },
    handleFilterChange: function handleFilterChange(event, slug) {
      var val = slug.replace('#', '');
      this.$textInput.val('');

      if (val === 'all') {
        this.showAll();
      } else {
        this.filterByTopic(val);
      }
    },
    handleInputTextChange: function handleInputTextChange(evt) {
      var val = this.$textInput.val();

      if (val.length < 3) {
        if (this.currentTopic && this.currentTopic != 'all') {
          this.filterByTopic(this.currentTopic);
        } else {
          this.showAll();
        }
      } else {
        this.filterByText(val);
      }
    },
    showAll: function showAll() {
      this.$filter.removeClass('disabled');
      this.$headers.show();
      this.$entries.show();
    },
    filterByTopic: function filterByTopic(topic) {
      this.$filter.removeClass('disabled');
      this.$headers.hide();
      this.$entries.hide();
      this.currentTopic = topic;
      this.$('#' + topic).show().nextUntil('h2').show();
    },
    filterByText: function filterByText(searchText) {
      this.$headers.hide();
      this.$filter.addClass('disabled');
      this.$entries.each(function (idx, el) {
        var isFeatured = el.hasAttribute('data-featured');
        var isTextMatch = el.innerText.toUpperCase().indexOf(searchText.toUpperCase()) >= 0;
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(el).toggle(isTextMatch && !isFeatured);
      });
    },
    events: {
      'filter .c-filter-list': 'handleFilterChange',
      'keyup .c-filter-list__search-input': 'handleInputTextChange'
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (SportsBlogDirectoryView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/stream_list/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/stream_list/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _entry_box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../entry_box */ "./app_unison/frontend/stable/components/site/entry_box/index.js");
  /* harmony import */ var _entry_group_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entry_group_list */ "./app_unison/frontend/stable/components/site/entry_group_list/index.js");
  /* harmony import */ var _dynamic_size_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/stream_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_3__);





  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/stream_list/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/stream_list/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/subnav/index.js":
  /*!********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/subnav/index.js ***!
    \********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/subnav/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/subnav/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/subnav', function (element, data) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/subnav/index.scss":
  /*!**********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/subnav/index.scss ***!
    \**********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/subnav/scripts/view.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/subnav/scripts/view.js ***!
    \***************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");




   // const MOBILE_BREAK = 600;

  var FIXED_CLASS = 'sub-nav-fixed';
  var SubnavView = exoskeleton__WEBPACK_IMPORTED_MODULE_1___default.a.View.extend({
    $body: jquery__WEBPACK_IMPORTED_MODULE_2___default()('body'),
    // Initializes the model with events:
    initialize: function initialize() {
      var _this = this;

      this.setNavItemsDisplay();
      this.nudgeSubmenus();
      this.attachListeners(); // Wait for fonts to finish loading and re-calculate nav item widths
      // IE11 doesn't support promises, hence double call

      lib_initializer__WEBPACK_IMPORTED_MODULE_0__["default"].get('site/font_loader').load().then(function () {
        _this.setNavItemsDisplay();

        _this.nudgeSubmenus();
      });
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].debounce(this.setNavItemsDisplay.bind(this), 200));
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('resize', lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].debounce(this.nudgeSubmenus.bind(this), 200));
      var $startFixedPositionElement = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.main-social');
      var isFixed = false;
      var overrideDefaultBehavior = false;
      var $win = jquery__WEBPACK_IMPORTED_MODULE_2___default()(window).on('scroll', lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].throttle(function () {
        var scrollTop = $win.scrollTop();
        var startingVisibility = isFixed; // let's not touch the dom if we're not going to update anything anyways

        if (overrideDefaultBehavior) {
          return true;
        } // A special use case, when we have Scroll enabled we are never going to
        // enable the share bar, it will be built into Scroll.


        if (window.Scroll && window.Scroll.config && window.Scroll.config.detected) {
          // If we have the bar visible currently, then we don't want that to be
          // true anymore. So we get rid of the bar.
          if (startingVisibility) {
            isFixed = false;

            _this.toggleBarVisibility(isFixed);
          }

          return true;
        } // The start/end positions are continually re-calculated (instead of only once) because
        // new asynchronously loaded elements, such as ads, may change the offets.


        var startFixedPosition = $startFixedPositionElement.length ? $startFixedPositionElement.offset().top : 500; // Tab bar appears when the reader scrolls between the social buttons (near byline)
        // and bottom of the article body.

        var isAfterStartPosition = scrollTop >= startFixedPosition;
        isFixed = isAfterStartPosition; // Only touch the dom and fire an event if the state has changed

        if (startingVisibility !== isFixed) {
          _this.toggleBarVisibility(isFixed);
        }
      }, 400));
    },
    events: {
      'click .c-subnav__link': 'onLinkClick',
      'click .c-subnav__link-more': 'onLinkClick'
    },
    toggleBarVisibility: function toggleBarVisibility(isFixed) {
      this.$el.toggleClass(FIXED_CLASS, isFixed);
      document.dispatchEvent(new Event('unisonTabBarVisibility', {
        bubbles: true,
        detail: {
          'visible': isFixed
        }
      }));
    },
    setNavItemsDisplay: function setNavItemsDisplay() {
      var $moreLink = this.$('.c-subnav__link-more');
      var viewableWidth = 0;
      var navItemsWidth = 0;
      var navItems = []; // this looks werid, but keeps the height from bouncing around when the sticky subnav is applied.

      var subnavHeight = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav').height();
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav').height(subnavHeight);
      viewableWidth += jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav').width();
      viewableWidth -= jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav__parent').width();
      this.$('.c-subnav__link').each(function () {
        navItems.push(this);
      });
      navItemsWidth += $moreLink.width();
      navItems.forEach(function (item) {
        var $item = jquery__WEBPACK_IMPORTED_MODULE_2___default()(item);
        navItemsWidth += $item.width();
        var itemId = $item.attr('data-nav-item-id');
        var navListElement = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav__more-list').find('[data-nav-item-id=' + itemId + ']');

        if (navItemsWidth > viewableWidth) {
          $item.addClass('hidden');
          navListElement.removeClass('hidden');
        } else {
          $item.removeClass('hidden');
          navListElement.addClass('hidden');
        }
      });
      $moreLink.toggleClass('hidden', navItemsWidth <= viewableWidth);
      this.$el.addClass('ready');
    },
    onLinkClick: function onLinkClick(evt) {
      lib_analytics__WEBPACK_IMPORTED_MODULE_4__["default"].nav('click', evt.currentTarget.innerText.trim());
    },
    nudgeSubmenus: function nudgeSubmenus() {
      var submenus = this.$el.find('ul.c-subnav__child');
      var viewableWidth = jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav').width();
      submenus.each(function (id, item) {
        var width = jquery__WEBPACK_IMPORTED_MODULE_2___default()(item).width();
        var parent = jquery__WEBPACK_IMPORTED_MODULE_2___default()(item).parent();

        if (viewableWidth < parent.position().left + width) {
          jquery__WEBPACK_IMPORTED_MODULE_2___default()(item).addClass('right-align');
        } else {
          jquery__WEBPACK_IMPORTED_MODULE_2___default()(item).removeClass('right-align');
        }
      });
    },
    attachListeners: function attachListeners() {
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('button.c-subnav__label').on('mouseenter', jquery__WEBPACK_IMPORTED_MODULE_2___default.a.proxy(this.handleTrigger, this));
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('button.c-subnav__label').on('click', jquery__WEBPACK_IMPORTED_MODULE_2___default.a.proxy(this.handleTrigger, this));
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('body').on('mouseleave', 'li.is-attached', jquery__WEBPACK_IMPORTED_MODULE_2___default.a.proxy(this.closeMenuHandler, this));
    },
    closeMenus: function closeMenus() {
      this.$body.off('click', this.closeMenuHandler);
      this.$body.off('keyup', this.keyMenuHandler);
      jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav__inner > ul > li.is-attached').removeClass('is-attached');
    },
    openMenu: function openMenu(elem) {
      this.$body.on('click', jquery__WEBPACK_IMPORTED_MODULE_2___default.a.proxy(this.closeMenuHandler, this));
      this.$body.on('keyup', jquery__WEBPACK_IMPORTED_MODULE_2___default.a.proxy(this.keyMenuHandler, this));
      jquery__WEBPACK_IMPORTED_MODULE_2___default()(elem).addClass('is-attached');
    },
    keyMenuHandler: function keyMenuHandler(event) {
      switch (event.which) {
        // ESCAPE
        case 27:
          jquery__WEBPACK_IMPORTED_MODULE_2___default()('li.is-attached button').focus();
          this.closeMenus();
          break;
        // UP ARROW

        case 38:
          event.preventDefault();

          if (jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav li a:focus').parent('li').prev().length) {
            jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav li a:focus').parent('li').prev().find('a').focus();
          } else {
            jquery__WEBPACK_IMPORTED_MODULE_2___default()('li.is-attached button').focus();
          }

          break;
        // DOWN ARROW

        case 40:
          event.preventDefault();

          if (jquery__WEBPACK_IMPORTED_MODULE_2___default()(document.activeElement).hasClass('c-subnav__label')) {
            jquery__WEBPACK_IMPORTED_MODULE_2___default()('li.is-attached li:visible:first a').focus();
          } else {
            jquery__WEBPACK_IMPORTED_MODULE_2___default()('.c-subnav li a:focus').parent('li').next().find('a').focus();
          }

          break;

        default: // ¯\_(ツ)_/¯

      }
    },
    closeMenuHandler: function closeMenuHandler() {
      this.closeMenus();
    },
    handleTrigger: function handleTrigger(event) {
      event.stopPropagation();
      var parent = event.currentTarget.parentElement;
      var menuOpen = jquery__WEBPACK_IMPORTED_MODULE_2___default()(parent).hasClass('is-attached');
      this.closeMenus();

      if (!menuOpen) {
        this.openMenu(parent);
      }
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (SubnavView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/tab_bar/index.js":
  /*!*********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/tab_bar/index.js ***!
    \*********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _social_buttons_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../social_buttons_list */ "./app_unison/frontend/stable/components/site/social_buttons_list/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/tab_bar/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/tab_bar/scripts/view.js");





  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('site/tab_bar/index', function (element, data) {
    models_context__WEBPACK_IMPORTED_MODULE_3__["currentUser"].fetch().done(function () {
      new _scripts_view__WEBPACK_IMPORTED_MODULE_4__["default"]({
        el: element,
        data: data
      });
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/tab_bar/index.scss":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/tab_bar/index.scss ***!
    \***********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/tab_bar/scripts/view.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/tab_bar/scripts/view.js ***!
    \****************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");



  var FIXED_CLASS = 'tab-bar-fixed';
  var BREAK_MED_SMALL_WIDTH = 600;
  var TabBarIndexView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    events: {
      'site_sponsorship_logo_color_rendered': 'onSiteSponsorshipLogoRender',
      'site_sponsorship_logo_mobile_color_rendered': 'onSiteSponsorshipLogoRender'
    },
    initialize: function initialize(opts) {
      var _this = this;

      var data = opts.data;
      var isPackageLandingPage = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-package-cover').length > 0;
      var showTabBar = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-subnav-default').length < 1;

      if (!showTabBar) {
        return;
      }

      if (data.minimal) {
        if (isPackageLandingPage) {
          jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-package-cover').addClass('has-minimal-nav');
        } else {
          // this is heinous but we can't let the nav obscure ads
          // check if we need to accommodate full-width preludes first
          if (jquery__WEBPACK_IMPORTED_MODULE_1___default()('.m-ad__prelude').length > 0) {
            jquery__WEBPACK_IMPORTED_MODULE_1___default()('.m-ad__prelude').addClass('has-minimal-nav');
          }

          jquery__WEBPACK_IMPORTED_MODULE_1___default()('.l-header').addClass('has-minimal-nav');
        }
      }

      var $startFixedPositionElement;

      if (data.minimal && isPackageLandingPage) {
        $startFixedPositionElement = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-package-cover');
      } else if (data.minimal) {
        $startFixedPositionElement = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-entry-hero');
      } else {
        $startFixedPositionElement = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.main-social');
      }

      var isGroupPage = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.l-hub-wrapper').length > 0;
      var isStream = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-stream-list').length > 0;
      var $endFixedPositionElement;

      if (isGroupPage) {
        $endFixedPositionElement = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.l-main-content');
      } else if (isStream) {
        $endFixedPositionElement = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-stream-list');
      } else {
        $endFixedPositionElement = jquery__WEBPACK_IMPORTED_MODULE_1___default()('.c-entry-content');
      }

      var isFixed = false;
      var overrideDefaultBehavior = false; // A custom event that can be fired (mostly for ads purposes)
      // to override the scroll-based checking
      // if no details are provided in the event it's a noop
      // detail keys are:
      // visibility: boolean; true shows the bar, false hides it
      // reset: removes the override and reverts to scroll based behavior

      document.addEventListener('unisonTabBarOverride', function (ev) {
        if (ev.detail.hasOwnProperty('visibility')) {
          overrideDefaultBehavior = true;
          isFixed = ev.detail.visibility;

          _this.toggleBarVisibility(isFixed);
        } else if (ev.detail.reset) {
          // will take effect when the user scrolls again
          overrideDefaultBehavior = false;
        }
      });
      var $win = jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).on('scroll', lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].throttle(function () {
        var scrollTop = $win.scrollTop();
        var startingVisibility = isFixed; // let's not touch the dom if we're not going to update anything anyways

        if (overrideDefaultBehavior) {
          return true;
        } // A special use case, when we have Scroll enabled we are never going to
        // enable the share bar, it will be built into Scroll.


        if (window.Scroll && window.Scroll.config && window.Scroll.config.detected) {
          // If we have the bar visible currently, then we don't want that to be
          // true anymore. So we get rid of the bar.
          if (startingVisibility) {
            isFixed = false;

            _this.toggleBarVisibility(isFixed);
          }

          return true;
        } // The start/end positions are continually re-calculated (instead of only once) because
        // new asynchronously loaded elements, such as ads, may change the offets.


        var startFixedPosition = $startFixedPositionElement.length ? $startFixedPositionElement.offset().top : 500;
        var endFixedPosition = $endFixedPositionElement.offset().top + $endFixedPositionElement.height() - $win.height(); // Tab bar appears when the reader scrolls between the social buttons (near byline)
        // and bottom of the article body.

        var isAfterStartPosition = scrollTop >= startFixedPosition;
        var isBeforeEndPosition = scrollTop <= endFixedPosition;
        isFixed = isAfterStartPosition && isBeforeEndPosition; // Only touch the dom and fire an event if the state has changed

        if (startingVisibility !== isFixed) {
          _this.toggleBarVisibility(isFixed); // Toggle behavior for minimal view, which has slightly different positioning/scroll behavior


          if (data.minimal && isBeforeEndPosition) {
            _this.toggleMinimalBarVisibility(isFixed, isAfterStartPosition, isBeforeEndPosition);
          }
        }
      }, 400));
    },
    toggleBarVisibility: function toggleBarVisibility(isFixed) {
      this.$el.toggleClass(FIXED_CLASS, isFixed);
      document.dispatchEvent(new Event('unisonTabBarVisibility', {
        bubbles: true,
        detail: {
          'visible': isFixed
        }
      }));
    },
    toggleMinimalBarVisibility: function toggleMinimalBarVisibility(isFixed, isAfterStartPosition, isBeforeEndPosition) {
      if (window.innerWidth < BREAK_MED_SMALL_WIDTH) {
        if (!isBeforeEndPosition) {
          // affix tab bar to bottom of screen if user is scrolling within the article
          this.$el.toggleClass('is-minimal', !isFixed);
          this.$el.toggleClass('is-minimal-fixed', isFixed);
        }
      }

      if (!isAfterStartPosition) {
        // position tab bar at top of the page if user has scrolled down, then back up to top
        this.$el.addClass('is-minimal', !isFixed);
      } else {
        // hide tab bar if user has scrolled below article body
        this.$el.removeClass('is-minimal', 'is-minimal-fixed');
      }
    },
    onSiteSponsorshipLogoRender: function onSiteSponsorshipLogoRender() {
      this.$el.addClass('has-site-sponsorship-logo');
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (TabBarIndexView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/text_hero/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/text_hero/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/text_hero/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/text_hero/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/text_hero/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/toaster/index.js":
  /*!*********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/toaster/index.js ***!
    \*********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/toaster/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/index */ "./app_unison/frontend/stable/components/site/toaster/scripts/index.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/toaster', function (element, data) {
    new _scripts_index__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element,
      data: data
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].HIGH
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/toaster/index.scss":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/toaster/index.scss ***!
    \***********************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/toaster/scripts/index.js":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/toaster/scripts/index.js ***!
    \*****************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");



  var ToasterView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize(props) {
      this.opts = props.data;

      if (this.shouldShowToaster()) {
        this.$el.addClass('c-toaster-active');
        this.checkScrollPosition();
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).on('scroll', lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].throttle(this.checkScrollPosition.bind(this), 300));
      }
    },
    events: {
      'click #closeToaster': 'closeToaster',
      'click a,button': 'hideToaster'
    },
    hideToaster: function hideToaster() {
      window.localStorage.setItem('hide_toaster', Date.now()); // the newsletter toaster stays at the bottom of the page, but with the CTA variation, we want to hide it entirely.

      if (this.opts.show_toaster_cta) {
        this.$el.addClass('c-toaster-hidden');
      }
    },
    closeToaster: function closeToaster() {
      this.$el.removeClass('c-toaster-stuck');
      this.hideToaster();
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(document).off('scroll');
    },
    checkScrollPosition: function checkScrollPosition() {
      var position = jquery__WEBPACK_IMPORTED_MODULE_1___default()(window).scrollTop();
      var showPosition = parseInt(this.opts.scroll_depth);
      var isVisible = this.$el.hasClass('c-toaster-stuck');

      if (position > showPosition) {
        if (!isVisible) {
          this.$el.addClass('c-toaster-stuck');
        }
      } else if (isVisible) {
        this.$el.removeClass('c-toaster-stuck');
      }
    },
    shouldShowToaster: function shouldShowToaster() {
      if (this.opts.use_visited_limit) {
        return this.showToasterUsingVisitedPagesLimit();
      } else {
        return this.showToasterUsingDismissInterval();
      }
    },
    showToasterUsingDismissInterval: function showToasterUsingDismissInterval() {
      var toasterDate = window.localStorage.getItem('hide_toaster');

      if (toasterDate) {
        var dateNow = Date.now();
        var milliSecondsToExpire = this.opts.dismiss_interval * 24 * 60 * 60 * 1000; // h, m, s, ms

        if (dateNow - toasterDate > milliSecondsToExpire) {
          window.localStorage.removeItem('hide_toaster');
          return true;
        }

        return false;
      }

      return true;
    },
    showToasterUsingVisitedPagesLimit: function showToasterUsingVisitedPagesLimit() {
      var numberOfPagesVisited = sessionStorage.getItem('pagesVisited');

      if (!numberOfPagesVisited) {
        sessionStorage.setItem('pagesVisited', 1);
      } else {
        sessionStorage.setItem('pagesVisited', parseInt(numberOfPagesVisited) + 1);
      }

      var numberOfPagesVisitedBeforeToasterShouldAppear = this.opts.visited_limit;

      if (parseInt(sessionStorage.getItem('pagesVisited')) > numberOfPagesVisitedBeforeToasterShouldAppear) {
        sessionStorage.setItem('pagesVisited', 0);
        return true;
      }
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (ToasterView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/tos_notificaton/index.js":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/tos_notificaton/index.js ***!
    \*****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/tos_notificaton/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/site/tos_notificaton/scripts/view.js");






  var CONFIRM_ACCEPT_VALUE = '1';
  var DEFAULT_TEXT = 'By clicking, you agree to the Vox Media  <a href="https://www.voxmedia.com/legal/privacy-notice">Privacy Notice</a> and <a href="https://www.voxmedia.com/legal/terms-of-use">Terms of Use</a>.';
  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].readyTask(function () {
    models_context__WEBPACK_IMPORTED_MODULE_2__["default"].fetch().then(function () {
      var tosNotifications = models_context__WEBPACK_IMPORTED_MODULE_2__["default"].get('tos_notifications');
      tosNotifications.forEach(function () {
        var tos_notification = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        var tosUpdateId = 'tos-accepted-' + tos_notification.id;

        function applyNotice() {
          // if the user not logged in, and it's only to be shown to logged-in users
          if (!models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].get('id') && tos_notification.applies_only_to_registered_users) {
            return false;
          } // user hasn't accepted this update.


          if (lib_localstorage__WEBPACK_IMPORTED_MODULE_3__["default"].get(tosUpdateId) != CONFIRM_ACCEPT_VALUE) {
            return true;
          }

          return false;
        }

        if (applyNotice()) {
          tos_notification.tos_update_id = tosUpdateId;

          if (!tos_notification.text) {
            tos_notification.text = DEFAULT_TEXT;
          }

          new _scripts_view__WEBPACK_IMPORTED_MODULE_4__["default"](tos_notification);
        }
      });
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].LOW
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/tos_notificaton/index.scss":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/tos_notificaton/index.scss ***!
    \*******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/tos_notificaton/scripts/view.js":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/tos_notificaton/scripts/view.js ***!
    \************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var _tmpl_index_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tmpl/index.html */ "./app_unison/frontend/stable/components/site/tos_notificaton/tmpl/index.html");
  /* harmony import */ var _tmpl_index_html__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tmpl_index_html__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");
  /* harmony import */ var lib_localstorage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/localstorage */ "./app_unison/frontend/scripts/lib/localstorage.js");
  /* harmony import */ var lib_notification__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/notification */ "./app_unison/frontend/scripts/lib/notification.js");
  /* harmony import */ var lib_analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/analytics */ "./app_unison/frontend/scripts/lib/analytics.js");






  var CONFIRM_ACCEPT_VALUE = '1';
  var TOSUpdateNotice = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    tos_update_id: null,
    notice_type: 'privacy_notice',
    notice_element: null,
    initialize: function initialize(opts) {
      var _this = this;

      this.tos_update_id = opts.tos_update_id;

      if (opts.ui_format == 'hat') {
        this.notice_element = lib_notification__WEBPACK_IMPORTED_MODULE_4__["default"].hat(Object(lib_template__WEBPACK_IMPORTED_MODULE_2__["default"])(_tmpl_index_html__WEBPACK_IMPORTED_MODULE_1___default.a)(opts), false, false);
      } else {
        this.notice_element = lib_notification__WEBPACK_IMPORTED_MODULE_4__["default"].notify(Object(lib_template__WEBPACK_IMPORTED_MODULE_2__["default"])(_tmpl_index_html__WEBPACK_IMPORTED_MODULE_1___default.a)(opts), false, false);
      }

      this.notice_element.find('a, .p-button, .p-notice-dismiss').on('click', function (evt) {
        _this.handleClick(evt);
      });
    },
    remember: function remember() {
      lib_localstorage__WEBPACK_IMPORTED_MODULE_3__["default"].set(this.tos_update_id, CONFIRM_ACCEPT_VALUE);
    },
    track: function track() {
      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : close;
      lib_analytics__WEBPACK_IMPORTED_MODULE_5__["default"].event('ppalert:click', 'view', action);
    },
    handleClick: function handleClick(evt) {
      evt.preventDefault();

      if (evt.target.getAttribute('href')) {
        setTimeout(function () {
          window.location = evt.target.getAttribute('href');
        }, 100);
      } else {
        this.track('privacy-agree');
        this.remember();
        lib_notification__WEBPACK_IMPORTED_MODULE_4__["default"].close(this.notice_element);
      }
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (TOSUpdateNotice);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/tos_notificaton/tmpl/index.html":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/tos_notificaton/tmpl/index.html ***!
    \************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<div>\n  <div class=\"c-privacy-notice-notification\">\n    <%= data.text %> <button class=\"p-button\" data-ui-action=\"privacy-agree\">I agree</button>\n  </div>\n<div>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/user_activity/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/user_activity/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _dynamic_size_image__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dynamic_size_image */ "./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  /* harmony import */ var _entry_box__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../entry_box */ "./app_unison/frontend/stable/components/site/entry_box/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/user_activity/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_time__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/time */ "./app_unison/frontend/scripts/lib/time.js");





  lib_initializer__WEBPACK_IMPORTED_MODULE_3__["default"].registerComponent('site/user_activity', function (componentEl, data) {
    function updateTimestamps() {
      var timestamps = componentEl.querySelectorAll('[data-timestamp]');

      for (var i = 0; i < timestamps.length; i++) {
        var el = timestamps[i];
        el.innerText = lib_time__WEBPACK_IMPORTED_MODULE_4__["default"].relative(Number(el.getAttribute('data-timestamp')));
      }
    }

    setInterval(updateTimestamps, 1000 * 60);
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/user_activity/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/user_activity/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/user_card/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/user_card/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _social_buttons_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../social_buttons_list */ "./app_unison/frontend/stable/components/site/social_buttons_list/index.js");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/user_card/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_1__);



  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/user_card/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/user_card/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/user_membership_list/index.js":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/user_membership_list/index.js ***!
    \**********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/user_membership_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/user_membership_list', function (el) {
    jquery__WEBPACK_IMPORTED_MODULE_2___default()(el).on('click', '[data-leave]', function (evt) {
      evt.preventDefault();
      evt.stopPropagation();
      var $bttn = jquery__WEBPACK_IMPORTED_MODULE_2___default()(evt.currentTarget);

      if (window.confirm('Are you sure you want to leave ' + $bttn.attr('data-leave') + '?')) {
        $bttn.closest('form').submit();
      }
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/user_membership_list/index.scss":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/user_membership_list/index.scss ***!
    \************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/video_embed/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/video_embed/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/video_embed/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/modal */ "./app_unison/frontend/scripts/lib/modal.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _entry_formatter__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../entry_formatter */ "./app_unison/frontend/stable/components/site/entry_formatter/index.js");
  /* harmony import */ var _script_on_demand__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./script/on_demand */ "./app_unison/frontend/stable/components/site/video_embed/script/on_demand.js");







  lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].registerComponent('site/video_embed', function () {}, {
    modal: function modal(opts) {
      try {
        var odp = new _script_on_demand__WEBPACK_IMPORTED_MODULE_6__["default"](lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(opts, {
          include_cta: true,
          volume_autoplay: true,
          volume_autoplay_with_sound: true
        }));
        lib_modal__WEBPACK_IMPORTED_MODULE_3__["default"].overlay(odp.el, {
          className: 'video-embed-modal'
        });
        setTimeout(function () {
          return odp.embed();
        }, 1000); // << allow time for modal to come into viewport.
      } catch (e) {
        // if the odp errors out, pass the play thru to the entry
        if (opts.url) {
          window.location = opts.url;
        }
      }
    },
    embed: function embed(element, opts) {
      // this has a tendacy to error out when there's not a volume video,
      // so try to maintain some semblance of order
      try {
        var odp = new _script_on_demand__WEBPACK_IMPORTED_MODULE_6__["default"](lib_utils__WEBPACK_IMPORTED_MODULE_2__["default"].extend(opts, {
          'volume_autoplay': false
        }));
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(element).append(odp.$el);
        jquery__WEBPACK_IMPORTED_MODULE_1___default()(element).on('click', function (evt) {
          evt.preventDefault();
          evt.stopPropagation();
          odp.play();
        });
        requestAnimationFrame(function () {
          return odp.embed();
        });
      } catch (e) {}
    }
  });
  lib_initializer__WEBPACK_IMPORTED_MODULE_4__["default"].registerComponent('site/video_embed/sanitize', function (element) {
    var $el = jquery__WEBPACK_IMPORTED_MODULE_1___default()(element);
    _entry_formatter__WEBPACK_IMPORTED_MODULE_5__["default"].formatVideoEmbeds($el); // listen to additions below, ins case this gets altered after the fact, due to some slow embed js or something

    new MutationObserver(function (mutations) {
      mutations.forEach(function () {
        return _entry_formatter__WEBPACK_IMPORTED_MODULE_5__["default"].formatVideoEmbeds($el);
      });
    }).observe(element, {
      childList: true,
      subtree: true
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/video_embed/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/video_embed/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/video_embed/script/on_demand.js":
  /*!************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/video_embed/script/on_demand.js ***!
    \************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");
  /* harmony import */ var _tmpl_on_demand_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tmpl/on_demand.html */ "./app_unison/frontend/stable/components/site/video_embed/script/tmpl/on_demand.html");
  /* harmony import */ var _tmpl_on_demand_html__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_tmpl_on_demand_html__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var lib_video__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/video */ "./app_unison/frontend/scripts/lib/video.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var _entry_formatter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../entry_formatter */ "./app_unison/frontend/stable/components/site/entry_formatter/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_7__);








  var FULL_SCREEN_EVENT = 'webkitfullscreenchange.videoPlayer mozfullscreenchange.videoPlayer fullscreenchange.videoPlayer MSFullscreenChange';
  var VideoEmbedOnDemand = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    _opts: {},
    template: Object(lib_template__WEBPACK_IMPORTED_MODULE_1__["default"])(_tmpl_on_demand_html__WEBPACK_IMPORTED_MODULE_2___default.a),
    className: 'c-video-embed__on-demand',
    initialize: function initialize() {
      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      this._opts = opts;
      this.render();
    },
    render: function render() {
      var data = lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].extend({
        id_uid: new Date().getTime(),
        volume_autoplay: 'true',
        // this is used as a string by the embed
        volume_autoplay_with_sound: 'false',
        // this is used as a string by the embed
        volume_trigger: 'embed'
      }, this._opts); // Autoplay videos


      data.video_embed_code = this.addAutoPlayToEmbed(data.video_embed_code);
      this.$el.html(this.template(data));
    },
    embed: function embed() {
      var _this = this;

      try {
        lib_video__WEBPACK_IMPORTED_MODULE_4__["default"].embedVideo(this.$('.c-video-embed')[0]);
      } catch (e) {
        console.log(e);
      }

      setTimeout(function () {
        return _entry_formatter__WEBPACK_IMPORTED_MODULE_6__["default"].formatVideoEmbeds(_this.$el);
      }, 600);
    },
    play: function play() {
      var _this2 = this;

      try {
        var ifrm = this.$('.c-video-embed iframe')[0];
        this.$el.addClass('activated');
        var volumeClient = Object(lib_video__WEBPACK_IMPORTED_MODULE_4__["default"])(ifrm);
        volumeClient.play();

        if (lib_user_agent__WEBPACK_IMPORTED_MODULE_5__["default"].isMobile() && !lib_user_agent__WEBPACK_IMPORTED_MODULE_5__["default"].iOSversion().ios) {
          var $doc = this.$(document);

          var exitFS = function exitFS(evt) {
            if (!lib_user_agent__WEBPACK_IMPORTED_MODULE_5__["default"].isFullScreen()) {
              setTimeout(function () {
                return volumeClient.pause();
              }, 1000);

              _this2.$el.removeClass('activated');

              $doc.off(FULL_SCREEN_EVENT);
            }
          };

          if (ifrm.requestFullscreen) {
            ifrm.requestFullscreen();
          } else if (ifrm.mozRequestFullScreen) {
            ifrm.mozRequestFullScreen();
          } else if (ifrm.webkitRequestFullScreen) {
            ifrm.webkitRequestFullScreen();
          }

          $doc.off(FULL_SCREEN_EVENT).on(FULL_SCREEN_EVENT, exitFS);
        }
      } catch (e) {
        console.log(e);
      }
    },
    addAutoPlayToEmbed: function addAutoPlayToEmbed(embedCode) {
      var doc = document.createElement('html');
      doc.innerHTML = embedCode;
      var iframe = doc.getElementsByTagName('iframe')[0];

      if (iframe) {
        // Allow autoplay: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes#iframe
        var allow = (iframe.getAttribute('allow') || '').split(';').concat('autoplay');
        allow = jquery__WEBPACK_IMPORTED_MODULE_7___default.a.unique(allow).filter(function (x) {
          return x && x.length > 0;
        }).join(';');
        iframe.setAttribute('allow', allow); // Add ?autoplay=1 to YouTube embed src

        var src = iframe.getAttribute('src');

        if (/youtube\.com/i.test(src)) {
          if (!/\?$/.test(src)) src += '?'; // append '?'

          if (!/&autoplay=1$/i.test(src)) src += 'autoplay=1'; // append '&autoplay=1' query param

          iframe.setAttribute('src', src);
        }
      }

      return doc.innerHTML;
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (VideoEmbedOnDemand);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/video_embed/script/tmpl/on_demand.html":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/video_embed/script/tmpl/on_demand.html ***!
    \*******************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<% if (data.include_cta) { %>\n  <% if (data.title && data.title.length > 0 && data.url && data.url.length > 0) { %>\n    <h2 tabindex=\"-1\" class=\"c-video-embed__cta\">\n      <a href=\"<%= data.url %>\">Read more:&nbsp;<%= data.title %></a>\n    </h2>\n  <% } %>\n<% } %>\n<% if (data.volume_uuid) { %>\n  <div class=\"c-video-embed volume-video\" id=\"volume-placement-<%= data.id_uid %>\"\n    data-volume-id=\"<%= data.volume_id %>\"\n    data-volume-uuid=\"<%= data.volume_uuid %>\"\n    data-volume-placement=\"<%= data.volume_placement %>\"\n    data-volume-autoplay=\"<%= data.volume_autoplay %>\"\n    data-volume-autoplay-with-sound=\"<%= data.volume_autoplay_with_sound %>\"\n    data-volume-trigger=\"<%= data.volume_trigger %>\"\n    data-volume-player-choice=\"<%= data.player_choice %>\"\n    data-volume-start-time=\"<%= data.start_time %>\"\n    data-analytics-placement=\"<%= data.analytics_placement %>\">\n  </div>\n<% } else if (data.video_embed_code) { %>\n  <div class=\"p-scalable-video\">\n    <%= data.video_embed_code %>\n  </div>\n<% } %>\n<% if (data.include_cta) { %>\n  <% if (data.facebook_video_url && data.facebook_video_url.length > 0) { %>\n    <a class=\"c-video-embed__subscribe\" href=\"<%= data.facebook_video_url %>\">For more videos, follow us on Facebook.</a>\n  <% } else if (data.youtube_url &&  data.youtube_url.length > 0) { %>\n    <a class=\"c-video-embed__subscribe\" href=\"<%= data.youtube_url %>\">Like this video? Subscribe on YouTube.</a>\n  <% } %>\n  <div class=\"c-video-embed__ad-slot\"></div>\n<% } %>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/video_preview/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/video_preview/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/site/video_preview/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_user_agent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/user_agent */ "./app_unison/frontend/scripts/lib/user_agent.js");
  /* harmony import */ var lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/utils */ "./app_unison/frontend/scripts/lib/utils.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__);





  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('site/video_preview', function (element, data) {
    if (lib_user_agent__WEBPACK_IMPORTED_MODULE_2__["default"].isMobile()) {
      var imageWrapper = jquery__WEBPACK_IMPORTED_MODULE_4___default()(element).find('.c-video-preview__image-wrapper');
      imageWrapper.removeAttr('src');
      lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].get('site/video_embed').embed(imageWrapper[0], data);
    } else {
      jquery__WEBPACK_IMPORTED_MODULE_4___default()(element).on('click', function (evt) {
        evt.preventDefault();
        lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].get('site/video_embed').modal(lib_utils__WEBPACK_IMPORTED_MODULE_3__["default"].extend(data, {
          'include_cta': false
        }));
      });
    }
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/site/video_preview/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/site/video_preview/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/action_box/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/action_box/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/action_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/action_box/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/action_box/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/brand_stat/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/brand_stat/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/brand_stat/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/brand_stat/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/brand_stat/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/contact/index.js":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/contact/index.js ***!
    \*************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/contact/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/contact/index.scss":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/contact/index.scss ***!
    \***************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/credit/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/credit/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/credit/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/credit/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/credit/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/donation_form/index.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/donation_form/index.js ***!
    \*******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/donation_form/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/snippets/donation_form/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('snippets/donation_form', function (element) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  }, {
    priority: lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].MEDIUM
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/donation_form/index.scss":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/donation_form/index.scss ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/donation_form/scripts/view.js":
  /*!**************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/donation_form/scripts/view.js ***!
    \**************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);


  var DonationFormView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {
      this.setDefault();
    },
    events: {
      'click input[name="installmentPeriod"]': 'termsClickHandler',
      'change .c-donation-form__other-fields input[type="number"]': 'otherAmountTextChangeHandler',
      'click .c-donation-form__other-fields input[type="number"]': 'otherAmountTextClickHandler',
      'change input[name="amount"]': 'amountChangeHandler'
    },

    /**
    * When switching payment installment periods, reset the checked value
    * to the second option within that period
    * @param {jQuery Object} $termTab div of the installment period radios for active tab,
    * aka .c-donation-form__installment
    */
    setDefault: function setDefault($termTab) {
      if (!$termTab) {
        $termTab = this.$el.find('#donation-form_monthly');
        this.$el.find('[data-tab="#donation-form_monthly"]').prop('checked', true);
      }

      $termTab.find('label:nth-child(2) input').prop('checked', true);
      this.setRequiredFields(false);
    },

    /**
    * When changing installment periods, disable all inputs, then only un-disable
    * the active ones (fixes Firefox focus bug). reset the default, set active classes
    * @param {string} value id selector of the installment terms div, incl #
    */
    changeTerms: function changeTerms(value) {
      this.$el.find('.c-donation-form__installment').hide().removeClass('active').find('input[type="radio"]').prop('disabled', 'disabled');
      this.$el.find('input[type="number"]').prop('value', '');
      var $termTab = this.$el.find(value);
      $termTab.find('input[type="radio"]').prop('disabled', null);
      this.setDefault($termTab);
      $termTab.addClass('active').show();
    },

    /**
    * Ensure all text inputs are not required, unless "other amount" is checked, then set required
    * @param {boolean} isChecked
    */
    setRequiredFields: function setRequiredFields(isChecked) {
      this.$el.find('input[type="number"]').prop('required', false);

      if (isChecked) {
        this.$el.find('.c-donation-form__installment.active input[type="number"]').prop('required', true);
      }
    },

    /**
    * Click handler on installment terms tabs
    * @param {Event} event
    */
    termsClickHandler: function termsClickHandler(event) {
      this.changeTerms(jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).data('tab'));
    },

    /**
    * Change handler on "other amount" text inputs;
    * assign typed value to corresponding radio value
    * @param {Event} event
    */
    otherAmountTextChangeHandler: function otherAmountTextChangeHandler(event) {
      var radio = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).data('radio');
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(radio).prop('value', event.target.value).prop('checked', true);
    },

    /**
    * Change handler on "amount" radio inputs
    * put focus on text input if other amount is checked, check required fields
    */
    amountChangeHandler: function amountChangeHandler() {
      var $otherAmountRadio = this.$el.find('.c-donation-form__installment.active .c-donation-form__other-fields input[type="radio"]');

      if ($otherAmountRadio.prop('checked')) {
        this.setRequiredFields(true);
        this.$el.find("".concat($otherAmountRadio.data('text'))).focus();
      } else {
        this.setRequiredFields(false);
      }
    },

    /**
    * Click handler on other amount text input
    * only on click or change, check that radio input
    * @param {Event} event
    */
    otherAmountTextClickHandler: function otherAmountTextClickHandler(event) {
      var radioId = jquery__WEBPACK_IMPORTED_MODULE_1___default()(event.target).data('radio');
      jquery__WEBPACK_IMPORTED_MODULE_1___default()(radioId).prop('checked', true);
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (DonationFormView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/high_touch_header/index.js":
  /*!***********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/high_touch_header/index.js ***!
    \***********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/high_touch_header/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/high_touch_header/index.scss":
  /*!*************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/high_touch_header/index.scss ***!
    \*************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/info_block/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/info_block/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/info_block/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/info_block/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/info_block/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/jobs_list/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/jobs_list/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/jobs_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");




  lib_initializer__WEBPACK_IMPORTED_MODULE_2__["default"].registerComponent('snippets/jobs_list', function (element, data) {
    // Imports
    var templateHTML = __webpack_require__(/*! ./tmpl/jobs.html */ "./app_unison/frontend/stable/components/snippets/jobs_list/tmpl/jobs.html"); // Schema data


    var filterDepts = data.filter || [];
    var promoteDepts = data.promote || [];
    var LOCATIONS = [{
      test: /New York|\bNYC?\b/,
      label: 'NY'
    }, {
      test: /Washington|\bDC\b/,
      label: 'DC'
    }, {
      test: /San Francisco|\bSF\b/,
      label: 'SF'
    }, {
      test: /Los Angeles|\bLA\b/,
      label: 'LA'
    }, {
      test: /Austin/,
      label: 'Austin'
    }, {
      test: /Chicago/,
      label: 'Chicago'
    }, {
      test: /Remote/i,
      label: 'Remote'
    }];
    /**
    * Formats a normalized locations label.
    * Accepts raw location text, and then picks out location keywords.
    * All keywords are mapped into normalized abbreviations.
    * @param {String} name of listing location. Ex: "New York or Remote"
    * @returns {String} normalized listing of abbreviated locations. Ex: "NY, Remote"
    */

    function formatLocation(name) {
      var labels = [];

      for (var i = 0; i < LOCATIONS.length; i++) {
        if (LOCATIONS[i].test.test(name)) {
          labels.push(LOCATIONS[i].label);
        }
      }

      return labels.length ? labels.join(', ') : name.replace(/\sOffice/ig, '');
    }
    /**
    * Formats a job posting URL.
    * Query params in the current page URL are tacked onto the job link.
    * @param {String} url to format.
    * @returns {String} formatted url.
    */


    function formatURL(url) {
      var search = document.location.search;

      if (search.length) {
        url = url + (url.indexOf('?') > -1 ? '&' : '?') + search.slice(1);
      }

      return url;
    }
    /**
    * Renders the list of available jobs.
    * Jobs may be filtered to only display specific departments,
    * or departments may be promote to display at the top of the list.
    * @param {Object} Greenhouse API JSON response. See URL below for raw return.
    */


    function render(data) {
      var depts = [];

      function findParentDept(dept, departments) {
        if (dept.parent_id == null) {
          return dept;
        }

        var parentDept = data.departments.find(function (d) {
          return dept.parent_id == d.id;
        }); // find parent recursively if necessary

        return parentDept && parentDept.parent_id == null ? parentDept : findParentDept(parentDept, departments);
      } // Build a listing for every department:


      data.departments.forEach(function (dept) {
        // Show the parent department name unless it's parent is "Editorial"
        var parentDept = findParentDept(dept, data.departments);
        var deptName = (parentDept ? parentDept.name : dept.name).trim();

        if (deptName == 'Editorial') {
          deptName = dept.name.trim();
        } // Check if department matches filter constraints.


        var selected = !filterDepts.length || filterDepts.indexOf(deptName) > -1; // Only keep data for filtered departments that have jobs.

        if (selected && dept.jobs.length) {
          var jobs = dept.jobs.map(function (job) {
            return {
              title: job.title,
              location: formatLocation(job.location.name),
              url: formatURL(job.absolute_url)
            };
          }); // Check if department already exists

          var matchIdx = depts.map(function (d) {
            return d.name;
          }).indexOf(deptName);

          if (matchIdx >= 0) {
            // Append to existing department jobs
            depts[matchIdx].jobs = depts[matchIdx].jobs.concat(jobs);
          } else {
            // Add new department and its jobs
            depts.push({
              id: deptName.replace('.com', 'dot com').split(/\W+/).join('-').toLowerCase(),
              name: deptName,
              promote: promoteDepts.indexOf(deptName) > -1,
              jobs: jobs
            });
          }
        }
      }); // Sort departments alphabetically with promoted departments first:

      depts.sort(function (a, b) {
        if (a.promote && !b.promote) return -1;else if (!a.promote && b.promote) return 1;
        return a.name.localeCompare(b.name);
      }); // Populate the HTML content for the sorted listing groups:

      jquery__WEBPACK_IMPORTED_MODULE_1___default()(element).find('#jobs-list').html(Object(lib_template__WEBPACK_IMPORTED_MODULE_3__["default"])(templateHTML)({
        departments: depts
      }));
      requestAnimationFrame(function () {
        var $target = jquery__WEBPACK_IMPORTED_MODULE_1___default()(location.hash);

        if ($target.length) {
          jquery__WEBPACK_IMPORTED_MODULE_1___default()('html,body').animate({
            scrollTop: $target.offset().top
          }, 1000);
        }
      });
    } // Fetch, then render:


    jquery__WEBPACK_IMPORTED_MODULE_1___default.a.getJSON('https://api.greenhouse.io/v1/boards/voxmedia/embed/departments?callback=?', render);
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/jobs_list/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/jobs_list/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/jobs_list/tmpl/jobs.html":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/jobs_list/tmpl/jobs.html ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<% data.departments.forEach(function(department) { %>\n<h2 id=\"<%= department.id %>\"><%= department.name %></h2>\n<ul class=\"c-jobs__list\">\n  <% department.jobs.forEach(function(job) { %>\n  <li>\n    <a href=\"<%= job.url %>\"><%= job.title %></a>\n    <span><%= job.location %></span>\n  </li>\n  <% }) %>\n</ul>\n<% }) %>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/markup/index.js":
  /*!************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/markup/index.js ***!
    \************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/markup/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/markup/index.scss":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/markup/index.scss ***!
    \**************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/pullquote_list/index.js":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/pullquote_list/index.js ***!
    \********************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/pullquote_list/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/snippets/pullquote_list/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('snippets/pullquote_list', function (element) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/pullquote_list/index.scss":
  /*!**********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/pullquote_list/index.scss ***!
    \**********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/pullquote_list/scripts/view.js":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/pullquote_list/scripts/view.js ***!
    \***************************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_effects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/effects */ "./app_unison/frontend/scripts/lib/effects.js");


  var AccoladesView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    index: 0,
    inTransition: false,
    timer: null,
    cycleInterval: 8000,
    initialize: function initialize() {
      this.$items = this.$('li');
      this.$pager = this.$('[data-ui="pager"]'); // Generate pager listings:

      var pages = '';
      this.$items.each(function (index) {
        pages += '<span data-to="' + index + '"></span>';
      });
      this.$pager.html(pages);
      this.updatePage();
      var self = this;
      var to = setTimeout(function () {
        self.setMinHeight();
        clearTimeout(to);
      }, 500); // give it some time to render

      this.timer = setTimeout(function () {
        self.advance(1);
      }, this.cycleInterval);
      this.startTimer();
    },
    stopTimer: function stopTimer() {
      clearTimeout(this.timer);
    },
    startTimer: function startTimer() {
      this.stopTimer();
      var self = this;
      this.timer = setTimeout(function () {
        self.advance(1);
      }, this.cycleInterval);
    },

    /**
    * Advance current state.
    * @param {Number} direction to advance slides (1 or -1)
    */
    advance: function advance(dir) {
      if (!dir || this.inTransition) return;
      this.stopTimer();
      var current = this.index;
      var next = current + dir;
      var maxIndex = this.$items.length - 1;
      var slideLeft = dir < 0;
      var classes = ['offscreen-left', 'offscreen-right'];
      var enterClass = slideLeft ? classes[0] : classes[1];
      var exitClass = slideLeft ? classes[1] : classes[0];
      var self = this; // Loop next index:

      if (next > maxIndex) {
        next = 0;
      } else if (next < 0) {
        next = maxIndex;
      } // Configure transition start state:


      var $current = this.$items.eq(current);
      var $next = this.$items.eq(next).addClass(enterClass).css('display', 'block'); // Reconfigure for transition on next event loop:

      setTimeout(function () {
        $next.removeClass(enterClass);
        $current.one(lib_effects__WEBPACK_IMPORTED_MODULE_1__["TRANSITION_END"], function () {
          $current.hide().removeClass(exitClass);
          self.inTransition = false;
        }).addClass(exitClass);
        self.setMinHeight($next);
      }, 0); // Flag new state:

      this.inTransition = true;
      this.index = next;
      this.updatePage();
      this.startTimer();
    },

    /**
    * Sets the min height to be at least as tall as the provided slide
    * or the first one if empty
    * @param {$selectedItem} - item used to measure min-height
    */
    setMinHeight: function setMinHeight() {
      var $selectedItem = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

      if (!$selectedItem) {
        $selectedItem = this.$el.find('.c-pullquotes-list__quote').first();
      }

      var minHeight = $selectedItem.height() + 100;

      if (this.$el.height() < minHeight) {
        this.$el.height(minHeight);
      }
    },

    /**
    * Advances straight to another index.
    * @param {Number} index to advance to.
    */
    to: function to(index) {
      this.advance(index - this.index);
    },

    /**
    * Updates the current state of pagination.
    */
    updatePage: function updatePage() {
      this.$pager.children().removeClass('active').eq(this.index).addClass('active');
    },
    events: {
      'click [data-advance]': 'onAdvance',
      'click [data-to]': 'onTo'
    },
    onAdvance: function onAdvance(evt) {
      evt.preventDefault();
      this.advance(this.$(evt.currentTarget).data('advance'));
    },
    onTo: function onTo(evt) {
      evt.preventDefault();
      this.to(this.$(evt.currentTarget).data('to'));
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (AccoladesView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/pym_embed/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/pym_embed/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/pym_embed/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/pym_embed/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/pym_embed/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/rating_box/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/rating_box/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/rating_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/rating_box/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/rating_box/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/read_more/index.js":
  /*!***************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/read_more/index.js ***!
    \***************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/read_more/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/read_more/index.scss":
  /*!*****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/read_more/index.scss ***!
    \*****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/river/index.js":
  /*!***********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/river/index.js ***!
    \***********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/river/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/river/index.scss":
  /*!*************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/river/index.scss ***!
    \*************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/showcase/index.js":
  /*!**************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/showcase/index.js ***!
    \**************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/showcase/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var _scripts_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scripts/view */ "./app_unison/frontend/stable/components/snippets/showcase/scripts/view.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].registerComponent('snippets/showcase', function (element) {
    new _scripts_view__WEBPACK_IMPORTED_MODULE_2__["default"]({
      el: element
    });
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/showcase/index.scss":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/showcase/index.scss ***!
    \****************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/showcase/scripts/view.js":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/showcase/scripts/view.js ***!
    \*********************************************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! exoskeleton */ "./node_modules/exoskeleton/exoskeleton.js");
  /* harmony import */ var exoskeleton__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(exoskeleton__WEBPACK_IMPORTED_MODULE_0__);

  var ShowcaseView = exoskeleton__WEBPACK_IMPORTED_MODULE_0___default.a.View.extend({
    initialize: function initialize() {
      this.index = 0;
    },
    toggleMedia: function toggleMedia(evt) {
      this.$(evt.currentTarget).addClass('active').siblings().removeClass('active');
      this.index = this.$(evt.currentTarget).data('index');
      this.$("[data-media=\"".concat(this.index, "\"]")).addClass('visible').siblings().removeClass('visible');
    },
    events: {
      'click [data-ui="toggle_media"]': 'toggleMedia'
    }
  });
  /* harmony default export */ __webpack_exports__["default"] = (ShowcaseView);

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/social_count/index.js":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/social_count/index.js ***!
    \******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/social_count/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/social_count/index.scss":
  /*!********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/social_count/index.scss ***!
    \********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/toh_project_details_box/index.js":
  /*!*****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/toh_project_details_box/index.js ***!
    \*****************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/toh_project_details_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/toh_project_details_box/index.scss":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/toh_project_details_box/index.scss ***!
    \*******************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/toh_tools_box/index.js":
  /*!*******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/toh_tools_box/index.js ***!
    \*******************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/toh_tools_box/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/toh_tools_box/index.scss":
  /*!*********************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/toh_tools_box/index.scss ***!
    \*********************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/tv_listing/index.js":
  /*!****************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/tv_listing/index.js ***!
    \****************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/tv_listing/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
  /* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__);
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var lib_template__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/template */ "./app_unison/frontend/scripts/lib/template.js");
  function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }






  lib_initializer__WEBPACK_IMPORTED_MODULE_3__["default"].registerComponent('snippets/tv_listing', function (element, data) {
    var $elem = jquery__WEBPACK_IMPORTED_MODULE_2___default()(element).find('#tv-listing'); // Template Imports

    var scheduleHTML = __webpack_require__(/*! ./tmpl/schedule.html */ "./app_unison/frontend/stable/components/snippets/tv_listing/tmpl/schedule.html");

    var providersHTML = __webpack_require__(/*! ./tmpl/providers.html */ "./app_unison/frontend/stable/components/snippets/tv_listing/tmpl/providers.html"); // Global state :\


    var activeProviderId, activeProviderName, activeZipcode; // Schema data

    var API_KEY = data.api_key;
    var SERIES = data.series;
    var DAYS_TO_SEARCH = data.search_days || 14; // types of provider incoming from API

    var providers = [{
      lineupType: 'OTA',
      lineupTypeName: 'Over the Air',
      lineups: []
    }, {
      lineupType: 'SAT',
      lineupTypeName: 'Satellite',
      lineups: []
    }, {
      lineupType: 'CAB',
      lineupTypeName: 'Cable',
      lineups: []
    }, {
      lineupType: 'VMVPD',
      lineupTypeName: 'Provider',
      lineups: []
    }];
    /**
    * Get provider data, either from localstorage or an API call
    */

    function getProviders() {
      var localStorageProviders = getProviderStorage();

      if (localStorageProviders) {
        renderProviders(localStorageProviders);
      } else {
        $elem.html('Loading providers...');
        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.getJSON("https://api.tvmedia.ca/tv/v4/lineups?api_key=".concat(API_KEY, "&postalCode=").concat(activeZipcode), function (response) {
          if (response.length > 0) {
            renderProviders(response);
            setProviderStorage(activeZipcode, response);
          } else {
            $elem.html('<p>Sorry, there are no channels available for this zip code</p>');
          }
        }).fail(function () {
          $elem.html('<p>An error occurred. Please try again later.</p>');
        });
      }
    }
    /**
    * Format results of API response by lineup type and render template
    * @param {Array} data array of provider objects.
    */


    function renderProviders(data) {
      providers.forEach(function (provider) {
        provider.lineups = [];
      });
      data.forEach(function (value) {
        var matchIdx = providers.map(function (p) {
          return p.lineupType;
        }).indexOf(value.lineupType);

        if (matchIdx > -1) {
          providers[matchIdx].lineups.push(value);
        } else {
          // catch all bucket
          providers[3].lineups.push(value);
        }
      });
      $elem.html(Object(lib_template__WEBPACK_IMPORTED_MODULE_4__["default"])(providersHTML)({
        providers: providers,
        zipcode: activeZipcode
      }));
    }
    /**
    * Get schedule data, from session storage or API call
    * @param {String} providerId id of the provider
    */


    function getSchedule(providerId) {
      var localSchedule = getScheduleStorage();

      if (localSchedule && withinTheHour(localSchedule.date)) {
        renderSchedule(localSchedule.data);
      } else {
        $elem.html('Loading schedule...');
        var endDate = getFutureDate(DAYS_TO_SEARCH);
        var timezoneOffset = new Date().getTimezoneOffset() / 60 * -1;
        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.getJSON("https://api.tvmedia.ca/tv/v4/lineups/".concat(providerId, "/listings?api_key=").concat(API_KEY, "&detail=brief&series=").concat(SERIES, "&end=").concat(endDate, "&timezone=").concat(timezoneOffset, ":00"), function (response) {
          if (response.length > 0) {
            renderSchedule(response);
            setScheduleStorage(activeProviderId, response);
          } else {
            $elem.html("<p>There are no shows coming up in the next ".concat(DAYS_TO_SEARCH, " days. <a href=\"#\" id=\"return-results\" class=\"fancy-underline\">Return to channel results.</a></p>"));
          }
        }).fail(function () {
          $elem.html('<p>An error occurred. Please try again later.</p>');
        });
      }
    }
    /**
    * Parse incoming data and render schedule template
    * @param {Array} data list of show times
    */


    function renderSchedule(data) {
      var results = [];
      data.forEach(function (value) {
        var dateString = getDateString(value.listDateTime);
        var episodeInfo = {
          time: getTimeString(value.listDateTime),
          show: htmlEntities(value.showName),
          episode: htmlEntities(value.episodeTitle),
          ep_number: htmlEntities(value.episodeNumber),
          channel: htmlEntities("Channel ".concat(value.channelNumber, " (").concat(value.network, ")"))
        }; // Check if day already exists

        var matchIdx = results.map(function (d) {
          return d.dateString;
        }).indexOf(dateString);

        if (matchIdx >= 0) {
          results[matchIdx].programs.push(episodeInfo);
        } else {
          results.push({
            dateString: dateString,
            programs: [episodeInfo]
          });
        }
      });
      $elem.html(Object(lib_template__WEBPACK_IMPORTED_MODULE_4__["default"])(scheduleHTML)({
        results: results,
        zipcode: activeZipcode
      }));
      getProviderDetails(activeProviderName);
    }
    /**
    * Determine if we have provider name in state or storage
    * otherwise use API to go get it
    * @param {String} providerName if we have it in state, pass the name
    */


    function getProviderDetails(providerName) {
      if (providerName) {
        renderName(providerName);
        return;
      }

      var providerId = activeProviderId;
      var local = getProviderNameStorage();

      if (local) {
        renderName(local);
      } else {
        jquery__WEBPACK_IMPORTED_MODULE_2___default.a.getJSON("https://api.tvmedia.ca/tv/v4/lineups/".concat(providerId, "?api_key=").concat(API_KEY, "&detail=brief"), function (response) {
          renderName(response.lineupName);
          setProviderNameStorage(activeProviderId, response.lineupName);
        });
      }
    }
    /**
    * Render provider name in dom
    * @param {String} name the name to render
    */


    function renderName(name) {
      activeProviderName = htmlEntities(name);
      $elem.find('#provider_title').html("Program results for <strong>".concat(activeProviderName, ":</strong>"));
    }
    /**
    * Attach click listeners and
    * state listener for changes to history (browser back button)
    */


    function attachListeners() {
      $elem.on('click', '.c-tv-listing__provider-list a', providerHandler);
      $elem.on('click', '#return-results', returnHandler);
      window.addEventListener('popstate', stateHandler);
    }

    function stateHandler() {
      routeURL(parseUrlParams());
    }
    /**
    * Handle click event from provider list
    * Put provider name in storage so we dont have to use API
    * @param {Event} event
    */


    function providerHandler(event) {
      event.preventDefault();
      var $target = jquery__WEBPACK_IMPORTED_MODULE_2___default()(event.currentTarget);
      activeProviderId = $target.data('lineupid');
      activeProviderName = $target.text();
      setProviderNameStorage(activeProviderId, activeProviderName);
      pushURL({
        'providerId': activeProviderId,
        'zipcode': activeZipcode
      });
    }
    /**
    * Handle click event from "return to results" link
    * @param {Event} event
    */


    function returnHandler(event) {
      event.preventDefault();
      pushURL({
        'zipcode': activeZipcode
      });
    }
    /**
    * Use history API to push query params and then route the URL to change state
    * @param {Object} data zipcode, providerId
    */


    function pushURL(data) {
      var queryString = "?zipcode=".concat(data.zipcode);

      if (data.providerId) {
        queryString += "&providerId=".concat(data.providerId);
      }

      window.history.pushState(data, null, queryString);
      routeURL(data);
    }
    /**
    * From incoming data, determine which template to show
    * @param {Object} data zipcode, providerId
    */


    function routeURL(data) {
      if (data) {
        if (data.providerId && data.zipcode) {
          activeZipcode = data.zipcode;
          activeProviderId = data.providerId;
          getSchedule(data.providerId);
        } else if (data.zipcode) {
          activeZipcode = data.zipcode;
          getProviders();
        }

        jquery__WEBPACK_IMPORTED_MODULE_2___default()('#c-tv-listing-zipcode').attr('value', activeZipcode);
        return;
      }
    }
    /**
    * Parse URL params into usable object
    * TODO: lop off bottom half when IE11 support goes away
    * @returns {Object} key/value pairs
    */


    function parseUrlParams() {
      if (!window.location.search) return {};
      var returnObj = {};

      if (window.URLSearchParams) {
        var urlParams = new URLSearchParams(window.location.search);

        var _iterator = _createForOfIteratorHelper(urlParams.entries()),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var entry = _step.value;
            returnObj[entry[0]] = entry[1];
          } // ELSE IE11

        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      } else {
        var urlstring = window.location.search.replace('?', '');
        var params = urlstring.split('&');
        params.forEach(function (string) {
          var t = string.split('=');
          returnObj[t[0]] = t[1];
        });
      }

      return returnObj;
    }
    /**
    * Format a Date to a time, 9:00 am
    * @param {Date} timestamp a Date object or blank to use current time
    * @returns {String} formatted time
    */


    function getTimeString(timestamp) {
      timestamp = safariarizeDate(timestamp);
      var d = timestamp instanceof Date ? timestamp : new Date(timestamp);
      var h = (d.getHours() + 11) % 12 + 1;
      var hh = d.getHours() < 12 ? 'AM' : 'PM';
      var m = ('00' + d.getMinutes()).slice(-2);
      return "".concat(h, ":").concat(m, " ").concat(hh);
    }
    /**
    * Format a Date so that Safari will actually use timezone offset properly >(
    * @param {String} date a datetime string from the API, formatted as YYYY-MM-DD HH:MM:SS
    * @returns {String} formatted date as YYYY-MM-DDTHH:MM:SS-HH:MM
    */


    function safariarizeDate(date) {
      var timezoneOffset = new Date().getTimezoneOffset();
      var symbol = timezoneOffset > 0 ? '-' : '+';
      var hours = timezoneOffset / 60;
      var minutes = timezoneOffset % 60;

      var pad = function pad(num) {
        var norm = Math.floor(Math.abs(num));
        return (norm < 10 ? '0' : '') + norm;
      };

      var tz = "".concat(symbol).concat(pad(hours), ":").concat(pad(minutes));
      return date.replace(' ', 'T') + tz;
    }
    /**
    * Format a Date to words, Mon. May 22, 2020
    * @param {Date} timestamp a Date object or blank to use current time
    * @returns {String} formatted date
    */


    function getDateString(timestamp) {
      timestamp = safariarizeDate(timestamp);
      var DAY_NAMES = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
      var MONTH_NAMES = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
      var d = timestamp instanceof Date ? timestamp : new Date(timestamp);
      return "".concat(DAY_NAMES[d.getDay()], ". ").concat(MONTH_NAMES[d.getMonth()], " ").concat(d.getDate(), ", ").concat(d.getFullYear());
    }
    /**
    * Get x days from now in a nice format
    * @param {Number} days some number of days from now
    * @returns {String} formatted date, 2020/10/20 (no leading zeros)
    */


    function getFutureDate(days) {
      var d = new Date();
      d.setDate(d.getDate() + days);
      return d.getFullYear() + '/' + (d.getMonth() + 1) + '/' + d.getDate();
    }
    /**
    * Get provider data from localstorage if it exists
    * @returns {Array|Boolean} list of providers, or false
    */


    function getProviderStorage() {
      try {
        var storage = JSON.parse(window.localStorage.getItem('tv_providers'));

        if (storage.zipcode === activeZipcode && storage.data.length > 0) {
          return storage.data;
        }
      } catch (e) {
        return false;
      }

      return false;
    }
    /**
    * Set provider data in localstorage
    * @param {}
    * @param {String} zipcode zipcode that this list corresponds to
    * @param {Array} data list of providers
    */


    function setProviderStorage(zipcode, data) {
      var storageJson = {
        'zipcode': zipcode,
        'data': data
      };
      window.localStorage.setItem('tv_providers', JSON.stringify(storageJson));
    }
    /**
    * Get schedule data from sessionstorage if it exists,
    * and if it's less than an hour old
    * @returns {Array|Boolean} list of air times, or false
    */


    function getScheduleStorage() {
      try {
        var storage = JSON.parse(window.sessionStorage.getItem('tv_schedule'));

        if (storage.provider_id == activeProviderId && storage.data.length > 0) {
          return storage;
        }
      } catch (e) {
        return false;
      }

      return false;
    }
    /**
    * Set schedule data to sessionstorage with timestamp
    * @param {String} providerId provider id for this schedule
    * @param {Array} data list of air times for episodes
    */


    function setScheduleStorage(providerId, data) {
      var storageJson = {
        'provider_id': providerId,
        'data': data,
        'date': Date.now()
      };
      window.sessionStorage.setItem('tv_schedule', JSON.stringify(storageJson));
    }
    /**
    * Get provider name from localstorage if it exists
    * @returns {String|Boolean} provider name or false
    */


    function getProviderNameStorage() {
      try {
        var storage = JSON.parse(window.localStorage.getItem('tv_provider_name'));

        if (storage.provider_id == activeProviderId && storage.provider_name.length > 0) {
          return storage.provider_name;
        }
      } catch (e) {
        return false;
      }

      return false;
    }
    /**
    * Set provider name in localstorage
    * @param {String} id provider id
    * @param {String} name provider name
    */


    function setProviderNameStorage(id, name) {
      var storageJson = {
        'provider_id': id,
        'provider_name': name
      };
      window.localStorage.setItem('tv_provider_name', JSON.stringify(storageJson));
    }
    /**
    * Check if timestamp is within the current hour
    * @param {String} date timestamp from Date()
    * @returns {Boolean}
    */


    function withinTheHour(date) {
      return Date.now() - date < 1000 * 60 * 60;
    }
    /**
    * JS has no native method for encoding HTML tags
    * So here's one
    * @param {String} str untrusted string
    * @returns {String}
    */


    function htmlEntities(str) {
      if (!str) return '';
      return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
    } // INIT //


    routeURL(parseUrlParams());
    attachListeners();
  });

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/tv_listing/index.scss":
  /*!******************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/tv_listing/index.scss ***!
    \******************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/tv_listing/tmpl/providers.html":
  /*!***************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/tv_listing/tmpl/providers.html ***!
    \***************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<p>Select one of the following service providers:</p>\n<% data.providers.forEach(function(provider) { %>\n  <% if (provider.lineups.length > 0) { %>\n  <h2 class=\"c-tv-listing__provider-title\"><%= provider.lineupTypeName %></h2>\n  <ul class=\"c-tv-listing__provider-list\">\n    <% provider.lineups.forEach(function(lineup) { %>\n    <li>\n      <a href=\"#\" data-lineupid=\"<%= lineup.lineupID %>\"><%= lineup.lineupName %></a>\n    </li>\n    <% }) %>\n  </ul>\n<% }}) %>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/tv_listing/tmpl/schedule.html":
  /*!**************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/tv_listing/tmpl/schedule.html ***!
    \**************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = "<p><a href=\"#\" id=\"return-results\" class=\"fancy-underline\">Return to results for <%= data.zipcode %></a></p>\n<h2 class=\"c-tv-listing__schedule-title\" id=\"provider_title\"><%= data.providerName %></h2>\n<% data.results.forEach(function(result) { %>\n  <section>\n    <h3 class=\"c-tv-listing__schedule-date\"><%= result.dateString %></h3>\n    <table class=\"c-tv-listing__schedule-table\">\n      <thead>\n        <tr>\n          <th>Time</th>\n          <th>Show</th>\n          <th>Episode</th>\n          <th>Episode #</th>\n          <th>Channel</th>\n        </tr>\n      </thead>\n      <tbody>\n        <% result.programs.forEach(function(program) { %>\n        <tr>\n          <td><%= program.time %></td>\n          <td><span><%= program.show %></span></td>\n          <td><span><%= program.episode %></span></td>\n          <td><span><%= program.ep_number %></span></td>\n          <td><span><%= program.channel %></span></td>\n        </tr>\n        <% }) %>\n      </tbody>\n    </table>\n  </section>\n<% }) %>\n";

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.js":
  /*!*****************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.js ***!
    \*****************************************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.scss */ "./app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.scss");
  /* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_0__);


  /***/ }),

  /***/ "./app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.scss":
  /*!*******************************************************************************************!*\
    !*** ./app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.scss ***!
    \*******************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  // extracted by mini-css-extract-plugin

  /***/ }),

  /***/ "./app_unison/frontend/stable/components/tools/admin/index.js":
  /*!********************************************************************!*\
    !*** ./app_unison/frontend/stable/components/tools/admin/index.js ***!
    \********************************************************************/
  /*! no exports provided */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony import */ var promise_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! promise-polyfill */ "./node_modules/promise-polyfill/src/index.js");
  /* harmony import */ var lib_initializer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lib/initializer */ "./app_unison/frontend/scripts/lib/initializer.js");
  /* harmony import */ var models_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! models/context */ "./app_unison/frontend/scripts/models/context.js");



  lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].readyTask(function () {
    models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].fetch().then(function () {
      if (models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].get('can_edit') || models_context__WEBPACK_IMPORTED_MODULE_2__["currentUser"].get('can_admin')) {
        loadTools();
      }
    });
  });

  function loadTools() {
    // Load tools CSS:
    var meta = document.querySelector('meta[name="style-tools"]');
    var style = document.createElement('link');
    style.rel = 'stylesheet';
    style.media = 'all';
    style.href = meta ? meta.content : '/style/' + Date.now() + '/tools.css';
    document.head.appendChild(style); // Load tools JavaScript module:

    Promise.all(/*! import() */[__webpack_require__.e(5), __webpack_require__.e(3)]).then(__webpack_require__.bind(null, /*! ./scripts/main */ "./app_unison/frontend/stable/components/tools/admin/scripts/main.js")).then(function () {
      return lib_initializer__WEBPACK_IMPORTED_MODULE_1__["default"].run();
    });
  }

  /***/ }),

  /***/ "./node_modules/exoskeleton/exoskeleton.js":
  /*!*************************************************!*\
    !*** ./node_modules/exoskeleton/exoskeleton.js ***!
    \*************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  /*!
   * Exoskeleton.js 0.7.0
   * (c) 2013 Paul Miller <http://paulmillr.com>
   * Based on Backbone.js
   * (c) 2010-2013 Jeremy Ashkenas, DocumentCloud
   * Exoskeleton may be freely distributed under the MIT license.
   * For all details and documentation: <http://exosjs.com>
   */
  (function (root, factory) {
    // Set up Backbone appropriately for the environment.
    if (true) {
      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! underscore */ "underscore"), __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), exports], __WEBPACK_AMD_DEFINE_RESULT__ = (function (_, $, exports) {
        root.Backbone = root.Exoskeleton = factory(root, exports, _, $);
      }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
          __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    } else { var _, $; }
  })(this, function (root, Backbone, _, $) {
    'use strict'; // Initial Setup
    // -------------
    // Save the previous value of the `Backbone` variable, so that it can be
    // restored later on, if `noConflict` is used.

    var previousBackbone = root.Backbone;
    var previousExoskeleton = root.Exoskeleton; // Underscore replacement.

    var utils = Backbone.utils = _ = _ || {}; // Hold onto a local reference to `$`. Can be changed at any point.

    Backbone.$ = $; // Create local references to array methods we'll want to use later.

    var array = [];
    var push = array.push;
    var _slice = array.slice;
    var toString = {}.toString; // Current version of the library. Keep in sync with `package.json`.
    // Backbone.VERSION = '1.0.0';
    // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable
    // to its previous owner. Returns a reference to this Backbone object.

    Backbone.noConflict = function () {
      root.Backbone = previousBackbone;
      root.Exoskeleton = previousExoskeleton;
      return this;
    }; // Helpers
    // -------
    // Helper function to correctly set up the prototype chain, for subclasses.
    // Similar to `goog.inherits`, but uses a hash of prototype properties and
    // class properties to be extended.


    Backbone.extend = function (protoProps, staticProps) {
      var parent = this;
      var child; // The constructor function for the new subclass is either defined by you
      // (the "constructor" property in your `extend` definition), or defaulted
      // by us to simply call the parent's constructor.

      if (protoProps && _.has(protoProps, 'constructor')) {
        child = protoProps.constructor;
      } else {
        child = function child() {
          return parent.apply(this, arguments);
        };
      } // Add static properties to the constructor function, if supplied.


      _.extend(child, parent, staticProps); // Set the prototype chain to inherit from `parent`, without calling
      // `parent`'s constructor function.


      var Surrogate = function Surrogate() {
        this.constructor = child;
      };

      Surrogate.prototype = parent.prototype;
      child.prototype = new Surrogate(); // Add prototype properties (instance properties) to the subclass,
      // if supplied.

      if (protoProps) _.extend(child.prototype, protoProps); // Set a convenience property in case the parent's prototype is needed
      // later.

      child.__super__ = parent.prototype;
      return child;
    }; // Throw an error when a URL is needed, and none is supplied.


    var urlError = function urlError() {
      throw new Error('A "url" property or function must be specified');
    }; // Wrap an optional error callback with a fallback error event.


    var wrapError = function wrapError(model, options) {
      var error = options.error;

      options.error = function (resp) {
        if (error) error(model, resp, options);
        model.trigger('error', model, resp, options);
      };
    }; // Checker for utility methods. Useful for custom builds.


    var utilExists = function utilExists(method) {
      return typeof _[method] === 'function';
    };

    utils.result = function result(object, property) {
      var value = object ? object[property] : undefined;
      return typeof value === 'function' ? object[property]() : value;
    };

    utils.defaults = function defaults(obj) {
      _slice.call(arguments, 1).forEach(function (item) {
        for (var key in item) {
          if (obj[key] === undefined) obj[key] = item[key];
        }
      });

      return obj;
    };

    utils.extend = function extend(obj) {
      _slice.call(arguments, 1).forEach(function (item) {
        for (var key in item) {
          obj[key] = item[key];
        }
      });

      return obj;
    };

    var htmlEscapes = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#39;'
    };

    utils.escape = function escape(string) {
      return string == null ? '' : String(string).replace(/[&<>"']/g, function (match) {
        return htmlEscapes[match];
      });
    };

    utils.sortBy = function (obj, value, context) {
      var iterator = typeof value === 'function' ? value : function (obj) {
        return obj[value];
      };
      return obj.map(function (value, index, list) {
        return {
          value: value,
          index: index,
          criteria: iterator.call(context, value, index, list)
        };
      }).sort(function (left, right) {
        var a = left.criteria;
        var b = right.criteria;

        if (a !== b) {
          if (a > b || a === void 0) return 1;
          if (a < b || b === void 0) return -1;
        }

        return left.index - right.index;
      }).map(function (item) {
        return item.value;
      });
    };
    /** Used to generate unique IDs */


    var idCounter = 0;

    utils.uniqueId = function uniqueId(prefix) {
      var id = ++idCounter + '';
      return prefix ? prefix + id : id;
    };

    utils.has = function (obj, key) {
      return Object.hasOwnProperty.call(obj, key);
    };

    var eq = function eq(a, b, aStack, bStack) {
      // Identical objects are equal. `0 === -0`, but they aren't identical.
      // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
      if (a === b) return a !== 0 || 1 / a == 1 / b; // A strict comparison is necessary because `null == undefined`.

      if (a == null || b == null) return a === b; // Unwrap any wrapped objects.
      //if (a instanceof _) a = a._wrapped;
      //if (b instanceof _) b = b._wrapped;
      // Compare `[[Class]]` names.

      var className = toString.call(a);
      if (className != toString.call(b)) return false;

      switch (className) {
        // Strings, numbers, dates, and booleans are compared by value.
        case '[object String]':
          // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
          // equivalent to `new String("5")`.
          return a == String(b);

        case '[object Number]':
          // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for
          // other numeric values.
          return a !== +a ? b !== +b : a === 0 ? 1 / a === 1 / b : a === +b;

        case '[object Date]':
        case '[object Boolean]':
          // Coerce dates and booleans to numeric primitive values. Dates are compared by their
          // millisecond representations. Note that invalid dates with millisecond representations
          // of `NaN` are not equivalent.
          return +a == +b;
        // RegExps are compared by their source patterns and flags.

        case '[object RegExp]':
          return a.source == b.source && a.global == b.global && a.multiline == b.multiline && a.ignoreCase == b.ignoreCase;
      }

      if (_typeof(a) != 'object' || _typeof(b) != 'object') return false; // Assume equality for cyclic structures. The algorithm for detecting cyclic
      // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

      var length = aStack.length;

      while (length--) {
        // Linear search. Performance is inversely proportional to the number of
        // unique nested structures.
        if (aStack[length] == a) return bStack[length] == b;
      } // Objects with different constructors are not equivalent, but `Object`s
      // from different frames are.


      var aCtor = a.constructor,
          bCtor = b.constructor;

      if (aCtor !== bCtor && !(typeof aCtor === 'function' && aCtor instanceof aCtor && typeof bCtor === 'function' && bCtor instanceof bCtor)) {
        return false;
      } // Add the first object to the stack of traversed objects.


      aStack.push(a);
      bStack.push(b);
      var size = 0,
          result = true; // Recursively compare objects and arrays.

      if (className === '[object Array]') {
        // Compare array lengths to determine if a deep comparison is necessary.
        size = a.length;
        result = size === b.length;

        if (result) {
          // Deep compare the contents, ignoring non-numeric properties.
          while (size--) {
            if (!(result = eq(a[size], b[size], aStack, bStack))) break;
          }
        }
      } else {
        // Deep compare objects.
        for (var key in a) {
          if (_.has(a, key)) {
            // Count the expected number of properties.
            size++; // Deep compare each member.

            if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;
          }
        } // Ensure that both objects contain the same number of properties.


        if (result) {
          for (key in b) {
            if (_.has(b, key) && !size--) break;
          }

          result = !size;
        }
      } // Remove the first object from the stack of traversed objects.


      aStack.pop();
      bStack.pop();
      return result;
    }; // Perform a deep comparison to check if two objects are equal.


    utils.isEqual = function (a, b) {
      return eq(a, b, [], []);
    }; // Backbone.Events
    // ---------------
    // A module that can be mixed in to *any object* in order to provide it with
    // custom events. You may bind with `on` or remove with `off` callback
    // functions to an event; `trigger`-ing an event fires all callbacks in
    // succession.
    //
    //     var object = {};
    //     _.extend(object, Backbone.Events);
    //     object.on('expand', function(){ alert('expanded'); });
    //     object.trigger('expand');
    //


    var Events = Backbone.Events = {
      // Bind an event to a `callback` function. Passing `"all"` will bind
      // the callback to all events fired.
      on: function on(name, callback, context) {
        if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;
        this._events || (this._events = {});
        var events = this._events[name] || (this._events[name] = []);
        events.push({
          callback: callback,
          context: context,
          ctx: context || this
        });
        return this;
      },
      // Bind an event to only be triggered a single time. After the first time
      // the callback is invoked, it will be removed.
      once: function once(name, callback, context) {
        if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;
        var self = this;
        var ran;

        var once = function once() {
          if (ran) return;
          ran = true;
          self.off(name, once);
          callback.apply(this, arguments);
        };

        once._callback = callback;
        return this.on(name, once, context);
      },
      // Remove one or many callbacks. If `context` is null, removes all
      // callbacks with that function. If `callback` is null, removes all
      // callbacks for the event. If `name` is null, removes all bound
      // callbacks for all events.
      off: function off(name, callback, context) {
        var retain, ev, events, names, i, l, j, k;
        if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;

        if (!name && !callback && !context) {
          this._events = void 0;
          return this;
        }

        names = name ? [name] : Object.keys(this._events);

        for (i = 0, l = names.length; i < l; i++) {
          name = names[i];

          if (events = this._events[name]) {
            this._events[name] = retain = [];

            if (callback || context) {
              for (j = 0, k = events.length; j < k; j++) {
                ev = events[j];

                if (callback && callback !== ev.callback && callback !== ev.callback._callback || context && context !== ev.context) {
                  retain.push(ev);
                }
              }
            }

            if (!retain.length) delete this._events[name];
          }
        }

        return this;
      },
      // Trigger one or many events, firing all bound callbacks. Callbacks are
      // passed the same arguments as `trigger` is, apart from the event name
      // (unless you're listening on `"all"`, which will cause your callback to
      // receive the true name of the event as the first argument).
      trigger: function trigger(name) {
        if (!this._events) return this;

        var args = _slice.call(arguments, 1);

        if (!eventsApi(this, 'trigger', name, args)) return this;
        var events = this._events[name];
        var allEvents = this._events.all;
        if (events) triggerEvents(events, args);
        if (allEvents) triggerEvents(allEvents, arguments);
        return this;
      },
      // Tell this object to stop listening to either specific events ... or
      // to every object it's currently listening to.
      stopListening: function stopListening(obj, name, callback) {
        var listeningTo = this._listeningTo;
        if (!listeningTo) return this;
        var remove = !name && !callback;
        if (!callback && _typeof(name) === 'object') callback = this;
        if (obj) (listeningTo = {})[obj._listenId] = obj;

        for (var id in listeningTo) {
          obj = listeningTo[id];
          obj.off(name, callback, this);
          if (remove || !Object.keys(obj._events).length) delete this._listeningTo[id];
        }

        return this;
      }
    }; // Regular expression used to split event strings.

    var eventSplitter = /\s+/; // Implement fancy features of the Events API such as multiple event
    // names `"change blur"` and jQuery-style event maps `{change: action}`
    // in terms of the existing API.

    var eventsApi = function eventsApi(obj, action, name, rest) {
      if (!name) return true; // Handle event maps.

      if (_typeof(name) === 'object') {
        for (var key in name) {
          obj[action].apply(obj, [key, name[key]].concat(rest));
        }

        return false;
      } // Handle space separated event names.


      if (eventSplitter.test(name)) {
        var names = name.split(eventSplitter);

        for (var i = 0, l = names.length; i < l; i++) {
          obj[action].apply(obj, [names[i]].concat(rest));
        }

        return false;
      }

      return true;
    }; // A difficult-to-believe, but optimized internal dispatch function for
    // triggering events. Tries to keep the usual cases speedy (most internal
    // Backbone events have 3 arguments).


    var triggerEvents = function triggerEvents(events, args) {
      var ev,
          i = -1,
          l = events.length,
          a1 = args[0],
          a2 = args[1],
          a3 = args[2];

      switch (args.length) {
        case 0:
          while (++i < l) {
            (ev = events[i]).callback.call(ev.ctx);
          }

          return;

        case 1:
          while (++i < l) {
            (ev = events[i]).callback.call(ev.ctx, a1);
          }

          return;

        case 2:
          while (++i < l) {
            (ev = events[i]).callback.call(ev.ctx, a1, a2);
          }

          return;

        case 3:
          while (++i < l) {
            (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);
          }

          return;

        default:
          while (++i < l) {
            (ev = events[i]).callback.apply(ev.ctx, args);
          }

          return;
      }
    };

    var listenMethods = {
      listenTo: 'on',
      listenToOnce: 'once'
    }; // Inversion-of-control versions of `on` and `once`. Tell *this* object to
    // listen to an event in another object ... keeping track of what it's
    // listening to.

    Object.keys(listenMethods).forEach(function (method) {
      var implementation = listenMethods[method];

      Events[method] = function (obj, name, callback) {
        var listeningTo = this._listeningTo || (this._listeningTo = {});

        var id = obj._listenId || (obj._listenId = _.uniqueId('l'));

        listeningTo[id] = obj;
        if (!callback && _typeof(name) === 'object') callback = this;
        obj[implementation](name, callback, this);
        return this;
      };
    }); // Aliases for backwards compatibility.

    Events.bind = Events.on;
    Events.unbind = Events.off; // Allow the `Backbone` object to serve as a global event bus, for folks who
    // want global "pubsub" in a convenient place.

    _.extend(Backbone, Events); // Backbone.Model
    // --------------
    // Backbone **Models** are the basic data object in the framework --
    // frequently representing a row in a table in a database on your server.
    // A discrete chunk of data and a bunch of useful, related methods for
    // performing computations and transformations on that data.
    // Create a new model with the specified attributes. A client id (`cid`)
    // is automatically generated and assigned for you.


    var Model = Backbone.Model = function (attributes, options) {
      var attrs = attributes || {};
      options || (options = {});
      this.cid = _.uniqueId('c');
      this.attributes = Object.create(null);
      if (options.collection) this.collection = options.collection;
      if (options.parse) attrs = this.parse(attrs, options) || {};
      attrs = _.defaults({}, attrs, _.result(this, 'defaults'));
      this.set(attrs, options);
      this.changed = Object.create(null);
      this.initialize.apply(this, arguments);
    }; // Attach all inheritable methods to the Model prototype.


    _.extend(Model.prototype, Events, {
      // A hash of attributes whose current and previous value differ.
      changed: null,
      // The value returned during the last failed validation.
      validationError: null,
      // The default name for the JSON `id` attribute is `"id"`. MongoDB and
      // CouchDB users may want to set this to `"_id"`.
      idAttribute: 'id',
      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function initialize() {},
      // Return a copy of the model's `attributes` object.
      toJSON: function toJSON(options) {
        return _.extend({}, this.attributes);
      },
      // Proxy `Backbone.sync` by default -- but override this if you need
      // custom syncing semantics for *this* particular model.
      sync: function sync() {
        return Backbone.sync.apply(this, arguments);
      },
      // Get the value of an attribute.
      get: function get(attr) {
        return this.attributes[attr];
      },
      // Get the HTML-escaped value of an attribute.
      escape: function escape(attr) {
        return _.escape(this.get(attr));
      },
      // Returns `true` if the attribute contains a value that is not null
      // or undefined.
      has: function has(attr) {
        return this.get(attr) != null;
      },
      // Set a hash of model attributes on the object, firing `"change"`. This is
      // the core primitive operation of a model, updating the data and notifying
      // anyone who needs to know about the change in state. The heart of the beast.
      set: function set(key, val, options) {
        var attr, attrs, unset, changes, silent, changing, prev, current;
        if (key == null) return this; // Handle both `"key", value` and `{key: value}` -style arguments.

        if (_typeof(key) === 'object') {
          attrs = key;
          options = val;
        } else {
          (attrs = {})[key] = val;
        }

        options || (options = {}); // Run validation.

        if (!this._validate(attrs, options)) return false; // Extract attributes and options.

        unset = options.unset;
        silent = options.silent;
        changes = [];
        changing = this._changing;
        this._changing = true;

        if (!changing) {
          this._previousAttributes = _.extend(Object.create(null), this.attributes);
          this.changed = {};
        }

        current = this.attributes, prev = this._previousAttributes; // Check for changes of `id`.

        if (this.idAttribute in attrs) this.id = attrs[this.idAttribute]; // For each `set` attribute, update or delete the current value.

        for (attr in attrs) {
          val = attrs[attr];
          if (!_.isEqual(current[attr], val)) changes.push(attr);

          if (!_.isEqual(prev[attr], val)) {
            this.changed[attr] = val;
          } else {
            delete this.changed[attr];
          }

          unset ? delete current[attr] : current[attr] = val;
        } // Trigger all relevant attribute changes.


        if (!silent) {
          if (changes.length) this._pending = options;

          for (var i = 0, l = changes.length; i < l; i++) {
            this.trigger('change:' + changes[i], this, current[changes[i]], options);
          }
        } // You might be wondering why there's a `while` loop here. Changes can
        // be recursively nested within `"change"` events.


        if (changing) return this;

        if (!silent) {
          while (this._pending) {
            options = this._pending;
            this._pending = false;
            this.trigger('change', this, options);
          }
        }

        this._pending = false;
        this._changing = false;
        return this;
      },
      // Remove an attribute from the model, firing `"change"`. `unset` is a noop
      // if the attribute doesn't exist.
      unset: function unset(attr, options) {
        return this.set(attr, void 0, _.extend({}, options, {
          unset: true
        }));
      },
      // Clear all attributes on the model, firing `"change"`.
      clear: function clear(options) {
        var attrs = {};

        for (var key in this.attributes) {
          attrs[key] = void 0;
        }

        return this.set(attrs, _.extend({}, options, {
          unset: true
        }));
      },
      // Determine if the model has changed since the last `"change"` event.
      // If you specify an attribute name, determine if that attribute has changed.
      hasChanged: function hasChanged(attr) {
        if (attr == null) return !!Object.keys(this.changed).length;
        return _.has(this.changed, attr);
      },
      // Return an object containing all the attributes that have changed, or
      // false if there are no changed attributes. Useful for determining what
      // parts of a view need to be updated and/or what attributes need to be
      // persisted to the server. Unset attributes will be set to undefined.
      // You can also pass an attributes object to diff against the model,
      // determining if there *would be* a change.
      changedAttributes: function changedAttributes(diff) {
        if (!diff) return this.hasChanged() ? _.extend(Object.create(null), this.changed) : false;
        var val,
            changed = false;
        var old = this._changing ? this._previousAttributes : this.attributes;

        for (var attr in diff) {
          if (_.isEqual(old[attr], val = diff[attr])) continue;
          (changed || (changed = {}))[attr] = val;
        }

        return changed;
      },
      // Get the previous value of an attribute, recorded at the time the last
      // `"change"` event was fired.
      previous: function previous(attr) {
        if (attr == null || !this._previousAttributes) return null;
        return this._previousAttributes[attr];
      },
      // Get all of the attributes of the model at the time of the previous
      // `"change"` event.
      previousAttributes: function previousAttributes() {
        return _.extend(Object.create(null), this._previousAttributes);
      },
      // Fetch the model from the server. If the server's representation of the
      // model differs from its current attributes, they will be overridden,
      // triggering a `"change"` event.
      fetch: function fetch(options) {
        options = options ? _.extend({}, options) : {};
        if (options.parse === void 0) options.parse = true;
        var model = this;
        var success = options.success;

        options.success = function (resp) {
          if (!model.set(model.parse(resp, options), options)) return false;
          if (success) success(model, resp, options);
          model.trigger('sync', model, resp, options);
        };

        wrapError(this, options);
        return this.sync('read', this, options);
      },
      // Set a hash of model attributes, and sync the model to the server.
      // If the server returns an attributes hash that differs, the model's
      // state will be `set` again.
      save: function save(key, val, options) {
        var attrs,
            method,
            xhr,
            attributes = this.attributes; // Handle both `"key", value` and `{key: value}` -style arguments.

        if (key == null || _typeof(key) === 'object') {
          attrs = key;
          options = val;
        } else {
          (attrs = {})[key] = val;
        }

        options = _.extend({
          validate: true
        }, options); // If we're not waiting and attributes exist, save acts as
        // `set(attr).save(null, opts)` with validation. Otherwise, check if
        // the model will be valid when the attributes, if any, are set.

        if (attrs && !options.wait) {
          if (!this.set(attrs, options)) return false;
        } else {
          if (!this._validate(attrs, options)) return false;
        } // Set temporary attributes if `{wait: true}`.


        if (attrs && options.wait) {
          this.attributes = _.extend(Object.create(null), attributes, attrs);
        } // After a successful server-side save, the client is (optionally)
        // updated with the server-side state.


        if (options.parse === void 0) options.parse = true;
        var model = this;
        var success = options.success;

        options.success = function (resp) {
          // Ensure attributes are restored during synchronous saves.
          model.attributes = attributes;
          var serverAttrs = model.parse(resp, options);
          if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);

          if (serverAttrs && _typeof(serverAttrs) === 'object' && !model.set(serverAttrs, options)) {
            return false;
          }

          if (success) success(model, resp, options);
          model.trigger('sync', model, resp, options);
        };

        wrapError(this, options);
        method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';
        if (method === 'patch') options.attrs = attrs;
        xhr = this.sync(method, this, options); // Restore attributes.

        if (attrs && options.wait) this.attributes = attributes;
        return xhr;
      },
      // Destroy this model on the server if it was already persisted.
      // Optimistically removes the model from its collection, if it has one.
      // If `wait: true` is passed, waits for the server to respond before removal.
      destroy: function destroy(options) {
        options = options ? _.extend({}, options) : {};
        var model = this;
        var success = options.success;

        var destroy = function destroy() {
          model.trigger('destroy', model, model.collection, options);
        };

        options.success = function (resp) {
          if (options.wait || model.isNew()) destroy();
          if (success) success(model, resp, options);
          if (!model.isNew()) model.trigger('sync', model, resp, options);
        };

        if (this.isNew()) {
          options.success();
          return false;
        }

        wrapError(this, options);
        var xhr = this.sync('delete', this, options);
        if (!options.wait) destroy();
        return xhr;
      },
      // Default URL for the model's representation on the server -- if you're
      // using Backbone's restful methods, override this to change the endpoint
      // that will be called.
      url: function url() {
        var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();
        if (this.isNew()) return base;
        return base.replace(/([^\/])$/, '$1/') + encodeURIComponent(this.id);
      },
      // **parse** converts a response into the hash of attributes to be `set` on
      // the model. The default implementation is just to pass the response along.
      parse: function parse(resp, options) {
        return resp;
      },
      // Create a new model with identical attributes to this one.
      clone: function clone() {
        return new this.constructor(this.attributes);
      },
      // A model is new if it has never been saved to the server, and lacks an id.
      isNew: function isNew() {
        return !this.has(this.idAttribute);
      },
      // Check if the model is currently in a valid state.
      isValid: function isValid(options) {
        return this._validate({}, _.extend(options || {}, {
          validate: true
        }));
      },
      // Run validation against the next complete set of model attributes,
      // returning `true` if all is well. Otherwise, fire an `"invalid"` event.
      _validate: function _validate(attrs, options) {
        if (!options.validate || !this.validate) return true;
        attrs = _.extend(Object.create(null), this.attributes, attrs);
        var error = this.validationError = this.validate(attrs, options) || null;
        if (!error) return true;
        this.trigger('invalid', this, error, _.extend(options, {
          validationError: error
        }));
        return false;
      }
    });

    if (_.keys) {
      // Underscore methods that we want to implement on the Model.
      var modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit']; // Mix in each Underscore method as a proxy to `Model#attributes`.

      modelMethods.filter(utilExists).forEach(function (method) {
        Model.prototype[method] = function () {
          var args = _slice.call(arguments);

          args.unshift(this.attributes);
          return _[method].apply(_, args);
        };
      });
    } // Backbone.Collection
    // -------------------
    // If models tend to represent a single row of data, a Backbone Collection is
    // more analagous to a table full of data ... or a small slice or page of that
    // table, or a collection of rows that belong together for a particular reason
    // -- all of the messages in this particular folder, all of the documents
    // belonging to this particular author, and so on. Collections maintain
    // indexes of their models, both in order, and for lookup by `id`.
    // Create a new **Collection**, perhaps to contain a specific type of `model`.
    // If a `comparator` is specified, the Collection will maintain
    // its models in sort order, as they're added and removed.


    var Collection = Backbone.Collection = function (models, options) {
      options || (options = {});
      if (options.model) this.model = options.model;
      if (options.comparator !== void 0) this.comparator = options.comparator;

      this._reset();

      this.initialize.apply(this, arguments);
      if (models) this.reset(models, _.extend({
        silent: true
      }, options));
    }; // Default options for `Collection#set`.


    var setOptions = {
      add: true,
      remove: true,
      merge: true
    };
    var addOptions = {
      add: true,
      remove: false
    }; // Define the Collection's inheritable methods.

    _.extend(Collection.prototype, Events, {
      // The default model for a collection is just a **Backbone.Model**.
      // This should be overridden in most cases.
      model: typeof Model === 'undefined' ? null : Model,
      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function initialize() {},
      // The JSON representation of a Collection is an array of the
      // models' attributes.
      toJSON: function toJSON(options) {
        return this.map(function (model) {
          return model.toJSON(options);
        });
      },
      // Proxy `Backbone.sync` by default.
      sync: function sync() {
        return Backbone.sync.apply(this, arguments);
      },
      // Add a model, or list of models to the set.
      add: function add(models, options) {
        return this.set(models, _.extend({
          merge: false
        }, options, addOptions));
      },
      // Remove a model, or a list of models from the set.
      remove: function remove(models, options) {
        var singular = !Array.isArray(models);
        models = singular ? [models] : models.slice();
        options || (options = {});
        var i, l, index, model;

        for (i = 0, l = models.length; i < l; i++) {
          model = models[i] = this.get(models[i]);
          if (!model) continue;
          delete this._byId[model.id];
          delete this._byId[model.cid];
          index = this.indexOf(model);
          this.models.splice(index, 1);
          this.length--;

          if (!options.silent) {
            options.index = index;
            model.trigger('remove', model, this, options);
          }

          this._removeReference(model, options);
        }

        return singular ? models[0] : models;
      },
      // Update a collection by `set`-ing a new list of models, adding new ones,
      // removing models that are no longer present, and merging models that
      // already exist in the collection, as necessary. Similar to **Model#set**,
      // the core operation for updating the data contained by the collection.
      set: function set(models, options) {
        options = _.defaults({}, options, setOptions);
        if (options.parse) models = this.parse(models, options);
        var singular = !Array.isArray(models);
        models = singular ? models ? [models] : [] : models.slice();
        var i, l, id, model, attrs, existing, sort;
        var at = options.at;
        var targetModel = this.model;
        var sortable = this.comparator && at == null && options.sort !== false;
        var sortAttr = typeof this.comparator === 'string' ? this.comparator : null;
        var toAdd = [],
            toRemove = [],
            modelMap = {};
        var add = options.add,
            merge = options.merge,
            remove = options.remove;
        var order = !sortable && add && remove ? [] : false; // Turn bare objects into model references, and prevent invalid models
        // from being added.

        for (i = 0, l = models.length; i < l; i++) {
          attrs = models[i] || {};

          if (attrs instanceof Model) {
            id = model = attrs;
          } else {
            id = attrs[targetModel.prototype.idAttribute || 'id'];
          } // If a duplicate is found, prevent it from being added and
          // optionally merge it into the existing model.


          if (existing = this.get(id)) {
            if (remove) modelMap[existing.cid] = true;

            if (merge) {
              attrs = attrs === model ? model.attributes : attrs;
              if (options.parse) attrs = existing.parse(attrs, options);
              existing.set(attrs, options);
              if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;
            }

            models[i] = existing; // If this is a new, valid model, push it to the `toAdd` list.
          } else if (add) {
            model = models[i] = this._prepareModel(attrs, options);
            if (!model) continue;
            toAdd.push(model);

            this._addReference(model, options);
          } // Do not add multiple models with the same `id`.


          model = existing || model;
          if (order && (model.isNew() || !modelMap[model.id])) order.push(model);
          modelMap[model.id] = true;
        } // Remove nonexistent models if appropriate.


        if (remove) {
          for (i = 0, l = this.length; i < l; ++i) {
            if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);
          }

          if (toRemove.length) this.remove(toRemove, options);
        } // See if sorting is needed, update `length` and splice in new models.


        if (toAdd.length || order && order.length) {
          if (sortable) sort = true;
          this.length += toAdd.length;

          if (at != null) {
            for (i = 0, l = toAdd.length; i < l; i++) {
              this.models.splice(at + i, 0, toAdd[i]);
            }
          } else {
            if (order) this.models.length = 0;
            var orderedModels = order || toAdd;

            for (i = 0, l = orderedModels.length; i < l; i++) {
              this.models.push(orderedModels[i]);
            }
          }
        } // Silently sort the collection if appropriate.


        if (sort) this.sort({
          silent: true
        }); // Unless silenced, it's time to fire all appropriate add/sort events.

        if (!options.silent) {
          for (i = 0, l = toAdd.length; i < l; i++) {
            (model = toAdd[i]).trigger('add', model, this, options);
          }

          if (sort || order && order.length) this.trigger('sort', this, options);
        } // Return the added (or merged) model (or models).


        return singular ? models[0] : models;
      },
      // When you have more items than you want to add or remove individually,
      // you can reset the entire set with a new list of models, without firing
      // any granular `add` or `remove` events. Fires `reset` when finished.
      // Useful for bulk operations and optimizations.
      reset: function reset(models, options) {
        options || (options = {});

        for (var i = 0, l = this.models.length; i < l; i++) {
          this._removeReference(this.models[i], options);
        }

        options.previousModels = this.models;

        this._reset();

        models = this.add(models, _.extend({
          silent: true
        }, options));
        if (!options.silent) this.trigger('reset', this, options);
        return models;
      },
      // Add a model to the end of the collection.
      push: function push(model, options) {
        return this.add(model, _.extend({
          at: this.length
        }, options));
      },
      // Remove a model from the end of the collection.
      pop: function pop(options) {
        var model = this.at(this.length - 1);
        this.remove(model, options);
        return model;
      },
      // Add a model to the beginning of the collection.
      unshift: function unshift(model, options) {
        return this.add(model, _.extend({
          at: 0
        }, options));
      },
      // Remove a model from the beginning of the collection.
      shift: function shift(options) {
        var model = this.at(0);
        this.remove(model, options);
        return model;
      },
      // Slice out a sub-array of models from the collection.
      slice: function slice() {
        return _slice.apply(this.models, arguments);
      },
      // Get a model from the set by id.
      get: function get(obj) {
        if (obj == null) return void 0;
        return this._byId[obj] || this._byId[obj.id] || this._byId[obj.cid];
      },
      // Get the model at the given index.
      at: function at(index) {
        return this.models[index];
      },
      // Return models with matching attributes. Useful for simple cases of
      // `filter`.
      where: function where(attrs, first) {
        if (!attrs || !Object.keys(attrs).length) return first ? void 0 : [];
        return this[first ? 'find' : 'filter'](function (model) {
          for (var key in attrs) {
            if (attrs[key] !== model.get(key)) return false;
          }

          return true;
        });
      },
      // Return the first model with matching attributes. Useful for simple cases
      // of `find`.
      findWhere: function findWhere(attrs) {
        return this.where(attrs, true);
      },
      // Force the collection to re-sort itself. You don't need to call this under
      // normal circumstances, as the set will maintain sort order as each item
      // is added.
      sort: function sort(options) {
        if (!this.comparator) throw new Error('Cannot sort a set without a comparator');
        options || (options = {}); // Run sort based on type of `comparator`.

        if (typeof this.comparator === 'string' || this.comparator.length === 1) {
          this.models = this.sortBy(this.comparator, this);
        } else {
          this.models.sort(this.comparator.bind(this));
        }

        if (!options.silent) this.trigger('sort', this, options);
        return this;
      },
      // Pluck an attribute from each model in the collection.
      pluck: function pluck(attr) {
        return this.models.map(function (model) {
          return model.get(attr);
        });
      },
      // Fetch the default set of models for this collection, resetting the
      // collection when they arrive. If `reset: true` is passed, the response
      // data will be passed through the `reset` method instead of `set`.
      fetch: function fetch(options) {
        options = options ? _.extend({}, options) : {};
        if (options.parse === void 0) options.parse = true;
        var success = options.success;
        var collection = this;

        options.success = function (resp) {
          var method = options.reset ? 'reset' : 'set';
          collection[method](resp, options);
          if (success) success(collection, resp, options);
          collection.trigger('sync', collection, resp, options);
        };

        wrapError(this, options);
        return this.sync('read', this, options);
      },
      // Create a new instance of a model in this collection. Add the model to the
      // collection immediately, unless `wait: true` is passed, in which case we
      // wait for the server to agree.
      create: function create(model, options) {
        options = options ? _.extend({}, options) : {};
        if (!(model = this._prepareModel(model, options))) return false;
        if (!options.wait) this.add(model, options);
        var collection = this;
        var success = options.success;

        options.success = function (model, resp) {
          if (options.wait) collection.add(model, options);
          if (success) success(model, resp, options);
        };

        model.save(null, options);
        return model;
      },
      // **parse** converts a response into a list of models to be added to the
      // collection. The default implementation is just to pass it through.
      parse: function parse(resp, options) {
        return resp;
      },
      // Create a new collection with an identical list of models as this one.
      clone: function clone() {
        return new this.constructor(this.models);
      },
      // Private method to reset all internal state. Called when the collection
      // is first initialized or reset.
      _reset: function _reset() {
        this.length = 0;
        this.models = [];
        this._byId = Object.create(null);
      },
      // Prepare a hash of attributes (or other model) to be added to this
      // collection.
      _prepareModel: function _prepareModel(attrs, options) {
        if (attrs instanceof Model) return attrs;
        options = _.extend({}, options);
        options.collection = this;
        var model = new this.model(attrs, options);
        if (!model.validationError) return model;
        this.trigger('invalid', this, model.validationError, options);
        return false;
      },
      // Internal method to create a model's ties to a collection.
      _addReference: function _addReference(model, options) {
        this._byId[model.cid] = model;
        if (model.id != null) this._byId[model.id] = model;
        if (!model.collection) model.collection = this;
        model.on('all', this._onModelEvent, this);
      },
      // Internal method to sever a model's ties to a collection.
      _removeReference: function _removeReference(model, options) {
        if (this === model.collection) delete model.collection;
        model.off('all', this._onModelEvent, this);
      },
      // Internal method called every time a model in the set fires an event.
      // Sets need to update their indexes when models change ids. All other
      // events simply proxy through. "add" and "remove" events that originate
      // in other collections are ignored.
      _onModelEvent: function _onModelEvent(event, model, collection, options) {
        if ((event === 'add' || event === 'remove') && collection !== this) return;
        if (event === 'destroy') this.remove(model, options);

        if (model && event === 'change:' + model.idAttribute) {
          delete this._byId[model.previous(model.idAttribute)];
          if (model.id != null) this._byId[model.id] = model;
        }

        this.trigger.apply(this, arguments);
      }
    });

    if (utilExists('each')) {
      // Underscore methods that we want to implement on the Collection.
      // 90% of the core usefulness of Backbone Collections is actually implemented
      // right here:
      var methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl', 'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke', 'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest', 'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle', 'lastIndexOf', 'isEmpty', 'chain']; // Mix in each Underscore method as a proxy to `Collection#models`.

      methods.filter(utilExists).forEach(function (method) {
        Collection.prototype[method] = function () {
          var args = _slice.call(arguments);

          args.unshift(this.models);
          return _[method].apply(_, args);
        };
      }); // Underscore methods that take a property name as an argument.

      var attributeMethods = ['groupBy', 'countBy', 'sortBy']; // Use attributes instead of properties.

      attributeMethods.filter(utilExists).forEach(function (method) {
        Collection.prototype[method] = function (value, context) {
          var iterator = typeof value === 'function' ? value : function (model) {
            return model.get(value);
          };
          return _[method](this.models, iterator, context);
        };
      });
    } else {
      ['forEach', 'map', 'filter', 'some', 'every', 'reduce', 'reduceRight', 'indexOf', 'lastIndexOf'].forEach(function (method) {
        Collection.prototype[method] = function (arg, context) {
          return this.models[method](arg, context);
        };
      }); // Exoskeleton-specific:

      Collection.prototype.find = function (iterator, context) {
        var result;
        this.some(function (value, index, list) {
          if (iterator.call(context, value, index, list)) {
            result = value;
            return true;
          }
        });
        return result;
      }; // Underscore methods that take a property name as an argument.


      ['sortBy'].forEach(function (method) {
        Collection.prototype[method] = function (value, context) {
          var iterator = typeof value === 'function' ? value : function (model) {
            return model.get(value);
          };
          return _[method](this.models, iterator, context);
        };
      });
    } // Backbone.View
    // -------------
    // Backbone Views are almost more convention than they are actual code. A View
    // is simply a JavaScript object that represents a logical chunk of UI in the
    // DOM. This might be a single item, an entire list, a sidebar or panel, or
    // even the surrounding frame which wraps your whole app. Defining a chunk of
    // UI as a **View** allows you to define your DOM events declaratively, without
    // having to worry about render order ... and makes it easy for the view to
    // react to specific changes in the state of your models.
    // Creating a Backbone.View creates its initial element outside of the DOM,
    // if an existing element is not provided...


    var View = Backbone.View = function (options) {
      this.cid = _.uniqueId('view');
      if (options) Object.keys(options).forEach(function (key) {
        if (viewOptions.indexOf(key) !== -1) this[key] = options[key];
      }, this);

      this._ensureElement();

      this.initialize.apply(this, arguments);
    }; // Cached regex to split keys for `delegate`.


    var delegateEventSplitter = /^(\S+)\s*(.*)$/; // List of view options to be merged as properties.

    var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events']; // Set up all inheritable **Backbone.View** properties and methods.

    _.extend(View.prototype, Events, {
      // The default `tagName` of a View's element is `"div"`.
      tagName: 'div',
      // jQuery delegate for element lookup, scoped to DOM elements within the
      // current view. This should be preferred to global lookups where possible.
      $: function $(selector) {
        return this.$el.find(selector);
      },
      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function initialize() {},
      // **render** is the core function that your view should override, in order
      // to populate its element (`this.el`), with the appropriate HTML. The
      // convention is for **render** to always return `this`.
      render: function render() {
        return this;
      },
      // Remove this view by taking the element out of the DOM, and removing any
      // applicable Backbone.Events listeners.
      remove: function remove() {
        this._removeElement();

        this.stopListening();
        return this;
      },
      // Remove this view's element from the document and all event listeners
      // attached to it. Exposed for subclasses using an alternative DOM
      // manipulation API.
      _removeElement: function _removeElement() {
        this.$el.remove();
      },
      // Change the view's element (`this.el` property) and re-delegate the
      // view's events on the new element.
      setElement: function setElement(element) {
        this.undelegateEvents();

        this._setElement(element);

        this.delegateEvents();
        return this;
      },
      // Creates the `this.el` and `this.$el` references for this view using the
      // given `el` and a hash of `attributes`. `el` can be a CSS selector or an
      // HTML string, a jQuery context or an element. Subclasses can override
      // this to utilize an alternative DOM manipulation API and are only required
      // to set the `this.el` property.
      _setElement: function _setElement(el) {
        this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);
        this.el = this.$el[0];
      },
      // Set callbacks, where `this.events` is a hash of
      //
      // *{"event selector": "callback"}*
      //
      //     {
      //       'mousedown .title':  'edit',
      //       'click .button':     'save',
      //       'click .open':       function(e) { ... }
      //     }
      //
      // pairs. Callbacks will be bound to the view, with `this` set properly.
      // Uses event delegation for efficiency.
      // Omitting the selector binds the event to `this.el`.
      delegateEvents: function delegateEvents(events) {
        if (!(events || (events = _.result(this, 'events')))) return this;
        this.undelegateEvents();

        for (var key in events) {
          var method = events[key];
          if (typeof method !== 'function') method = this[events[key]]; // if (!method) continue;

          var match = key.match(delegateEventSplitter);
          this.delegate(match[1], match[2], method.bind(this));
        }

        return this;
      },
      // Add a single event listener to the view's element (or a child element
      // using `selector`). This only works for delegate-able events: not `focus`,
      // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.
      delegate: function delegate(eventName, selector, listener) {
        this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);
      },
      // Clears all callbacks previously bound to the view by `delegateEvents`.
      // You usually don't need to use this, but may wish to if you have multiple
      // Backbone views attached to the same DOM element.
      undelegateEvents: function undelegateEvents() {
        if (this.$el) this.$el.off('.delegateEvents' + this.cid);
        return this;
      },
      // A finer-grained `undelegateEvents` for removing a single delegated event.
      // `selector` and `listener` are both optional.
      undelegate: function undelegate(eventName, selector, listener) {
        this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);
      },
      // Produces a DOM element to be assigned to your view. Exposed for
      // subclasses using an alternative DOM manipulation API.
      _createElement: function _createElement(tagName) {
        return document.createElement(tagName);
      },
      // Ensure that the View has a DOM element to render into.
      // If `this.el` is a string, pass it through `$()`, take the first
      // matching element, and re-assign it to `el`. Otherwise, create
      // an element from the `id`, `className` and `tagName` properties.
      _ensureElement: function _ensureElement() {
        if (!this.el) {
          var attrs = _.extend({}, _.result(this, 'attributes'));

          if (this.id) attrs.id = _.result(this, 'id');
          if (this.className) attrs['class'] = _.result(this, 'className');
          this.setElement(this._createElement(_.result(this, 'tagName')));

          this._setAttributes(attrs);
        } else {
          this.setElement(_.result(this, 'el'));
        }
      },
      // Set attributes from a hash on this view's element.  Exposed for
      // subclasses using an alternative DOM manipulation API.
      _setAttributes: function _setAttributes(attributes) {
        this.$el.attr(attributes);
      }
    }); // Backbone.sync
    // -------------
    // Override this function to change the manner in which Backbone persists
    // models to the server. You will be passed the type of request, and the
    // model in question. By default, makes a RESTful Ajax request
    // to the model's `url()`. Some possible customizations could be:
    //
    // * Use `setTimeout` to batch rapid-fire updates into a single request.
    // * Send up the models as XML instead of JSON.
    // * Persist models via WebSockets instead of Ajax.


    Backbone.sync = function (method, model, options) {
      options || (options = {});
      var type = methodMap[method]; // Default JSON-request options.

      var params = {
        type: type,
        dataType: 'json'
      }; // Ensure that we have a URL.

      if (!options.url) {
        params.url = _.result(model, 'url') || urlError();
      } // Ensure that we have the appropriate request data.


      if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {
        params.contentType = 'application/json';
        params.data = JSON.stringify(options.attrs || model.toJSON(options));
      } // Don't process data on a non-GET request.


      if (params.type !== 'GET') {
        params.processData = false;
      } // Make the request, allowing the user to override any Ajax options.


      var xhr = options.xhr = Backbone.ajax(_.extend(params, options));
      model.trigger('request', model, xhr, options);
      return xhr;
    }; // Map from CRUD to HTTP for our default `Backbone.sync` implementation.


    var methodMap = {
      'create': 'POST',
      'update': 'PUT',
      'patch': 'PATCH',
      'delete': 'DELETE',
      'read': 'GET'
    }; // Set the default implementation of `Backbone.ajax` to proxy through to `$`.
    // Override this if you'd like to use a different library.

    Backbone.ajax = function () {
      return Backbone.$.ajax.apply(Backbone.$, arguments);
    }; // Backbone.Router
    // ---------------
    // Routers map faux-URLs to actions, and fire events when routes are
    // matched. Creating a new one sets its `routes` hash, if not set statically.


    var Router = Backbone.Router = function (options) {
      options || (options = {});
      if (options.routes) this.routes = options.routes;

      this._bindRoutes();

      this.initialize.apply(this, arguments);
    }; // Cached regular expressions for matching named param parts and splatted
    // parts of route strings.


    var optionalParam = /\((.*?)\)/g;
    var namedParam = /(\(\?)?:\w+/g;
    var splatParam = /\*\w+/g;
    var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

    var isRegExp = function isRegExp(value) {
      return value ? _typeof(value) === 'object' && toString.call(value) === '[object RegExp]' : false;
    }; // Set up all inheritable **Backbone.Router** properties and methods.


    _.extend(Router.prototype, Events, {
      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function initialize() {},
      // Manually bind a single named route to a callback. For example:
      //
      //     this.route('search/:query/p:num', 'search', function(query, num) {
      //       ...
      //     });
      //
      route: function route(_route, name, callback) {
        if (!isRegExp(_route)) _route = this._routeToRegExp(_route);

        if (typeof name === 'function') {
          callback = name;
          name = '';
        }

        if (!callback) callback = this[name];
        var router = this;
        Backbone.history.route(_route, function (fragment) {
          var args = router._extractParameters(_route, fragment);

          router.execute(callback, args);
          router.trigger.apply(router, ['route:' + name].concat(args));
          router.trigger('route', name, args);
          Backbone.history.trigger('route', router, name, args);
        });
        return this;
      },
      // Execute a route handler with the provided parameters.  This is an
      // excellent place to do pre-route setup or post-route cleanup.
      execute: function execute(callback, args) {
        if (callback) callback.apply(this, args);
      },
      // Simple proxy to `Backbone.history` to save a fragment into the history.
      navigate: function navigate(fragment, options) {
        Backbone.history.navigate(fragment, options);
        return this;
      },
      // Bind all defined routes to `Backbone.history`. We have to reverse the
      // order of the routes here to support behavior where the most general
      // routes can be defined at the bottom of the route map.
      _bindRoutes: function _bindRoutes() {
        if (!this.routes) return;
        this.routes = _.result(this, 'routes');
        var route,
            routes = Object.keys(this.routes);

        while ((route = routes.pop()) != null) {
          this.route(route, this.routes[route]);
        }
      },
      // Convert a route string into a regular expression, suitable for matching
      // against the current location hash.
      _routeToRegExp: function _routeToRegExp(route) {
        route = route.replace(escapeRegExp, '\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {
          return optional ? match : '([^/?]+)';
        }).replace(splatParam, '([^?]*?)');
        return new RegExp('^' + route + '(?:\\?([\\s\\S]*))?$');
      },
      // Given a route, and a URL fragment that it matches, return the array of
      // extracted decoded parameters. Empty or unmatched parameters will be
      // treated as `null` to normalize cross-browser behavior.
      _extractParameters: function _extractParameters(route, fragment) {
        var params = route.exec(fragment).slice(1);
        return params.map(function (param, i) {
          // Don't decode the search params.
          if (i === params.length - 1) return param || null;
          return param ? decodeURIComponent(param) : null;
        });
      }
    }); // Backbone.History
    // ----------------
    // Handles cross-browser history management, based on either
    // [pushState](http://diveintohtml5.info/history.html) and real URLs, or
    // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)
    // and URL fragments.


    var History = Backbone.History = function () {
      this.handlers = [];
      this.checkUrl = this.checkUrl.bind(this); // Ensure that `History` can be used outside of the browser.

      if (typeof window !== 'undefined') {
        this.location = window.location;
        this.history = window.history;
      }
    }; // Cached regex for stripping a leading hash/slash and trailing space.


    var routeStripper = /^[#\/]|\s+$/g; // Cached regex for stripping leading and trailing slashes.

    var rootStripper = /^\/+|\/+$/g; // Cached regex for removing a trailing slash.

    var trailingSlash = /\/$/; // Cached regex for stripping urls of hash and query.

    var pathStripper = /[#].*$/; // Has the history handling already been started?

    History.started = false; // Set up all inheritable **Backbone.History** properties and methods.

    _.extend(History.prototype, Events, {
      // Are we at the app root?
      atRoot: function atRoot() {
        return this.location.pathname.replace(/[^\/]$/, '$&/') === this.root;
      },
      // Gets the true hash value. Cannot use location.hash directly due to bug
      // in Firefox where location.hash will always be decoded.
      getHash: function getHash(window) {
        var match = (window || this).location.href.match(/#(.*)$/);
        return match ? match[1] : '';
      },
      // Get the cross-browser normalized URL fragment, either from the URL,
      // the hash, or the override.
      getFragment: function getFragment(fragment, forcePushState) {
        if (fragment == null) {
          if (this._wantsPushState || !this._wantsHashChange) {
            fragment = decodeURI(this.location.pathname + this.location.search);
            var root = this.root.replace(trailingSlash, '');
            if (!fragment.indexOf(root)) fragment = fragment.slice(root.length);
          } else {
            fragment = this.getHash();
          }
        }

        return fragment.replace(routeStripper, '');
      },
      // Start the hash change handling, returning `true` if the current URL matches
      // an existing route, and `false` otherwise.
      start: function start(options) {
        if (History.started) throw new Error("Backbone.history has already been started");
        History.started = true; // Figure out the initial configuration.
        // Is pushState desired or should we use hashchange only?

        this.options = _.extend({
          root: '/'
        }, this.options, options);
        this.root = this.options.root;
        this._wantsHashChange = this.options.hashChange !== false;
        this._wantsPushState = !!this.options.pushState;
        var fragment = this.getFragment(); // Normalize root to always include a leading and trailing slash.

        this.root = ('/' + this.root + '/').replace(rootStripper, '/'); // Depending on whether we're using pushState or hashes, determine how we
        // check the URL state.

        if (this._wantsPushState) {
          window.addEventListener('popstate', this.checkUrl, false);
        } else if (this._wantsHashChange) {
          window.addEventListener('hashchange', this.checkUrl, false);
        } // Determine if we need to change the base url, for a pushState link
        // opened by a non-pushState browser.


        this.fragment = fragment;
        var loc = this.location; // Transition from hashChange to pushState or vice versa if both are
        // requested.

        if (this._wantsHashChange && this._wantsPushState) {
          // If we've started out with a hash-based route, but we're currently
          // in a browser where it could be `pushState`-based instead...
          if (this.atRoot() && loc.hash) {
            this.fragment = this.getHash().replace(routeStripper, '');
            this.history.replaceState({}, document.title, this.root + this.fragment);
          }
        }

        if (!this.options.silent) return this.loadUrl();
      },
      // Disable Backbone.history, perhaps temporarily. Not useful in a real app,
      // but possibly useful for unit testing Routers.
      stop: function stop() {
        window.removeEventListener('popstate', this.checkUrl);
        window.removeEventListener('hashchange', this.checkUrl);
        History.started = false;
      },
      // Add a route to be tested when the fragment changes. Routes added later
      // may override previous routes.
      route: function route(_route2, callback) {
        this.handlers.unshift({
          route: _route2,
          callback: callback
        });
      },
      // Checks the current URL to see if it has changed, and if it has,
      // calls `loadUrl`.
      checkUrl: function checkUrl() {
        var current = this.getFragment();
        if (current === this.fragment) return false;
        this.loadUrl();
      },
      // Attempt to load the current URL fragment. If a route succeeds with a
      // match, returns `true`. If no defined routes matches the fragment,
      // returns `false`.
      loadUrl: function loadUrl(fragment) {
        fragment = this.fragment = this.getFragment(fragment);
        return this.handlers.some(function (handler) {
          if (handler.route.test(fragment)) {
            handler.callback(fragment);
            return true;
          }
        });
      },
      // Save a fragment into the hash history, or replace the URL state if the
      // 'replace' option is passed. You are responsible for properly URL-encoding
      // the fragment in advance.
      //
      // The options object can contain `trigger: true` if you wish to have the
      // route callback be fired (not usually desirable), or `replace: true`, if
      // you wish to modify the current URL without adding an entry to the history.
      navigate: function navigate(fragment, options) {
        if (!History.started) return false;
        if (!options || options === true) options = {
          trigger: !!options
        };
        var url = this.root + (fragment = this.getFragment(fragment || '')); // Strip the hash for matching.

        fragment = fragment.replace(pathStripper, '');
        if (this.fragment === fragment) return;
        this.fragment = fragment; // Don't include a trailing slash on the root.

        if (fragment === '' && url !== '/') url = url.slice(0, -1); // If we're using pushState we use it to set the fragment as a real URL.

        if (this._wantsPushState) {
          this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url); // If hash changes haven't been explicitly disabled, update the hash
          // fragment to store history.
        } else if (this._wantsHashChange) {
          this._updateHash(this.location, fragment, options.replace); // If you've told us that you explicitly don't want fallback hashchange-
          // based history, then `navigate` becomes a page refresh.

        } else {
          return this.location.assign(url);
        }

        if (options.trigger) return this.loadUrl(fragment);
      },
      // Update the hash location, either replacing the current entry, or adding
      // a new one to the browser history.
      _updateHash: function _updateHash(location, fragment, replace) {
        if (replace) {
          var href = location.href.replace(/(javascript:|#).*$/, '');
          location.replace(href + '#' + fragment);
        } else {
          // Some browsers require that `hash` contains a leading #.
          location.hash = '#' + fragment;
        }
      }
    }); // !!!
    // Init.


    ['Model', 'Collection', 'Router', 'View', 'History'].forEach(function (name) {
      var item = Backbone[name];
      if (item) item.extend = Backbone.extend;
    }); // Allow the `Backbone` object to serve as a global event bus, for folks who
    // want global "pubsub" in a convenient place.

    _.extend(Backbone, Events); // Create the default Backbone.history if the History module is included.


    if (History) Backbone.history = new History();
    return Backbone;
  });

  /***/ }),

  /***/ "./node_modules/jquery/dist/jquery.js":
  /*!********************************************!*\
    !*** ./node_modules/jquery/dist/jquery.js ***!
    \********************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  /* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  /*!
   * jQuery JavaScript Library v3.5.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright JS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2020-05-04T22:49Z
   */
  (function (global, factory) {
    "use strict";

    if (( false ? undefined : _typeof(module)) === "object" && _typeof(module.exports) === "object") {
      // For CommonJS and CommonJS-like environments where a proper `window`
      // is present, execute the factory and get jQuery.
      // For environments that do not have a `window` with a `document`
      // (such as Node.js), expose a factory as module.exports.
      // This accentuates the need for the creation of a real `window`.
      // e.g. var jQuery = require("jquery")(window);
      // See ticket #14549 for more info.
      module.exports = global.document ? factory(global, true) : function (w) {
        if (!w.document) {
          throw new Error("jQuery requires a window with a document");
        }

        return factory(w);
      };
    } else {
      factory(global);
    } // Pass this if window is not defined yet

  })(typeof window !== "undefined" ? window : this, function (window, noGlobal) {
    // Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
    // throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
    // arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
    // enough that all such attempts are guarded in a try block.
    "use strict";

    var arr = [];
    var getProto = Object.getPrototypeOf;
    var _slice = arr.slice;
    var flat = arr.flat ? function (array) {
      return arr.flat.call(array);
    } : function (array) {
      return arr.concat.apply([], array);
    };
    var push = arr.push;
    var indexOf = arr.indexOf;
    var class2type = {};
    var toString = class2type.toString;
    var hasOwn = class2type.hasOwnProperty;
    var fnToString = hasOwn.toString;
    var ObjectFunctionString = fnToString.call(Object);
    var support = {};

    var isFunction = function isFunction(obj) {
      // Support: Chrome <=57, Firefox <=52
      // In some browsers, typeof returns "function" for HTML <object> elements
      // (i.e., `typeof document.createElement( "object" ) === "function"`).
      // We don't want to classify *any* DOM node as a function.
      return typeof obj === "function" && typeof obj.nodeType !== "number";
    };

    var isWindow = function isWindow(obj) {
      return obj != null && obj === obj.window;
    };

    var document = window.document;
    var preservedScriptAttributes = {
      type: true,
      src: true,
      nonce: true,
      noModule: true
    };

    function DOMEval(code, node, doc) {
      doc = doc || document;
      var i,
          val,
          script = doc.createElement("script");
      script.text = code;

      if (node) {
        for (i in preservedScriptAttributes) {
          // Support: Firefox 64+, Edge 18+
          // Some browsers don't support the "nonce" property on scripts.
          // On the other hand, just using `getAttribute` is not enough as
          // the `nonce` attribute is reset to an empty string whenever it
          // becomes browsing-context connected.
          // See https://github.com/whatwg/html/issues/2369
          // See https://html.spec.whatwg.org/#nonce-attributes
          // The `node.getAttribute` check was added for the sake of
          // `jQuery.globalEval` so that it can fake a nonce-containing node
          // via an object.
          val = node[i] || node.getAttribute && node.getAttribute(i);

          if (val) {
            script.setAttribute(i, val);
          }
        }
      }

      doc.head.appendChild(script).parentNode.removeChild(script);
    }

    function toType(obj) {
      if (obj == null) {
        return obj + "";
      } // Support: Android <=2.3 only (functionish RegExp)


      return _typeof(obj) === "object" || typeof obj === "function" ? class2type[toString.call(obj)] || "object" : _typeof(obj);
    }
    /* global Symbol */
    // Defining this global in .eslintrc.json would create a danger of using the global
    // unguarded in another place, it seems safer to define global only for this module


    var version = "3.5.1",
        // Define a local copy of jQuery
    jQuery = function jQuery(selector, context) {
      // The jQuery object is actually just the init constructor 'enhanced'
      // Need init if jQuery is called (just allow error to be thrown if not included)
      return new jQuery.fn.init(selector, context);
    };

    jQuery.fn = jQuery.prototype = {
      // The current version of jQuery being used
      jquery: version,
      constructor: jQuery,
      // The default length of a jQuery object is 0
      length: 0,
      toArray: function toArray() {
        return _slice.call(this);
      },
      // Get the Nth element in the matched element set OR
      // Get the whole matched element set as a clean array
      get: function get(num) {
        // Return all the elements in a clean array
        if (num == null) {
          return _slice.call(this);
        } // Return just the one element from the set


        return num < 0 ? this[num + this.length] : this[num];
      },
      // Take an array of elements and push it onto the stack
      // (returning the new matched element set)
      pushStack: function pushStack(elems) {
        // Build a new jQuery matched element set
        var ret = jQuery.merge(this.constructor(), elems); // Add the old object onto the stack (as a reference)

        ret.prevObject = this; // Return the newly-formed element set

        return ret;
      },
      // Execute a callback for every element in the matched set.
      each: function each(callback) {
        return jQuery.each(this, callback);
      },
      map: function map(callback) {
        return this.pushStack(jQuery.map(this, function (elem, i) {
          return callback.call(elem, i, elem);
        }));
      },
      slice: function slice() {
        return this.pushStack(_slice.apply(this, arguments));
      },
      first: function first() {
        return this.eq(0);
      },
      last: function last() {
        return this.eq(-1);
      },
      even: function even() {
        return this.pushStack(jQuery.grep(this, function (_elem, i) {
          return (i + 1) % 2;
        }));
      },
      odd: function odd() {
        return this.pushStack(jQuery.grep(this, function (_elem, i) {
          return i % 2;
        }));
      },
      eq: function eq(i) {
        var len = this.length,
            j = +i + (i < 0 ? len : 0);
        return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
      },
      end: function end() {
        return this.prevObject || this.constructor();
      },
      // For internal use only.
      // Behaves like an Array's method, not like a jQuery method.
      push: push,
      sort: arr.sort,
      splice: arr.splice
    };

    jQuery.extend = jQuery.fn.extend = function () {
      var options,
          name,
          src,
          copy,
          copyIsArray,
          clone,
          target = arguments[0] || {},
          i = 1,
          length = arguments.length,
          deep = false; // Handle a deep copy situation

      if (typeof target === "boolean") {
        deep = target; // Skip the boolean and the target

        target = arguments[i] || {};
        i++;
      } // Handle case when target is a string or something (possible in deep copy)


      if (_typeof(target) !== "object" && !isFunction(target)) {
        target = {};
      } // Extend jQuery itself if only one argument is passed


      if (i === length) {
        target = this;
        i--;
      }

      for (; i < length; i++) {
        // Only deal with non-null/undefined values
        if ((options = arguments[i]) != null) {
          // Extend the base object
          for (name in options) {
            copy = options[name]; // Prevent Object.prototype pollution
            // Prevent never-ending loop

            if (name === "__proto__" || target === copy) {
              continue;
            } // Recurse if we're merging plain objects or arrays


            if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {
              src = target[name]; // Ensure proper type for the source value

              if (copyIsArray && !Array.isArray(src)) {
                clone = [];
              } else if (!copyIsArray && !jQuery.isPlainObject(src)) {
                clone = {};
              } else {
                clone = src;
              }

              copyIsArray = false; // Never move original objects, clone them

              target[name] = jQuery.extend(deep, clone, copy); // Don't bring in undefined values
            } else if (copy !== undefined) {
              target[name] = copy;
            }
          }
        }
      } // Return the modified object


      return target;
    };

    jQuery.extend({
      // Unique for each copy of jQuery on the page
      expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
      // Assume jQuery is ready without the ready module
      isReady: true,
      error: function error(msg) {
        throw new Error(msg);
      },
      noop: function noop() {},
      isPlainObject: function isPlainObject(obj) {
        var proto, Ctor; // Detect obvious negatives
        // Use toString instead of jQuery.type to catch host objects

        if (!obj || toString.call(obj) !== "[object Object]") {
          return false;
        }

        proto = getProto(obj); // Objects with no prototype (e.g., `Object.create( null )`) are plain

        if (!proto) {
          return true;
        } // Objects with prototype are plain iff they were constructed by a global Object function


        Ctor = hasOwn.call(proto, "constructor") && proto.constructor;
        return typeof Ctor === "function" && fnToString.call(Ctor) === ObjectFunctionString;
      },
      isEmptyObject: function isEmptyObject(obj) {
        var name;

        for (name in obj) {
          return false;
        }

        return true;
      },
      // Evaluates a script in a provided context; falls back to the global one
      // if not specified.
      globalEval: function globalEval(code, options, doc) {
        DOMEval(code, {
          nonce: options && options.nonce
        }, doc);
      },
      each: function each(obj, callback) {
        var length,
            i = 0;

        if (isArrayLike(obj)) {
          length = obj.length;

          for (; i < length; i++) {
            if (callback.call(obj[i], i, obj[i]) === false) {
              break;
            }
          }
        } else {
          for (i in obj) {
            if (callback.call(obj[i], i, obj[i]) === false) {
              break;
            }
          }
        }

        return obj;
      },
      // results is for internal usage only
      makeArray: function makeArray(arr, results) {
        var ret = results || [];

        if (arr != null) {
          if (isArrayLike(Object(arr))) {
            jQuery.merge(ret, typeof arr === "string" ? [arr] : arr);
          } else {
            push.call(ret, arr);
          }
        }

        return ret;
      },
      inArray: function inArray(elem, arr, i) {
        return arr == null ? -1 : indexOf.call(arr, elem, i);
      },
      // Support: Android <=4.0 only, PhantomJS 1 only
      // push.apply(_, arraylike) throws on ancient WebKit
      merge: function merge(first, second) {
        var len = +second.length,
            j = 0,
            i = first.length;

        for (; j < len; j++) {
          first[i++] = second[j];
        }

        first.length = i;
        return first;
      },
      grep: function grep(elems, callback, invert) {
        var callbackInverse,
            matches = [],
            i = 0,
            length = elems.length,
            callbackExpect = !invert; // Go through the array, only saving the items
        // that pass the validator function

        for (; i < length; i++) {
          callbackInverse = !callback(elems[i], i);

          if (callbackInverse !== callbackExpect) {
            matches.push(elems[i]);
          }
        }

        return matches;
      },
      // arg is for internal usage only
      map: function map(elems, callback, arg) {
        var length,
            value,
            i = 0,
            ret = []; // Go through the array, translating each of the items to their new values

        if (isArrayLike(elems)) {
          length = elems.length;

          for (; i < length; i++) {
            value = callback(elems[i], i, arg);

            if (value != null) {
              ret.push(value);
            }
          } // Go through every key on the object,

        } else {
          for (i in elems) {
            value = callback(elems[i], i, arg);

            if (value != null) {
              ret.push(value);
            }
          }
        } // Flatten any nested arrays


        return flat(ret);
      },
      // A global GUID counter for objects
      guid: 1,
      // jQuery.support is not used in Core but other projects attach their
      // properties to it so it needs to exist.
      support: support
    });

    if (typeof Symbol === "function") {
      jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
    } // Populate the class2type map


    jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (_i, name) {
      class2type["[object " + name + "]"] = name.toLowerCase();
    });

    function isArrayLike(obj) {
      // Support: real iOS 8.2 only (not reproducible in simulator)
      // `in` check used to prevent JIT error (gh-2145)
      // hasOwn isn't used here due to false negatives
      // regarding Nodelist length in IE
      var length = !!obj && "length" in obj && obj.length,
          type = toType(obj);

      if (isFunction(obj) || isWindow(obj)) {
        return false;
      }

      return type === "array" || length === 0 || typeof length === "number" && length > 0 && length - 1 in obj;
    }

    var Sizzle =
    /*!
     * Sizzle CSS Selector Engine v2.3.5
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://js.foundation/
     *
     * Date: 2020-03-14
     */
    function (window) {
      var i,
          support,
          Expr,
          getText,
          isXML,
          tokenize,
          compile,
          select,
          outermostContext,
          sortInput,
          hasDuplicate,
          // Local document vars
      setDocument,
          document,
          docElem,
          documentIsHTML,
          rbuggyQSA,
          rbuggyMatches,
          matches,
          contains,
          // Instance-specific data
      expando = "sizzle" + 1 * new Date(),
          preferredDoc = window.document,
          dirruns = 0,
          done = 0,
          classCache = createCache(),
          tokenCache = createCache(),
          compilerCache = createCache(),
          nonnativeSelectorCache = createCache(),
          sortOrder = function sortOrder(a, b) {
        if (a === b) {
          hasDuplicate = true;
        }

        return 0;
      },
          // Instance methods
      hasOwn = {}.hasOwnProperty,
          arr = [],
          pop = arr.pop,
          pushNative = arr.push,
          push = arr.push,
          slice = arr.slice,
          // Use a stripped-down indexOf as it's faster than native
      // https://jsperf.com/thor-indexof-vs-for/5
      indexOf = function indexOf(list, elem) {
        var i = 0,
            len = list.length;

        for (; i < len; i++) {
          if (list[i] === elem) {
            return i;
          }
        }

        return -1;
      },
          booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|" + "ismap|loop|multiple|open|readonly|required|scoped",
          // Regular expressions
      // http://www.w3.org/TR/css3-selectors/#whitespace
      whitespace = "[\\x20\\t\\r\\n\\f]",
          // https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
      identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",
          // Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
      attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace + // Operator (capture 2)
      "*([*^$|!~]?=)" + whitespace + // "Attribute values must be CSS identifiers [capture 5]
      // or strings [capture 3 or capture 4]"
      "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace + "*\\]",
          pseudos = ":(" + identifier + ")(?:\\((" + // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
      // 1. quoted (capture 3; capture 4 or capture 5)
      "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" + // 2. simple (capture 6)
      "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" + // 3. anything else (capture 2)
      ".*" + ")\\)|)",
          // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
      rwhitespace = new RegExp(whitespace + "+", "g"),
          rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"),
          rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"),
          rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"),
          rdescend = new RegExp(whitespace + "|>"),
          rpseudo = new RegExp(pseudos),
          ridentifier = new RegExp("^" + identifier + "$"),
          matchExpr = {
        "ID": new RegExp("^#(" + identifier + ")"),
        "CLASS": new RegExp("^\\.(" + identifier + ")"),
        "TAG": new RegExp("^(" + identifier + "|[*])"),
        "ATTR": new RegExp("^" + attributes),
        "PSEUDO": new RegExp("^" + pseudos),
        "CHILD": new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
        "bool": new RegExp("^(?:" + booleans + ")$", "i"),
        // For use in libraries implementing .is()
        // We use this for POS matching in `select`
        "needsContext": new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
      },
          rhtml = /HTML$/i,
          rinputs = /^(?:input|select|textarea|button)$/i,
          rheader = /^h\d$/i,
          rnative = /^[^{]+\{\s*\[native \w/,
          // Easily-parseable/retrievable ID or TAG or CLASS selectors
      rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
          rsibling = /[+~]/,
          // CSS escapes
      // http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
      runescape = new RegExp("\\\\[\\da-fA-F]{1,6}" + whitespace + "?|\\\\([^\\r\\n\\f])", "g"),
          funescape = function funescape(escape, nonHex) {
        var high = "0x" + escape.slice(1) - 0x10000;
        return nonHex ? // Strip the backslash prefix from a non-hex escape sequence
        nonHex : // Replace a hexadecimal escape sequence with the encoded Unicode code point
        // Support: IE <=11+
        // For values outside the Basic Multilingual Plane (BMP), manually construct a
        // surrogate pair
        high < 0 ? String.fromCharCode(high + 0x10000) : String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
      },
          // CSS string/identifier serialization
      // https://drafts.csswg.org/cssom/#common-serializing-idioms
      rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
          fcssescape = function fcssescape(ch, asCodePoint) {
        if (asCodePoint) {
          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
          if (ch === "\0") {
            return "\uFFFD";
          } // Control characters and (dependent upon position) numbers get escaped as code points


          return ch.slice(0, -1) + "\\" + ch.charCodeAt(ch.length - 1).toString(16) + " ";
        } // Other potentially-special ASCII characters get backslash-escaped


        return "\\" + ch;
      },
          // Used for iframes
      // See setDocument()
      // Removing the function wrapper causes a "Permission Denied"
      // error in IE
      unloadHandler = function unloadHandler() {
        setDocument();
      },
          inDisabledFieldset = addCombinator(function (elem) {
        return elem.disabled === true && elem.nodeName.toLowerCase() === "fieldset";
      }, {
        dir: "parentNode",
        next: "legend"
      }); // Optimize for push.apply( _, NodeList )


      try {
        push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes); // Support: Android<4.0
        // Detect silently failing push.apply
        // eslint-disable-next-line no-unused-expressions

        arr[preferredDoc.childNodes.length].nodeType;
      } catch (e) {
        push = {
          apply: arr.length ? // Leverage slice if possible
          function (target, els) {
            pushNative.apply(target, slice.call(els));
          } : // Support: IE<9
          // Otherwise append directly
          function (target, els) {
            var j = target.length,
                i = 0; // Can't trust NodeList.length

            while (target[j++] = els[i++]) {}

            target.length = j - 1;
          }
        };
      }

      function Sizzle(selector, context, results, seed) {
        var m,
            i,
            elem,
            nid,
            match,
            groups,
            newSelector,
            newContext = context && context.ownerDocument,
            // nodeType defaults to 9, since context defaults to document
        nodeType = context ? context.nodeType : 9;
        results = results || []; // Return early from calls with invalid selector or context

        if (typeof selector !== "string" || !selector || nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {
          return results;
        } // Try to shortcut find operations (as opposed to filters) in HTML documents


        if (!seed) {
          setDocument(context);
          context = context || document;

          if (documentIsHTML) {
            // If the selector is sufficiently simple, try using a "get*By*" DOM method
            // (excepting DocumentFragment context, where the methods don't exist)
            if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {
              // ID selector
              if (m = match[1]) {
                // Document context
                if (nodeType === 9) {
                  if (elem = context.getElementById(m)) {
                    // Support: IE, Opera, Webkit
                    // TODO: identify versions
                    // getElementById can match elements by name instead of ID
                    if (elem.id === m) {
                      results.push(elem);
                      return results;
                    }
                  } else {
                    return results;
                  } // Element context

                } else {
                  // Support: IE, Opera, Webkit
                  // TODO: identify versions
                  // getElementById can match elements by name instead of ID
                  if (newContext && (elem = newContext.getElementById(m)) && contains(context, elem) && elem.id === m) {
                    results.push(elem);
                    return results;
                  }
                } // Type selector

              } else if (match[2]) {
                push.apply(results, context.getElementsByTagName(selector));
                return results; // Class selector
              } else if ((m = match[3]) && support.getElementsByClassName && context.getElementsByClassName) {
                push.apply(results, context.getElementsByClassName(m));
                return results;
              }
            } // Take advantage of querySelectorAll


            if (support.qsa && !nonnativeSelectorCache[selector + " "] && (!rbuggyQSA || !rbuggyQSA.test(selector)) && ( // Support: IE 8 only
            // Exclude object elements
            nodeType !== 1 || context.nodeName.toLowerCase() !== "object")) {
              newSelector = selector;
              newContext = context; // qSA considers elements outside a scoping root when evaluating child or
              // descendant combinators, which is not what we want.
              // In such cases, we work around the behavior by prefixing every selector in the
              // list with an ID selector referencing the scope context.
              // The technique has to be used as well when a leading combinator is used
              // as such selectors are not recognized by querySelectorAll.
              // Thanks to Andrew Dupont for this technique.

              if (nodeType === 1 && (rdescend.test(selector) || rcombinators.test(selector))) {
                // Expand context for sibling selectors
                newContext = rsibling.test(selector) && testContext(context.parentNode) || context; // We can use :scope instead of the ID hack if the browser
                // supports it & if we're not changing the context.

                if (newContext !== context || !support.scope) {
                  // Capture the context ID, setting it first if necessary
                  if (nid = context.getAttribute("id")) {
                    nid = nid.replace(rcssescape, fcssescape);
                  } else {
                    context.setAttribute("id", nid = expando);
                  }
                } // Prefix every selector in the list


                groups = tokenize(selector);
                i = groups.length;

                while (i--) {
                  groups[i] = (nid ? "#" + nid : ":scope") + " " + toSelector(groups[i]);
                }

                newSelector = groups.join(",");
              }

              try {
                push.apply(results, newContext.querySelectorAll(newSelector));
                return results;
              } catch (qsaError) {
                nonnativeSelectorCache(selector, true);
              } finally {
                if (nid === expando) {
                  context.removeAttribute("id");
                }
              }
            }
          }
        } // All others


        return select(selector.replace(rtrim, "$1"), context, results, seed);
      }
      /**
       * Create key-value caches of limited size
       * @returns {function(string, object)} Returns the Object data after storing it on itself with
       *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
       *	deleting the oldest entry
       */


      function createCache() {
        var keys = [];

        function cache(key, value) {
          // Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
          if (keys.push(key + " ") > Expr.cacheLength) {
            // Only keep the most recent entries
            delete cache[keys.shift()];
          }

          return cache[key + " "] = value;
        }

        return cache;
      }
      /**
       * Mark a function for special use by Sizzle
       * @param {Function} fn The function to mark
       */


      function markFunction(fn) {
        fn[expando] = true;
        return fn;
      }
      /**
       * Support testing using an element
       * @param {Function} fn Passed the created element and returns a boolean result
       */


      function assert(fn) {
        var el = document.createElement("fieldset");

        try {
          return !!fn(el);
        } catch (e) {
          return false;
        } finally {
          // Remove from its parent by default
          if (el.parentNode) {
            el.parentNode.removeChild(el);
          } // release memory in IE


          el = null;
        }
      }
      /**
       * Adds the same handler for all of the specified attrs
       * @param {String} attrs Pipe-separated list of attributes
       * @param {Function} handler The method that will be applied
       */


      function addHandle(attrs, handler) {
        var arr = attrs.split("|"),
            i = arr.length;

        while (i--) {
          Expr.attrHandle[arr[i]] = handler;
        }
      }
      /**
       * Checks document order of two siblings
       * @param {Element} a
       * @param {Element} b
       * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
       */


      function siblingCheck(a, b) {
        var cur = b && a,
            diff = cur && a.nodeType === 1 && b.nodeType === 1 && a.sourceIndex - b.sourceIndex; // Use IE sourceIndex if available on both nodes

        if (diff) {
          return diff;
        } // Check if b follows a


        if (cur) {
          while (cur = cur.nextSibling) {
            if (cur === b) {
              return -1;
            }
          }
        }

        return a ? 1 : -1;
      }
      /**
       * Returns a function to use in pseudos for input types
       * @param {String} type
       */


      function createInputPseudo(type) {
        return function (elem) {
          var name = elem.nodeName.toLowerCase();
          return name === "input" && elem.type === type;
        };
      }
      /**
       * Returns a function to use in pseudos for buttons
       * @param {String} type
       */


      function createButtonPseudo(type) {
        return function (elem) {
          var name = elem.nodeName.toLowerCase();
          return (name === "input" || name === "button") && elem.type === type;
        };
      }
      /**
       * Returns a function to use in pseudos for :enabled/:disabled
       * @param {Boolean} disabled true for :disabled; false for :enabled
       */


      function createDisabledPseudo(disabled) {
        // Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
        return function (elem) {
          // Only certain elements can match :enabled or :disabled
          // https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
          // https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
          if ("form" in elem) {
            // Check for inherited disabledness on relevant non-disabled elements:
            // * listed form-associated elements in a disabled fieldset
            //   https://html.spec.whatwg.org/multipage/forms.html#category-listed
            //   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
            // * option elements in a disabled optgroup
            //   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
            // All such elements have a "form" property.
            if (elem.parentNode && elem.disabled === false) {
              // Option elements defer to a parent optgroup if present
              if ("label" in elem) {
                if ("label" in elem.parentNode) {
                  return elem.parentNode.disabled === disabled;
                } else {
                  return elem.disabled === disabled;
                }
              } // Support: IE 6 - 11
              // Use the isDisabled shortcut property to check for disabled fieldset ancestors


              return elem.isDisabled === disabled || // Where there is no isDisabled, check manually

              /* jshint -W018 */
              elem.isDisabled !== !disabled && inDisabledFieldset(elem) === disabled;
            }

            return elem.disabled === disabled; // Try to winnow out elements that can't be disabled before trusting the disabled property.
            // Some victims get caught in our net (label, legend, menu, track), but it shouldn't
            // even exist on them, let alone have a boolean value.
          } else if ("label" in elem) {
            return elem.disabled === disabled;
          } // Remaining elements are neither :enabled nor :disabled


          return false;
        };
      }
      /**
       * Returns a function to use in pseudos for positionals
       * @param {Function} fn
       */


      function createPositionalPseudo(fn) {
        return markFunction(function (argument) {
          argument = +argument;
          return markFunction(function (seed, matches) {
            var j,
                matchIndexes = fn([], seed.length, argument),
                i = matchIndexes.length; // Match elements found at the specified indexes

            while (i--) {
              if (seed[j = matchIndexes[i]]) {
                seed[j] = !(matches[j] = seed[j]);
              }
            }
          });
        });
      }
      /**
       * Checks a node for validity as a Sizzle context
       * @param {Element|Object=} context
       * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
       */


      function testContext(context) {
        return context && typeof context.getElementsByTagName !== "undefined" && context;
      } // Expose support vars for convenience


      support = Sizzle.support = {};
      /**
       * Detects XML nodes
       * @param {Element|Object} elem An element or a document
       * @returns {Boolean} True iff elem is a non-HTML XML node
       */

      isXML = Sizzle.isXML = function (elem) {
        var namespace = elem.namespaceURI,
            docElem = (elem.ownerDocument || elem).documentElement; // Support: IE <=8
        // Assume HTML when documentElement doesn't yet exist, such as inside loading iframes
        // https://bugs.jquery.com/ticket/4833

        return !rhtml.test(namespace || docElem && docElem.nodeName || "HTML");
      };
      /**
       * Sets document-related variables once based on the current document
       * @param {Element|Object} [doc] An element or document object to use to set the document
       * @returns {Object} Returns the current document
       */


      setDocument = Sizzle.setDocument = function (node) {
        var hasCompare,
            subWindow,
            doc = node ? node.ownerDocument || node : preferredDoc; // Return early if doc is invalid or already selected
        // Support: IE 11+, Edge 17 - 18+
        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
        // two documents; shallow comparisons work.
        // eslint-disable-next-line eqeqeq

        if (doc == document || doc.nodeType !== 9 || !doc.documentElement) {
          return document;
        } // Update global variables


        document = doc;
        docElem = document.documentElement;
        documentIsHTML = !isXML(document); // Support: IE 9 - 11+, Edge 12 - 18+
        // Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
        // Support: IE 11+, Edge 17 - 18+
        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
        // two documents; shallow comparisons work.
        // eslint-disable-next-line eqeqeq

        if (preferredDoc != document && (subWindow = document.defaultView) && subWindow.top !== subWindow) {
          // Support: IE 11, Edge
          if (subWindow.addEventListener) {
            subWindow.addEventListener("unload", unloadHandler, false); // Support: IE 9 - 10 only
          } else if (subWindow.attachEvent) {
            subWindow.attachEvent("onunload", unloadHandler);
          }
        } // Support: IE 8 - 11+, Edge 12 - 18+, Chrome <=16 - 25 only, Firefox <=3.6 - 31 only,
        // Safari 4 - 5 only, Opera <=11.6 - 12.x only
        // IE/Edge & older browsers don't support the :scope pseudo-class.
        // Support: Safari 6.0 only
        // Safari 6.0 supports :scope but it's an alias of :root there.


        support.scope = assert(function (el) {
          docElem.appendChild(el).appendChild(document.createElement("div"));
          return typeof el.querySelectorAll !== "undefined" && !el.querySelectorAll(":scope fieldset div").length;
        });
        /* Attributes
        ---------------------------------------------------------------------- */
        // Support: IE<8
        // Verify that getAttribute really returns attributes and not properties
        // (excepting IE8 booleans)

        support.attributes = assert(function (el) {
          el.className = "i";
          return !el.getAttribute("className");
        });
        /* getElement(s)By*
        ---------------------------------------------------------------------- */
        // Check if getElementsByTagName("*") returns only elements

        support.getElementsByTagName = assert(function (el) {
          el.appendChild(document.createComment(""));
          return !el.getElementsByTagName("*").length;
        }); // Support: IE<9

        support.getElementsByClassName = rnative.test(document.getElementsByClassName); // Support: IE<10
        // Check if getElementById returns elements by name
        // The broken getElementById methods don't pick up programmatically-set names,
        // so use a roundabout getElementsByName test

        support.getById = assert(function (el) {
          docElem.appendChild(el).id = expando;
          return !document.getElementsByName || !document.getElementsByName(expando).length;
        }); // ID filter and find

        if (support.getById) {
          Expr.filter["ID"] = function (id) {
            var attrId = id.replace(runescape, funescape);
            return function (elem) {
              return elem.getAttribute("id") === attrId;
            };
          };

          Expr.find["ID"] = function (id, context) {
            if (typeof context.getElementById !== "undefined" && documentIsHTML) {
              var elem = context.getElementById(id);
              return elem ? [elem] : [];
            }
          };
        } else {
          Expr.filter["ID"] = function (id) {
            var attrId = id.replace(runescape, funescape);
            return function (elem) {
              var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
              return node && node.value === attrId;
            };
          }; // Support: IE 6 - 7 only
          // getElementById is not reliable as a find shortcut


          Expr.find["ID"] = function (id, context) {
            if (typeof context.getElementById !== "undefined" && documentIsHTML) {
              var node,
                  i,
                  elems,
                  elem = context.getElementById(id);

              if (elem) {
                // Verify the id attribute
                node = elem.getAttributeNode("id");

                if (node && node.value === id) {
                  return [elem];
                } // Fall back on getElementsByName


                elems = context.getElementsByName(id);
                i = 0;

                while (elem = elems[i++]) {
                  node = elem.getAttributeNode("id");

                  if (node && node.value === id) {
                    return [elem];
                  }
                }
              }

              return [];
            }
          };
        } // Tag


        Expr.find["TAG"] = support.getElementsByTagName ? function (tag, context) {
          if (typeof context.getElementsByTagName !== "undefined") {
            return context.getElementsByTagName(tag); // DocumentFragment nodes don't have gEBTN
          } else if (support.qsa) {
            return context.querySelectorAll(tag);
          }
        } : function (tag, context) {
          var elem,
              tmp = [],
              i = 0,
              // By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
          results = context.getElementsByTagName(tag); // Filter out possible comments

          if (tag === "*") {
            while (elem = results[i++]) {
              if (elem.nodeType === 1) {
                tmp.push(elem);
              }
            }

            return tmp;
          }

          return results;
        }; // Class

        Expr.find["CLASS"] = support.getElementsByClassName && function (className, context) {
          if (typeof context.getElementsByClassName !== "undefined" && documentIsHTML) {
            return context.getElementsByClassName(className);
          }
        };
        /* QSA/matchesSelector
        ---------------------------------------------------------------------- */
        // QSA and matchesSelector support
        // matchesSelector(:active) reports false when true (IE9/Opera 11.5)


        rbuggyMatches = []; // qSa(:focus) reports false when true (Chrome 21)
        // We allow this because of a bug in IE8/9 that throws an error
        // whenever `document.activeElement` is accessed on an iframe
        // So, we allow :focus to pass through QSA all the time to avoid the IE error
        // See https://bugs.jquery.com/ticket/13378

        rbuggyQSA = [];

        if (support.qsa = rnative.test(document.querySelectorAll)) {
          // Build QSA regex
          // Regex strategy adopted from Diego Perini
          assert(function (el) {
            var input; // Select is set to empty string on purpose
            // This is to test IE's treatment of not explicitly
            // setting a boolean content attribute,
            // since its presence should be enough
            // https://bugs.jquery.com/ticket/12359

            docElem.appendChild(el).innerHTML = "<a id='" + expando + "'></a>" + "<select id='" + expando + "-\r\\' msallowcapture=''>" + "<option selected=''></option></select>"; // Support: IE8, Opera 11-12.16
            // Nothing should be selected when empty strings follow ^= or $= or *=
            // The test attribute must be unknown in Opera but "safe" for WinRT
            // https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section

            if (el.querySelectorAll("[msallowcapture^='']").length) {
              rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")");
            } // Support: IE8
            // Boolean attributes and "value" are not treated correctly


            if (!el.querySelectorAll("[selected]").length) {
              rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")");
            } // Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+


            if (!el.querySelectorAll("[id~=" + expando + "-]").length) {
              rbuggyQSA.push("~=");
            } // Support: IE 11+, Edge 15 - 18+
            // IE 11/Edge don't find elements on a `[name='']` query in some cases.
            // Adding a temporary attribute to the document before the selection works
            // around the issue.
            // Interestingly, IE 10 & older don't seem to have the issue.


            input = document.createElement("input");
            input.setAttribute("name", "");
            el.appendChild(input);

            if (!el.querySelectorAll("[name='']").length) {
              rbuggyQSA.push("\\[" + whitespace + "*name" + whitespace + "*=" + whitespace + "*(?:''|\"\")");
            } // Webkit/Opera - :checked should return selected option elements
            // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
            // IE8 throws error here and will not see later tests


            if (!el.querySelectorAll(":checked").length) {
              rbuggyQSA.push(":checked");
            } // Support: Safari 8+, iOS 8+
            // https://bugs.webkit.org/show_bug.cgi?id=136851
            // In-page `selector#id sibling-combinator selector` fails


            if (!el.querySelectorAll("a#" + expando + "+*").length) {
              rbuggyQSA.push(".#.+[+~]");
            } // Support: Firefox <=3.6 - 5 only
            // Old Firefox doesn't throw on a badly-escaped identifier.


            el.querySelectorAll("\\\f");
            rbuggyQSA.push("[\\r\\n\\f]");
          });
          assert(function (el) {
            el.innerHTML = "<a href='' disabled='disabled'></a>" + "<select disabled='disabled'><option/></select>"; // Support: Windows 8 Native Apps
            // The type and name attributes are restricted during .innerHTML assignment

            var input = document.createElement("input");
            input.setAttribute("type", "hidden");
            el.appendChild(input).setAttribute("name", "D"); // Support: IE8
            // Enforce case-sensitivity of name attribute

            if (el.querySelectorAll("[name=d]").length) {
              rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?=");
            } // FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
            // IE8 throws error here and will not see later tests


            if (el.querySelectorAll(":enabled").length !== 2) {
              rbuggyQSA.push(":enabled", ":disabled");
            } // Support: IE9-11+
            // IE's :disabled selector does not pick up the children of disabled fieldsets


            docElem.appendChild(el).disabled = true;

            if (el.querySelectorAll(":disabled").length !== 2) {
              rbuggyQSA.push(":enabled", ":disabled");
            } // Support: Opera 10 - 11 only
            // Opera 10-11 does not throw on post-comma invalid pseudos


            el.querySelectorAll("*,:x");
            rbuggyQSA.push(",.*:");
          });
        }

        if (support.matchesSelector = rnative.test(matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)) {
          assert(function (el) {
            // Check to see if it's possible to do matchesSelector
            // on a disconnected node (IE 9)
            support.disconnectedMatch = matches.call(el, "*"); // This should fail with an exception
            // Gecko does not error, returns false instead

            matches.call(el, "[s!='']:x");
            rbuggyMatches.push("!=", pseudos);
          });
        }

        rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));
        rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|"));
        /* Contains
        ---------------------------------------------------------------------- */

        hasCompare = rnative.test(docElem.compareDocumentPosition); // Element contains another
        // Purposefully self-exclusive
        // As in, an element does not contain itself

        contains = hasCompare || rnative.test(docElem.contains) ? function (a, b) {
          var adown = a.nodeType === 9 ? a.documentElement : a,
              bup = b && b.parentNode;
          return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));
        } : function (a, b) {
          if (b) {
            while (b = b.parentNode) {
              if (b === a) {
                return true;
              }
            }
          }

          return false;
        };
        /* Sorting
        ---------------------------------------------------------------------- */
        // Document order sorting

        sortOrder = hasCompare ? function (a, b) {
          // Flag for duplicate removal
          if (a === b) {
            hasDuplicate = true;
            return 0;
          } // Sort on method existence if only one input has compareDocumentPosition


          var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;

          if (compare) {
            return compare;
          } // Calculate position if both inputs belong to the same document
          // Support: IE 11+, Edge 17 - 18+
          // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
          // two documents; shallow comparisons work.
          // eslint-disable-next-line eqeqeq


          compare = (a.ownerDocument || a) == (b.ownerDocument || b) ? a.compareDocumentPosition(b) : // Otherwise we know they are disconnected
          1; // Disconnected nodes

          if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {
            // Choose the first element that is related to our preferred document
            // Support: IE 11+, Edge 17 - 18+
            // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
            // two documents; shallow comparisons work.
            // eslint-disable-next-line eqeqeq
            if (a == document || a.ownerDocument == preferredDoc && contains(preferredDoc, a)) {
              return -1;
            } // Support: IE 11+, Edge 17 - 18+
            // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
            // two documents; shallow comparisons work.
            // eslint-disable-next-line eqeqeq


            if (b == document || b.ownerDocument == preferredDoc && contains(preferredDoc, b)) {
              return 1;
            } // Maintain original order


            return sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0;
          }

          return compare & 4 ? -1 : 1;
        } : function (a, b) {
          // Exit early if the nodes are identical
          if (a === b) {
            hasDuplicate = true;
            return 0;
          }

          var cur,
              i = 0,
              aup = a.parentNode,
              bup = b.parentNode,
              ap = [a],
              bp = [b]; // Parentless nodes are either documents or disconnected

          if (!aup || !bup) {
            // Support: IE 11+, Edge 17 - 18+
            // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
            // two documents; shallow comparisons work.

            /* eslint-disable eqeqeq */
            return a == document ? -1 : b == document ? 1 :
            /* eslint-enable eqeqeq */
            aup ? -1 : bup ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0; // If the nodes are siblings, we can do a quick check
          } else if (aup === bup) {
            return siblingCheck(a, b);
          } // Otherwise we need full lists of their ancestors for comparison


          cur = a;

          while (cur = cur.parentNode) {
            ap.unshift(cur);
          }

          cur = b;

          while (cur = cur.parentNode) {
            bp.unshift(cur);
          } // Walk down the tree looking for a discrepancy


          while (ap[i] === bp[i]) {
            i++;
          }

          return i ? // Do a sibling check if the nodes have a common ancestor
          siblingCheck(ap[i], bp[i]) : // Otherwise nodes in our document sort first
          // Support: IE 11+, Edge 17 - 18+
          // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
          // two documents; shallow comparisons work.

          /* eslint-disable eqeqeq */
          ap[i] == preferredDoc ? -1 : bp[i] == preferredDoc ? 1 :
          /* eslint-enable eqeqeq */
          0;
        };
        return document;
      };

      Sizzle.matches = function (expr, elements) {
        return Sizzle(expr, null, null, elements);
      };

      Sizzle.matchesSelector = function (elem, expr) {
        setDocument(elem);

        if (support.matchesSelector && documentIsHTML && !nonnativeSelectorCache[expr + " "] && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {
          try {
            var ret = matches.call(elem, expr); // IE 9's matchesSelector returns false on disconnected nodes

            if (ret || support.disconnectedMatch || // As well, disconnected nodes are said to be in a document
            // fragment in IE 9
            elem.document && elem.document.nodeType !== 11) {
              return ret;
            }
          } catch (e) {
            nonnativeSelectorCache(expr, true);
          }
        }

        return Sizzle(expr, document, null, [elem]).length > 0;
      };

      Sizzle.contains = function (context, elem) {
        // Set document vars if needed
        // Support: IE 11+, Edge 17 - 18+
        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
        // two documents; shallow comparisons work.
        // eslint-disable-next-line eqeqeq
        if ((context.ownerDocument || context) != document) {
          setDocument(context);
        }

        return contains(context, elem);
      };

      Sizzle.attr = function (elem, name) {
        // Set document vars if needed
        // Support: IE 11+, Edge 17 - 18+
        // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
        // two documents; shallow comparisons work.
        // eslint-disable-next-line eqeqeq
        if ((elem.ownerDocument || elem) != document) {
          setDocument(elem);
        }

        var fn = Expr.attrHandle[name.toLowerCase()],
            // Don't get fooled by Object.prototype properties (jQuery #13807)
        val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;
        return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
      };

      Sizzle.escape = function (sel) {
        return (sel + "").replace(rcssescape, fcssescape);
      };

      Sizzle.error = function (msg) {
        throw new Error("Syntax error, unrecognized expression: " + msg);
      };
      /**
       * Document sorting and removing duplicates
       * @param {ArrayLike} results
       */


      Sizzle.uniqueSort = function (results) {
        var elem,
            duplicates = [],
            j = 0,
            i = 0; // Unless we *know* we can detect duplicates, assume their presence

        hasDuplicate = !support.detectDuplicates;
        sortInput = !support.sortStable && results.slice(0);
        results.sort(sortOrder);

        if (hasDuplicate) {
          while (elem = results[i++]) {
            if (elem === results[i]) {
              j = duplicates.push(i);
            }
          }

          while (j--) {
            results.splice(duplicates[j], 1);
          }
        } // Clear input after sorting to release objects
        // See https://github.com/jquery/sizzle/pull/225


        sortInput = null;
        return results;
      };
      /**
       * Utility function for retrieving the text value of an array of DOM nodes
       * @param {Array|Element} elem
       */


      getText = Sizzle.getText = function (elem) {
        var node,
            ret = "",
            i = 0,
            nodeType = elem.nodeType;

        if (!nodeType) {
          // If no nodeType, this is expected to be an array
          while (node = elem[i++]) {
            // Do not traverse comment nodes
            ret += getText(node);
          }
        } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {
          // Use textContent for elements
          // innerText usage removed for consistency of new lines (jQuery #11153)
          if (typeof elem.textContent === "string") {
            return elem.textContent;
          } else {
            // Traverse its children
            for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
              ret += getText(elem);
            }
          }
        } else if (nodeType === 3 || nodeType === 4) {
          return elem.nodeValue;
        } // Do not include comment or processing instruction nodes


        return ret;
      };

      Expr = Sizzle.selectors = {
        // Can be adjusted by the user
        cacheLength: 50,
        createPseudo: markFunction,
        match: matchExpr,
        attrHandle: {},
        find: {},
        relative: {
          ">": {
            dir: "parentNode",
            first: true
          },
          " ": {
            dir: "parentNode"
          },
          "+": {
            dir: "previousSibling",
            first: true
          },
          "~": {
            dir: "previousSibling"
          }
        },
        preFilter: {
          "ATTR": function ATTR(match) {
            match[1] = match[1].replace(runescape, funescape); // Move the given value to match[3] whether quoted or unquoted

            match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape);

            if (match[2] === "~=") {
              match[3] = " " + match[3] + " ";
            }

            return match.slice(0, 4);
          },
          "CHILD": function CHILD(match) {
            /* matches from matchExpr["CHILD"]
              1 type (only|nth|...)
              2 what (child|of-type)
              3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
              4 xn-component of xn+y argument ([+-]?\d*n|)
              5 sign of xn-component
              6 x of xn-component
              7 sign of y-component
              8 y of y-component
            */
            match[1] = match[1].toLowerCase();

            if (match[1].slice(0, 3) === "nth") {
              // nth-* requires argument
              if (!match[3]) {
                Sizzle.error(match[0]);
              } // numeric x and y parameters for Expr.filter.CHILD
              // remember that false/true cast respectively to 0/1


              match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === "even" || match[3] === "odd"));
              match[5] = +(match[7] + match[8] || match[3] === "odd"); // other types prohibit arguments
            } else if (match[3]) {
              Sizzle.error(match[0]);
            }

            return match;
          },
          "PSEUDO": function PSEUDO(match) {
            var excess,
                unquoted = !match[6] && match[2];

            if (matchExpr["CHILD"].test(match[0])) {
              return null;
            } // Accept quoted arguments as-is


            if (match[3]) {
              match[2] = match[4] || match[5] || ""; // Strip excess characters from unquoted arguments
            } else if (unquoted && rpseudo.test(unquoted) && ( // Get excess from tokenize (recursively)
            excess = tokenize(unquoted, true)) && ( // advance to the next closing parenthesis
            excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)) {
              // excess is a negative index
              match[0] = match[0].slice(0, excess);
              match[2] = unquoted.slice(0, excess);
            } // Return only captures needed by the pseudo filter method (type and argument)


            return match.slice(0, 3);
          }
        },
        filter: {
          "TAG": function TAG(nodeNameSelector) {
            var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
            return nodeNameSelector === "*" ? function () {
              return true;
            } : function (elem) {
              return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
            };
          },
          "CLASS": function CLASS(className) {
            var pattern = classCache[className + " "];
            return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function (elem) {
              return pattern.test(typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "");
            });
          },
          "ATTR": function ATTR(name, operator, check) {
            return function (elem) {
              var result = Sizzle.attr(elem, name);

              if (result == null) {
                return operator === "!=";
              }

              if (!operator) {
                return true;
              }

              result += "";
              /* eslint-disable max-len */

              return operator === "=" ? result === check : operator === "!=" ? result !== check : operator === "^=" ? check && result.indexOf(check) === 0 : operator === "*=" ? check && result.indexOf(check) > -1 : operator === "$=" ? check && result.slice(-check.length) === check : operator === "~=" ? (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) > -1 : operator === "|=" ? result === check || result.slice(0, check.length + 1) === check + "-" : false;
              /* eslint-enable max-len */
            };
          },
          "CHILD": function CHILD(type, what, _argument, first, last) {
            var simple = type.slice(0, 3) !== "nth",
                forward = type.slice(-4) !== "last",
                ofType = what === "of-type";
            return first === 1 && last === 0 ? // Shortcut for :nth-*(n)
            function (elem) {
              return !!elem.parentNode;
            } : function (elem, _context, xml) {
              var cache,
                  uniqueCache,
                  outerCache,
                  node,
                  nodeIndex,
                  start,
                  dir = simple !== forward ? "nextSibling" : "previousSibling",
                  parent = elem.parentNode,
                  name = ofType && elem.nodeName.toLowerCase(),
                  useCache = !xml && !ofType,
                  diff = false;

              if (parent) {
                // :(first|last|only)-(child|of-type)
                if (simple) {
                  while (dir) {
                    node = elem;

                    while (node = node[dir]) {
                      if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {
                        return false;
                      }
                    } // Reverse direction for :only-* (if we haven't yet done so)


                    start = dir = type === "only" && !start && "nextSibling";
                  }

                  return true;
                }

                start = [forward ? parent.firstChild : parent.lastChild]; // non-xml :nth-child(...) stores cache data on `parent`

                if (forward && useCache) {
                  // Seek `elem` from a previously-cached index
                  // ...in a gzip-friendly way
                  node = parent;
                  outerCache = node[expando] || (node[expando] = {}); // Support: IE <9 only
                  // Defend against cloned attroperties (jQuery gh-1709)

                  uniqueCache = outerCache[node.uniqueID] || (outerCache[node.uniqueID] = {});
                  cache = uniqueCache[type] || [];
                  nodeIndex = cache[0] === dirruns && cache[1];
                  diff = nodeIndex && cache[2];
                  node = nodeIndex && parent.childNodes[nodeIndex];

                  while (node = ++nodeIndex && node && node[dir] || ( // Fallback to seeking `elem` from the start
                  diff = nodeIndex = 0) || start.pop()) {
                    // When found, cache indexes on `parent` and break
                    if (node.nodeType === 1 && ++diff && node === elem) {
                      uniqueCache[type] = [dirruns, nodeIndex, diff];
                      break;
                    }
                  }
                } else {
                  // Use previously-cached element index if available
                  if (useCache) {
                    // ...in a gzip-friendly way
                    node = elem;
                    outerCache = node[expando] || (node[expando] = {}); // Support: IE <9 only
                    // Defend against cloned attroperties (jQuery gh-1709)

                    uniqueCache = outerCache[node.uniqueID] || (outerCache[node.uniqueID] = {});
                    cache = uniqueCache[type] || [];
                    nodeIndex = cache[0] === dirruns && cache[1];
                    diff = nodeIndex;
                  } // xml :nth-child(...)
                  // or :nth-last-child(...) or :nth(-last)?-of-type(...)


                  if (diff === false) {
                    // Use the same loop as above to seek `elem` from the start
                    while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {
                      if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {
                        // Cache the index of each encountered element
                        if (useCache) {
                          outerCache = node[expando] || (node[expando] = {}); // Support: IE <9 only
                          // Defend against cloned attroperties (jQuery gh-1709)

                          uniqueCache = outerCache[node.uniqueID] || (outerCache[node.uniqueID] = {});
                          uniqueCache[type] = [dirruns, diff];
                        }

                        if (node === elem) {
                          break;
                        }
                      }
                    }
                  }
                } // Incorporate the offset, then check against cycle size


                diff -= last;
                return diff === first || diff % first === 0 && diff / first >= 0;
              }
            };
          },
          "PSEUDO": function PSEUDO(pseudo, argument) {
            // pseudo-class names are case-insensitive
            // http://www.w3.org/TR/selectors/#pseudo-classes
            // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
            // Remember that setFilters inherits from pseudos
            var args,
                fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo); // The user may use createPseudo to indicate that
            // arguments are needed to create the filter function
            // just as Sizzle does

            if (fn[expando]) {
              return fn(argument);
            } // But maintain support for old signatures


            if (fn.length > 1) {
              args = [pseudo, pseudo, "", argument];
              return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {
                var idx,
                    matched = fn(seed, argument),
                    i = matched.length;

                while (i--) {
                  idx = indexOf(seed, matched[i]);
                  seed[idx] = !(matches[idx] = matched[i]);
                }
              }) : function (elem) {
                return fn(elem, 0, args);
              };
            }

            return fn;
          }
        },
        pseudos: {
          // Potentially complex pseudos
          "not": markFunction(function (selector) {
            // Trim the selector passed to compile
            // to avoid treating leading and trailing
            // spaces as combinators
            var input = [],
                results = [],
                matcher = compile(selector.replace(rtrim, "$1"));
            return matcher[expando] ? markFunction(function (seed, matches, _context, xml) {
              var elem,
                  unmatched = matcher(seed, null, xml, []),
                  i = seed.length; // Match elements unmatched by `matcher`

              while (i--) {
                if (elem = unmatched[i]) {
                  seed[i] = !(matches[i] = elem);
                }
              }
            }) : function (elem, _context, xml) {
              input[0] = elem;
              matcher(input, null, xml, results); // Don't keep the element (issue #299)

              input[0] = null;
              return !results.pop();
            };
          }),
          "has": markFunction(function (selector) {
            return function (elem) {
              return Sizzle(selector, elem).length > 0;
            };
          }),
          "contains": markFunction(function (text) {
            text = text.replace(runescape, funescape);
            return function (elem) {
              return (elem.textContent || getText(elem)).indexOf(text) > -1;
            };
          }),
          // "Whether an element is represented by a :lang() selector
          // is based solely on the element's language value
          // being equal to the identifier C,
          // or beginning with the identifier C immediately followed by "-".
          // The matching of C against the element's language value is performed case-insensitively.
          // The identifier C does not have to be a valid language name."
          // http://www.w3.org/TR/selectors/#lang-pseudo
          "lang": markFunction(function (lang) {
            // lang value must be a valid identifier
            if (!ridentifier.test(lang || "")) {
              Sizzle.error("unsupported lang: " + lang);
            }

            lang = lang.replace(runescape, funescape).toLowerCase();
            return function (elem) {
              var elemLang;

              do {
                if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang")) {
                  elemLang = elemLang.toLowerCase();
                  return elemLang === lang || elemLang.indexOf(lang + "-") === 0;
                }
              } while ((elem = elem.parentNode) && elem.nodeType === 1);

              return false;
            };
          }),
          // Miscellaneous
          "target": function target(elem) {
            var hash = window.location && window.location.hash;
            return hash && hash.slice(1) === elem.id;
          },
          "root": function root(elem) {
            return elem === docElem;
          },
          "focus": function focus(elem) {
            return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
          },
          // Boolean properties
          "enabled": createDisabledPseudo(false),
          "disabled": createDisabledPseudo(true),
          "checked": function checked(elem) {
            // In CSS3, :checked should return both checked and selected elements
            // http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
            var nodeName = elem.nodeName.toLowerCase();
            return nodeName === "input" && !!elem.checked || nodeName === "option" && !!elem.selected;
          },
          "selected": function selected(elem) {
            // Accessing this property makes selected-by-default
            // options in Safari work properly
            if (elem.parentNode) {
              // eslint-disable-next-line no-unused-expressions
              elem.parentNode.selectedIndex;
            }

            return elem.selected === true;
          },
          // Contents
          "empty": function empty(elem) {
            // http://www.w3.org/TR/selectors/#empty-pseudo
            // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
            //   but not by others (comment: 8; processing instruction: 7; etc.)
            // nodeType < 6 works because attributes (2) do not appear as children
            for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
              if (elem.nodeType < 6) {
                return false;
              }
            }

            return true;
          },
          "parent": function parent(elem) {
            return !Expr.pseudos["empty"](elem);
          },
          // Element/input types
          "header": function header(elem) {
            return rheader.test(elem.nodeName);
          },
          "input": function input(elem) {
            return rinputs.test(elem.nodeName);
          },
          "button": function button(elem) {
            var name = elem.nodeName.toLowerCase();
            return name === "input" && elem.type === "button" || name === "button";
          },
          "text": function text(elem) {
            var attr;
            return elem.nodeName.toLowerCase() === "input" && elem.type === "text" && ( // Support: IE<8
            // New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
            (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text");
          },
          // Position-in-collection
          "first": createPositionalPseudo(function () {
            return [0];
          }),
          "last": createPositionalPseudo(function (_matchIndexes, length) {
            return [length - 1];
          }),
          "eq": createPositionalPseudo(function (_matchIndexes, length, argument) {
            return [argument < 0 ? argument + length : argument];
          }),
          "even": createPositionalPseudo(function (matchIndexes, length) {
            var i = 0;

            for (; i < length; i += 2) {
              matchIndexes.push(i);
            }

            return matchIndexes;
          }),
          "odd": createPositionalPseudo(function (matchIndexes, length) {
            var i = 1;

            for (; i < length; i += 2) {
              matchIndexes.push(i);
            }

            return matchIndexes;
          }),
          "lt": createPositionalPseudo(function (matchIndexes, length, argument) {
            var i = argument < 0 ? argument + length : argument > length ? length : argument;

            for (; --i >= 0;) {
              matchIndexes.push(i);
            }

            return matchIndexes;
          }),
          "gt": createPositionalPseudo(function (matchIndexes, length, argument) {
            var i = argument < 0 ? argument + length : argument;

            for (; ++i < length;) {
              matchIndexes.push(i);
            }

            return matchIndexes;
          })
        }
      };
      Expr.pseudos["nth"] = Expr.pseudos["eq"]; // Add button/input type pseudos

      for (i in {
        radio: true,
        checkbox: true,
        file: true,
        password: true,
        image: true
      }) {
        Expr.pseudos[i] = createInputPseudo(i);
      }

      for (i in {
        submit: true,
        reset: true
      }) {
        Expr.pseudos[i] = createButtonPseudo(i);
      } // Easy API for creating new setFilters


      function setFilters() {}

      setFilters.prototype = Expr.filters = Expr.pseudos;
      Expr.setFilters = new setFilters();

      tokenize = Sizzle.tokenize = function (selector, parseOnly) {
        var matched,
            match,
            tokens,
            type,
            soFar,
            groups,
            preFilters,
            cached = tokenCache[selector + " "];

        if (cached) {
          return parseOnly ? 0 : cached.slice(0);
        }

        soFar = selector;
        groups = [];
        preFilters = Expr.preFilter;

        while (soFar) {
          // Comma and first run
          if (!matched || (match = rcomma.exec(soFar))) {
            if (match) {
              // Don't consume trailing commas as valid
              soFar = soFar.slice(match[0].length) || soFar;
            }

            groups.push(tokens = []);
          }

          matched = false; // Combinators

          if (match = rcombinators.exec(soFar)) {
            matched = match.shift();
            tokens.push({
              value: matched,
              // Cast descendant combinators to space
              type: match[0].replace(rtrim, " ")
            });
            soFar = soFar.slice(matched.length);
          } // Filters


          for (type in Expr.filter) {
            if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {
              matched = match.shift();
              tokens.push({
                value: matched,
                type: type,
                matches: match
              });
              soFar = soFar.slice(matched.length);
            }
          }

          if (!matched) {
            break;
          }
        } // Return the length of the invalid excess
        // if we're just parsing
        // Otherwise, throw an error or return tokens


        return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : // Cache the tokens
        tokenCache(selector, groups).slice(0);
      };

      function toSelector(tokens) {
        var i = 0,
            len = tokens.length,
            selector = "";

        for (; i < len; i++) {
          selector += tokens[i].value;
        }

        return selector;
      }

      function addCombinator(matcher, combinator, base) {
        var dir = combinator.dir,
            skip = combinator.next,
            key = skip || dir,
            checkNonElements = base && key === "parentNode",
            doneName = done++;
        return combinator.first ? // Check against closest ancestor/preceding element
        function (elem, context, xml) {
          while (elem = elem[dir]) {
            if (elem.nodeType === 1 || checkNonElements) {
              return matcher(elem, context, xml);
            }
          }

          return false;
        } : // Check against all ancestor/preceding elements
        function (elem, context, xml) {
          var oldCache,
              uniqueCache,
              outerCache,
              newCache = [dirruns, doneName]; // We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching

          if (xml) {
            while (elem = elem[dir]) {
              if (elem.nodeType === 1 || checkNonElements) {
                if (matcher(elem, context, xml)) {
                  return true;
                }
              }
            }
          } else {
            while (elem = elem[dir]) {
              if (elem.nodeType === 1 || checkNonElements) {
                outerCache = elem[expando] || (elem[expando] = {}); // Support: IE <9 only
                // Defend against cloned attroperties (jQuery gh-1709)

                uniqueCache = outerCache[elem.uniqueID] || (outerCache[elem.uniqueID] = {});

                if (skip && skip === elem.nodeName.toLowerCase()) {
                  elem = elem[dir] || elem;
                } else if ((oldCache = uniqueCache[key]) && oldCache[0] === dirruns && oldCache[1] === doneName) {
                  // Assign to newCache so results back-propagate to previous elements
                  return newCache[2] = oldCache[2];
                } else {
                  // Reuse newcache so results back-propagate to previous elements
                  uniqueCache[key] = newCache; // A match means we're done; a fail means we have to keep checking

                  if (newCache[2] = matcher(elem, context, xml)) {
                    return true;
                  }
                }
              }
            }
          }

          return false;
        };
      }

      function elementMatcher(matchers) {
        return matchers.length > 1 ? function (elem, context, xml) {
          var i = matchers.length;

          while (i--) {
            if (!matchers[i](elem, context, xml)) {
              return false;
            }
          }

          return true;
        } : matchers[0];
      }

      function multipleContexts(selector, contexts, results) {
        var i = 0,
            len = contexts.length;

        for (; i < len; i++) {
          Sizzle(selector, contexts[i], results);
        }

        return results;
      }

      function condense(unmatched, map, filter, context, xml) {
        var elem,
            newUnmatched = [],
            i = 0,
            len = unmatched.length,
            mapped = map != null;

        for (; i < len; i++) {
          if (elem = unmatched[i]) {
            if (!filter || filter(elem, context, xml)) {
              newUnmatched.push(elem);

              if (mapped) {
                map.push(i);
              }
            }
          }
        }

        return newUnmatched;
      }

      function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
        if (postFilter && !postFilter[expando]) {
          postFilter = setMatcher(postFilter);
        }

        if (postFinder && !postFinder[expando]) {
          postFinder = setMatcher(postFinder, postSelector);
        }

        return markFunction(function (seed, results, context, xml) {
          var temp,
              i,
              elem,
              preMap = [],
              postMap = [],
              preexisting = results.length,
              // Get initial elements from seed or context
          elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []),
              // Prefilter to get matcher input, preserving a map for seed-results synchronization
          matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems,
              matcherOut = matcher ? // If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
          postFinder || (seed ? preFilter : preexisting || postFilter) ? // ...intermediate processing is necessary
          [] : // ...otherwise use results directly
          results : matcherIn; // Find primary matches

          if (matcher) {
            matcher(matcherIn, matcherOut, context, xml);
          } // Apply postFilter


          if (postFilter) {
            temp = condense(matcherOut, postMap);
            postFilter(temp, [], context, xml); // Un-match failing elements by moving them back to matcherIn

            i = temp.length;

            while (i--) {
              if (elem = temp[i]) {
                matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
              }
            }
          }

          if (seed) {
            if (postFinder || preFilter) {
              if (postFinder) {
                // Get the final matcherOut by condensing this intermediate into postFinder contexts
                temp = [];
                i = matcherOut.length;

                while (i--) {
                  if (elem = matcherOut[i]) {
                    // Restore matcherIn since elem is not yet a final match
                    temp.push(matcherIn[i] = elem);
                  }
                }

                postFinder(null, matcherOut = [], temp, xml);
              } // Move matched elements from seed to results to keep them synchronized


              i = matcherOut.length;

              while (i--) {
                if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {
                  seed[temp] = !(results[temp] = elem);
                }
              }
            } // Add elements to results, through postFinder if defined

          } else {
            matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);

            if (postFinder) {
              postFinder(null, results, matcherOut, xml);
            } else {
              push.apply(results, matcherOut);
            }
          }
        });
      }

      function matcherFromTokens(tokens) {
        var checkContext,
            matcher,
            j,
            len = tokens.length,
            leadingRelative = Expr.relative[tokens[0].type],
            implicitRelative = leadingRelative || Expr.relative[" "],
            i = leadingRelative ? 1 : 0,
            // The foundational matcher ensures that elements are reachable from top-level context(s)
        matchContext = addCombinator(function (elem) {
          return elem === checkContext;
        }, implicitRelative, true),
            matchAnyContext = addCombinator(function (elem) {
          return indexOf(checkContext, elem) > -1;
        }, implicitRelative, true),
            matchers = [function (elem, context, xml) {
          var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml)); // Avoid hanging onto element (issue #299)

          checkContext = null;
          return ret;
        }];

        for (; i < len; i++) {
          if (matcher = Expr.relative[tokens[i].type]) {
            matchers = [addCombinator(elementMatcher(matchers), matcher)];
          } else {
            matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches); // Return special upon seeing a positional matcher

            if (matcher[expando]) {
              // Find the next relative operator (if any) for proper handling
              j = ++i;

              for (; j < len; j++) {
                if (Expr.relative[tokens[j].type]) {
                  break;
                }
              }

              return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector( // If the preceding token was a descendant combinator, insert an implicit any-element `*`
              tokens.slice(0, i - 1).concat({
                value: tokens[i - 2].type === " " ? "*" : ""
              })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));
            }

            matchers.push(matcher);
          }
        }

        return elementMatcher(matchers);
      }

      function matcherFromGroupMatchers(elementMatchers, setMatchers) {
        var bySet = setMatchers.length > 0,
            byElement = elementMatchers.length > 0,
            superMatcher = function superMatcher(seed, context, xml, results, outermost) {
          var elem,
              j,
              matcher,
              matchedCount = 0,
              i = "0",
              unmatched = seed && [],
              setMatched = [],
              contextBackup = outermostContext,
              // We must always have either seed elements or outermost context
          elems = seed || byElement && Expr.find["TAG"]("*", outermost),
              // Use integer dirruns iff this is the outermost matcher
          dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1,
              len = elems.length;

          if (outermost) {
            // Support: IE 11+, Edge 17 - 18+
            // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
            // two documents; shallow comparisons work.
            // eslint-disable-next-line eqeqeq
            outermostContext = context == document || context || outermost;
          } // Add elements passing elementMatchers directly to results
          // Support: IE<9, Safari
          // Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id


          for (; i !== len && (elem = elems[i]) != null; i++) {
            if (byElement && elem) {
              j = 0; // Support: IE 11+, Edge 17 - 18+
              // IE/Edge sometimes throw a "Permission denied" error when strict-comparing
              // two documents; shallow comparisons work.
              // eslint-disable-next-line eqeqeq

              if (!context && elem.ownerDocument != document) {
                setDocument(elem);
                xml = !documentIsHTML;
              }

              while (matcher = elementMatchers[j++]) {
                if (matcher(elem, context || document, xml)) {
                  results.push(elem);
                  break;
                }
              }

              if (outermost) {
                dirruns = dirrunsUnique;
              }
            } // Track unmatched elements for set filters


            if (bySet) {
              // They will have gone through all possible matchers
              if (elem = !matcher && elem) {
                matchedCount--;
              } // Lengthen the array for every element, matched or not


              if (seed) {
                unmatched.push(elem);
              }
            }
          } // `i` is now the count of elements visited above, and adding it to `matchedCount`
          // makes the latter nonnegative.


          matchedCount += i; // Apply set filters to unmatched elements
          // NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
          // equals `i`), unless we didn't visit _any_ elements in the above loop because we have
          // no element matchers and no seed.
          // Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
          // case, which will result in a "00" `matchedCount` that differs from `i` but is also
          // numerically zero.

          if (bySet && i !== matchedCount) {
            j = 0;

            while (matcher = setMatchers[j++]) {
              matcher(unmatched, setMatched, context, xml);
            }

            if (seed) {
              // Reintegrate element matches to eliminate the need for sorting
              if (matchedCount > 0) {
                while (i--) {
                  if (!(unmatched[i] || setMatched[i])) {
                    setMatched[i] = pop.call(results);
                  }
                }
              } // Discard index placeholder values to get only actual matches


              setMatched = condense(setMatched);
            } // Add matches to results


            push.apply(results, setMatched); // Seedless set matches succeeding multiple successful matchers stipulate sorting

            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {
              Sizzle.uniqueSort(results);
            }
          } // Override manipulation of globals by nested matchers


          if (outermost) {
            dirruns = dirrunsUnique;
            outermostContext = contextBackup;
          }

          return unmatched;
        };

        return bySet ? markFunction(superMatcher) : superMatcher;
      }

      compile = Sizzle.compile = function (selector, match
      /* Internal Use Only */
      ) {
        var i,
            setMatchers = [],
            elementMatchers = [],
            cached = compilerCache[selector + " "];

        if (!cached) {
          // Generate a function of recursive functions that can be used to check each element
          if (!match) {
            match = tokenize(selector);
          }

          i = match.length;

          while (i--) {
            cached = matcherFromTokens(match[i]);

            if (cached[expando]) {
              setMatchers.push(cached);
            } else {
              elementMatchers.push(cached);
            }
          } // Cache the compiled function


          cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers)); // Save selector and tokenization

          cached.selector = selector;
        }

        return cached;
      };
      /**
       * A low-level selection function that works with Sizzle's compiled
       *  selector functions
       * @param {String|Function} selector A selector or a pre-compiled
       *  selector function built with Sizzle.compile
       * @param {Element} context
       * @param {Array} [results]
       * @param {Array} [seed] A set of elements to match against
       */


      select = Sizzle.select = function (selector, context, results, seed) {
        var i,
            tokens,
            token,
            type,
            find,
            compiled = typeof selector === "function" && selector,
            match = !seed && tokenize(selector = compiled.selector || selector);
        results = results || []; // Try to minimize operations if there is only one selector in the list and no seed
        // (the latter of which guarantees us context)

        if (match.length === 1) {
          // Reduce context if the leading compound selector is an ID
          tokens = match[0] = match[0].slice(0);

          if (tokens.length > 2 && (token = tokens[0]).type === "ID" && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {
            context = (Expr.find["ID"](token.matches[0].replace(runescape, funescape), context) || [])[0];

            if (!context) {
              return results; // Precompiled matchers will still verify ancestry, so step up a level
            } else if (compiled) {
              context = context.parentNode;
            }

            selector = selector.slice(tokens.shift().value.length);
          } // Fetch a seed set for right-to-left matching


          i = matchExpr["needsContext"].test(selector) ? 0 : tokens.length;

          while (i--) {
            token = tokens[i]; // Abort if we hit a combinator

            if (Expr.relative[type = token.type]) {
              break;
            }

            if (find = Expr.find[type]) {
              // Search, expanding context for leading sibling combinators
              if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {
                // If seed is empty or no tokens remain, we can return early
                tokens.splice(i, 1);
                selector = seed.length && toSelector(tokens);

                if (!selector) {
                  push.apply(results, seed);
                  return results;
                }

                break;
              }
            }
          }
        } // Compile and execute a filtering function if one is not provided
        // Provide `match` to avoid retokenization if we modified the selector above


        (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context);
        return results;
      }; // One-time assignments
      // Sort stability


      support.sortStable = expando.split("").sort(sortOrder).join("") === expando; // Support: Chrome 14-35+
      // Always assume duplicates if they aren't passed to the comparison function

      support.detectDuplicates = !!hasDuplicate; // Initialize against the default document

      setDocument(); // Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
      // Detached nodes confoundingly follow *each other*

      support.sortDetached = assert(function (el) {
        // Should return 1, but returns 4 (following)
        return el.compareDocumentPosition(document.createElement("fieldset")) & 1;
      }); // Support: IE<8
      // Prevent attribute/property "interpolation"
      // https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx

      if (!assert(function (el) {
        el.innerHTML = "<a href='#'></a>";
        return el.firstChild.getAttribute("href") === "#";
      })) {
        addHandle("type|href|height|width", function (elem, name, isXML) {
          if (!isXML) {
            return elem.getAttribute(name, name.toLowerCase() === "type" ? 1 : 2);
          }
        });
      } // Support: IE<9
      // Use defaultValue in place of getAttribute("value")


      if (!support.attributes || !assert(function (el) {
        el.innerHTML = "<input/>";
        el.firstChild.setAttribute("value", "");
        return el.firstChild.getAttribute("value") === "";
      })) {
        addHandle("value", function (elem, _name, isXML) {
          if (!isXML && elem.nodeName.toLowerCase() === "input") {
            return elem.defaultValue;
          }
        });
      } // Support: IE<9
      // Use getAttributeNode to fetch booleans when getAttribute lies


      if (!assert(function (el) {
        return el.getAttribute("disabled") == null;
      })) {
        addHandle(booleans, function (elem, name, isXML) {
          var val;

          if (!isXML) {
            return elem[name] === true ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
          }
        });
      }

      return Sizzle;
    }(window);

    jQuery.find = Sizzle;
    jQuery.expr = Sizzle.selectors; // Deprecated

    jQuery.expr[":"] = jQuery.expr.pseudos;
    jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
    jQuery.text = Sizzle.getText;
    jQuery.isXMLDoc = Sizzle.isXML;
    jQuery.contains = Sizzle.contains;
    jQuery.escapeSelector = Sizzle.escape;

    var dir = function dir(elem, _dir, until) {
      var matched = [],
          truncate = until !== undefined;

      while ((elem = elem[_dir]) && elem.nodeType !== 9) {
        if (elem.nodeType === 1) {
          if (truncate && jQuery(elem).is(until)) {
            break;
          }

          matched.push(elem);
        }
      }

      return matched;
    };

    var _siblings = function siblings(n, elem) {
      var matched = [];

      for (; n; n = n.nextSibling) {
        if (n.nodeType === 1 && n !== elem) {
          matched.push(n);
        }
      }

      return matched;
    };

    var rneedsContext = jQuery.expr.match.needsContext;

    function nodeName(elem, name) {
      return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
    }

    ;
    var rsingleTag = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i; // Implement the identical functionality for filter and not

    function winnow(elements, qualifier, not) {
      if (isFunction(qualifier)) {
        return jQuery.grep(elements, function (elem, i) {
          return !!qualifier.call(elem, i, elem) !== not;
        });
      } // Single element


      if (qualifier.nodeType) {
        return jQuery.grep(elements, function (elem) {
          return elem === qualifier !== not;
        });
      } // Arraylike of elements (jQuery, arguments, Array)


      if (typeof qualifier !== "string") {
        return jQuery.grep(elements, function (elem) {
          return indexOf.call(qualifier, elem) > -1 !== not;
        });
      } // Filtered directly for both simple and complex selectors


      return jQuery.filter(qualifier, elements, not);
    }

    jQuery.filter = function (expr, elems, not) {
      var elem = elems[0];

      if (not) {
        expr = ":not(" + expr + ")";
      }

      if (elems.length === 1 && elem.nodeType === 1) {
        return jQuery.find.matchesSelector(elem, expr) ? [elem] : [];
      }

      return jQuery.find.matches(expr, jQuery.grep(elems, function (elem) {
        return elem.nodeType === 1;
      }));
    };

    jQuery.fn.extend({
      find: function find(selector) {
        var i,
            ret,
            len = this.length,
            self = this;

        if (typeof selector !== "string") {
          return this.pushStack(jQuery(selector).filter(function () {
            for (i = 0; i < len; i++) {
              if (jQuery.contains(self[i], this)) {
                return true;
              }
            }
          }));
        }

        ret = this.pushStack([]);

        for (i = 0; i < len; i++) {
          jQuery.find(selector, self[i], ret);
        }

        return len > 1 ? jQuery.uniqueSort(ret) : ret;
      },
      filter: function filter(selector) {
        return this.pushStack(winnow(this, selector || [], false));
      },
      not: function not(selector) {
        return this.pushStack(winnow(this, selector || [], true));
      },
      is: function is(selector) {
        return !!winnow(this, // If this is a positional/relative selector, check membership in the returned set
        // so $("p:first").is("p:last") won't return true for a doc with two "p".
        typeof selector === "string" && rneedsContext.test(selector) ? jQuery(selector) : selector || [], false).length;
      }
    }); // Initialize a jQuery object
    // A central reference to the root jQuery(document)

    var rootjQuery,
        // A simple way to check for HTML strings
    // Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
    // Strict HTML recognition (#11290: must start with <)
    // Shortcut simple #id case for speed
    rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
        init = jQuery.fn.init = function (selector, context, root) {
      var match, elem; // HANDLE: $(""), $(null), $(undefined), $(false)

      if (!selector) {
        return this;
      } // Method init() accepts an alternate rootjQuery
      // so migrate can support jQuery.sub (gh-2101)


      root = root || rootjQuery; // Handle HTML strings

      if (typeof selector === "string") {
        if (selector[0] === "<" && selector[selector.length - 1] === ">" && selector.length >= 3) {
          // Assume that strings that start and end with <> are HTML and skip the regex check
          match = [null, selector, null];
        } else {
          match = rquickExpr.exec(selector);
        } // Match html or make sure no context is specified for #id


        if (match && (match[1] || !context)) {
          // HANDLE: $(html) -> $(array)
          if (match[1]) {
            context = context instanceof jQuery ? context[0] : context; // Option to run scripts is true for back-compat
            // Intentionally let the error be thrown if parseHTML is not present

            jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true)); // HANDLE: $(html, props)

            if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
              for (match in context) {
                // Properties of context are called as methods if possible
                if (isFunction(this[match])) {
                  this[match](context[match]); // ...and otherwise set as attributes
                } else {
                  this.attr(match, context[match]);
                }
              }
            }

            return this; // HANDLE: $(#id)
          } else {
            elem = document.getElementById(match[2]);

            if (elem) {
              // Inject the element directly into the jQuery object
              this[0] = elem;
              this.length = 1;
            }

            return this;
          } // HANDLE: $(expr, $(...))

        } else if (!context || context.jquery) {
          return (context || root).find(selector); // HANDLE: $(expr, context)
          // (which is just equivalent to: $(context).find(expr)
        } else {
          return this.constructor(context).find(selector);
        } // HANDLE: $(DOMElement)

      } else if (selector.nodeType) {
        this[0] = selector;
        this.length = 1;
        return this; // HANDLE: $(function)
        // Shortcut for document ready
      } else if (isFunction(selector)) {
        return root.ready !== undefined ? root.ready(selector) : // Execute immediately if ready is not present
        selector(jQuery);
      }

      return jQuery.makeArray(selector, this);
    }; // Give the init function the jQuery prototype for later instantiation


    init.prototype = jQuery.fn; // Initialize central reference

    rootjQuery = jQuery(document);
    var rparentsprev = /^(?:parents|prev(?:Until|All))/,
        // Methods guaranteed to produce a unique set when starting from a unique set
    guaranteedUnique = {
      children: true,
      contents: true,
      next: true,
      prev: true
    };
    jQuery.fn.extend({
      has: function has(target) {
        var targets = jQuery(target, this),
            l = targets.length;
        return this.filter(function () {
          var i = 0;

          for (; i < l; i++) {
            if (jQuery.contains(this, targets[i])) {
              return true;
            }
          }
        });
      },
      closest: function closest(selectors, context) {
        var cur,
            i = 0,
            l = this.length,
            matched = [],
            targets = typeof selectors !== "string" && jQuery(selectors); // Positional selectors never match, since there's no _selection_ context

        if (!rneedsContext.test(selectors)) {
          for (; i < l; i++) {
            for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {
              // Always skip document fragments
              if (cur.nodeType < 11 && (targets ? targets.index(cur) > -1 : // Don't pass non-elements to Sizzle
              cur.nodeType === 1 && jQuery.find.matchesSelector(cur, selectors))) {
                matched.push(cur);
                break;
              }
            }
          }
        }

        return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched);
      },
      // Determine the position of an element within the set
      index: function index(elem) {
        // No argument, return index in parent
        if (!elem) {
          return this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
        } // Index in selector


        if (typeof elem === "string") {
          return indexOf.call(jQuery(elem), this[0]);
        } // Locate the position of the desired element


        return indexOf.call(this, // If it receives a jQuery object, the first element is used
        elem.jquery ? elem[0] : elem);
      },
      add: function add(selector, context) {
        return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(selector, context))));
      },
      addBack: function addBack(selector) {
        return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
      }
    });

    function sibling(cur, dir) {
      while ((cur = cur[dir]) && cur.nodeType !== 1) {}

      return cur;
    }

    jQuery.each({
      parent: function parent(elem) {
        var parent = elem.parentNode;
        return parent && parent.nodeType !== 11 ? parent : null;
      },
      parents: function parents(elem) {
        return dir(elem, "parentNode");
      },
      parentsUntil: function parentsUntil(elem, _i, until) {
        return dir(elem, "parentNode", until);
      },
      next: function next(elem) {
        return sibling(elem, "nextSibling");
      },
      prev: function prev(elem) {
        return sibling(elem, "previousSibling");
      },
      nextAll: function nextAll(elem) {
        return dir(elem, "nextSibling");
      },
      prevAll: function prevAll(elem) {
        return dir(elem, "previousSibling");
      },
      nextUntil: function nextUntil(elem, _i, until) {
        return dir(elem, "nextSibling", until);
      },
      prevUntil: function prevUntil(elem, _i, until) {
        return dir(elem, "previousSibling", until);
      },
      siblings: function siblings(elem) {
        return _siblings((elem.parentNode || {}).firstChild, elem);
      },
      children: function children(elem) {
        return _siblings(elem.firstChild);
      },
      contents: function contents(elem) {
        if (elem.contentDocument != null && // Support: IE 11+
        // <object> elements with no `data` attribute has an object
        // `contentDocument` with a `null` prototype.
        getProto(elem.contentDocument)) {
          return elem.contentDocument;
        } // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
        // Treat the template element as a regular one in browsers that
        // don't support it.


        if (nodeName(elem, "template")) {
          elem = elem.content || elem;
        }

        return jQuery.merge([], elem.childNodes);
      }
    }, function (name, fn) {
      jQuery.fn[name] = function (until, selector) {
        var matched = jQuery.map(this, fn, until);

        if (name.slice(-5) !== "Until") {
          selector = until;
        }

        if (selector && typeof selector === "string") {
          matched = jQuery.filter(selector, matched);
        }

        if (this.length > 1) {
          // Remove duplicates
          if (!guaranteedUnique[name]) {
            jQuery.uniqueSort(matched);
          } // Reverse order for parents* and prev-derivatives


          if (rparentsprev.test(name)) {
            matched.reverse();
          }
        }

        return this.pushStack(matched);
      };
    });
    var rnothtmlwhite = /[^\x20\t\r\n\f]+/g; // Convert String-formatted options into Object-formatted ones

    function createOptions(options) {
      var object = {};
      jQuery.each(options.match(rnothtmlwhite) || [], function (_, flag) {
        object[flag] = true;
      });
      return object;
    }
    /*
     * Create a callback list using the following parameters:
     *
     *	options: an optional list of space-separated options that will change how
     *			the callback list behaves or a more traditional option object
     *
     * By default a callback list will act like an event callback list and can be
     * "fired" multiple times.
     *
     * Possible options:
     *
     *	once:			will ensure the callback list can only be fired once (like a Deferred)
     *
     *	memory:			will keep track of previous values and will call any callback added
     *					after the list has been fired right away with the latest "memorized"
     *					values (like a Deferred)
     *
     *	unique:			will ensure a callback can only be added once (no duplicate in the list)
     *
     *	stopOnFalse:	interrupt callings when a callback returns false
     *
     */


    jQuery.Callbacks = function (options) {
      // Convert options from String-formatted to Object-formatted if needed
      // (we check in cache first)
      options = typeof options === "string" ? createOptions(options) : jQuery.extend({}, options);

      var // Flag to know if list is currently firing
      firing,
          // Last fire value for non-forgettable lists
      memory,
          // Flag to know if list was already fired
      _fired,
          // Flag to prevent firing
      _locked,
          // Actual callback list
      list = [],
          // Queue of execution data for repeatable lists
      queue = [],
          // Index of currently firing callback (modified by add/remove as needed)
      firingIndex = -1,
          // Fire callbacks
      fire = function fire() {
        // Enforce single-firing
        _locked = _locked || options.once; // Execute callbacks for all pending executions,
        // respecting firingIndex overrides and runtime changes

        _fired = firing = true;

        for (; queue.length; firingIndex = -1) {
          memory = queue.shift();

          while (++firingIndex < list.length) {
            // Run callback and check for early termination
            if (list[firingIndex].apply(memory[0], memory[1]) === false && options.stopOnFalse) {
              // Jump to end and forget the data so .add doesn't re-fire
              firingIndex = list.length;
              memory = false;
            }
          }
        } // Forget the data if we're done with it


        if (!options.memory) {
          memory = false;
        }

        firing = false; // Clean up if we're done firing for good

        if (_locked) {
          // Keep an empty list if we have data for future add calls
          if (memory) {
            list = []; // Otherwise, this object is spent
          } else {
            list = "";
          }
        }
      },
          // Actual Callbacks object
      self = {
        // Add a callback or a collection of callbacks to the list
        add: function add() {
          if (list) {
            // If we have memory from a past run, we should fire after adding
            if (memory && !firing) {
              firingIndex = list.length - 1;
              queue.push(memory);
            }

            (function add(args) {
              jQuery.each(args, function (_, arg) {
                if (isFunction(arg)) {
                  if (!options.unique || !self.has(arg)) {
                    list.push(arg);
                  }
                } else if (arg && arg.length && toType(arg) !== "string") {
                  // Inspect recursively
                  add(arg);
                }
              });
            })(arguments);

            if (memory && !firing) {
              fire();
            }
          }

          return this;
        },
        // Remove a callback from the list
        remove: function remove() {
          jQuery.each(arguments, function (_, arg) {
            var index;

            while ((index = jQuery.inArray(arg, list, index)) > -1) {
              list.splice(index, 1); // Handle firing indexes

              if (index <= firingIndex) {
                firingIndex--;
              }
            }
          });
          return this;
        },
        // Check if a given callback is in the list.
        // If no argument is given, return whether or not list has callbacks attached.
        has: function has(fn) {
          return fn ? jQuery.inArray(fn, list) > -1 : list.length > 0;
        },
        // Remove all callbacks from the list
        empty: function empty() {
          if (list) {
            list = [];
          }

          return this;
        },
        // Disable .fire and .add
        // Abort any current/pending executions
        // Clear all callbacks and values
        disable: function disable() {
          _locked = queue = [];
          list = memory = "";
          return this;
        },
        disabled: function disabled() {
          return !list;
        },
        // Disable .fire
        // Also disable .add unless we have memory (since it would have no effect)
        // Abort any pending executions
        lock: function lock() {
          _locked = queue = [];

          if (!memory && !firing) {
            list = memory = "";
          }

          return this;
        },
        locked: function locked() {
          return !!_locked;
        },
        // Call all callbacks with the given context and arguments
        fireWith: function fireWith(context, args) {
          if (!_locked) {
            args = args || [];
            args = [context, args.slice ? args.slice() : args];
            queue.push(args);

            if (!firing) {
              fire();
            }
          }

          return this;
        },
        // Call all the callbacks with the given arguments
        fire: function fire() {
          self.fireWith(this, arguments);
          return this;
        },
        // To know if the callbacks have already been called at least once
        fired: function fired() {
          return !!_fired;
        }
      };

      return self;
    };

    function Identity(v) {
      return v;
    }

    function Thrower(ex) {
      throw ex;
    }

    function adoptValue(value, resolve, reject, noValue) {
      var method;

      try {
        // Check for promise aspect first to privilege synchronous behavior
        if (value && isFunction(method = value.promise)) {
          method.call(value).done(resolve).fail(reject); // Other thenables
        } else if (value && isFunction(method = value.then)) {
          method.call(value, resolve, reject); // Other non-thenables
        } else {
          // Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
          // * false: [ value ].slice( 0 ) => resolve( value )
          // * true: [ value ].slice( 1 ) => resolve()
          resolve.apply(undefined, [value].slice(noValue));
        } // For Promises/A+, convert exceptions into rejections
        // Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
        // Deferred#then to conditionally suppress rejection.

      } catch (value) {
        // Support: Android 4.0 only
        // Strict mode functions invoked without .call/.apply get global-object context
        reject.apply(undefined, [value]);
      }
    }

    jQuery.extend({
      Deferred: function Deferred(func) {
        var tuples = [// action, add listener, callbacks,
        // ... .then handlers, argument index, [final state]
        ["notify", "progress", jQuery.Callbacks("memory"), jQuery.Callbacks("memory"), 2], ["resolve", "done", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 1, "rejected"]],
            _state = "pending",
            _promise = {
          state: function state() {
            return _state;
          },
          always: function always() {
            deferred.done(arguments).fail(arguments);
            return this;
          },
          "catch": function _catch(fn) {
            return _promise.then(null, fn);
          },
          // Keep pipe for back-compat
          pipe: function pipe()
          /* fnDone, fnFail, fnProgress */
          {
            var fns = arguments;
            return jQuery.Deferred(function (newDefer) {
              jQuery.each(tuples, function (_i, tuple) {
                // Map tuples (progress, done, fail) to arguments (done, fail, progress)
                var fn = isFunction(fns[tuple[4]]) && fns[tuple[4]]; // deferred.progress(function() { bind to newDefer or newDefer.notify })
                // deferred.done(function() { bind to newDefer or newDefer.resolve })
                // deferred.fail(function() { bind to newDefer or newDefer.reject })

                deferred[tuple[1]](function () {
                  var returned = fn && fn.apply(this, arguments);

                  if (returned && isFunction(returned.promise)) {
                    returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);
                  } else {
                    newDefer[tuple[0] + "With"](this, fn ? [returned] : arguments);
                  }
                });
              });
              fns = null;
            }).promise();
          },
          then: function then(onFulfilled, onRejected, onProgress) {
            var maxDepth = 0;

            function resolve(depth, deferred, handler, special) {
              return function () {
                var that = this,
                    args = arguments,
                    mightThrow = function mightThrow() {
                  var returned, then; // Support: Promises/A+ section 2.3.3.3.3
                  // https://promisesaplus.com/#point-59
                  // Ignore double-resolution attempts

                  if (depth < maxDepth) {
                    return;
                  }

                  returned = handler.apply(that, args); // Support: Promises/A+ section 2.3.1
                  // https://promisesaplus.com/#point-48

                  if (returned === deferred.promise()) {
                    throw new TypeError("Thenable self-resolution");
                  } // Support: Promises/A+ sections 2.3.3.1, 3.5
                  // https://promisesaplus.com/#point-54
                  // https://promisesaplus.com/#point-75
                  // Retrieve `then` only once


                  then = returned && ( // Support: Promises/A+ section 2.3.4
                  // https://promisesaplus.com/#point-64
                  // Only check objects and functions for thenability
                  _typeof(returned) === "object" || typeof returned === "function") && returned.then; // Handle a returned thenable

                  if (isFunction(then)) {
                    // Special processors (notify) just wait for resolution
                    if (special) {
                      then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special)); // Normal processors (resolve) also hook into progress
                    } else {
                      // ...and disregard older resolution values
                      maxDepth++;
                      then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special), resolve(maxDepth, deferred, Identity, deferred.notifyWith));
                    } // Handle all other returned values

                  } else {
                    // Only substitute handlers pass on context
                    // and multiple values (non-spec behavior)
                    if (handler !== Identity) {
                      that = undefined;
                      args = [returned];
                    } // Process the value(s)
                    // Default process is resolve


                    (special || deferred.resolveWith)(that, args);
                  }
                },
                    // Only normal processors (resolve) catch and reject exceptions
                process = special ? mightThrow : function () {
                  try {
                    mightThrow();
                  } catch (e) {
                    if (jQuery.Deferred.exceptionHook) {
                      jQuery.Deferred.exceptionHook(e, process.stackTrace);
                    } // Support: Promises/A+ section 2.3.3.3.4.1
                    // https://promisesaplus.com/#point-61
                    // Ignore post-resolution exceptions


                    if (depth + 1 >= maxDepth) {
                      // Only substitute handlers pass on context
                      // and multiple values (non-spec behavior)
                      if (handler !== Thrower) {
                        that = undefined;
                        args = [e];
                      }

                      deferred.rejectWith(that, args);
                    }
                  }
                }; // Support: Promises/A+ section 2.3.3.3.1
                // https://promisesaplus.com/#point-57
                // Re-resolve promises immediately to dodge false rejection from
                // subsequent errors


                if (depth) {
                  process();
                } else {
                  // Call an optional hook to record the stack, in case of exception
                  // since it's otherwise lost when execution goes async
                  if (jQuery.Deferred.getStackHook) {
                    process.stackTrace = jQuery.Deferred.getStackHook();
                  }

                  window.setTimeout(process);
                }
              };
            }

            return jQuery.Deferred(function (newDefer) {
              // progress_handlers.add( ... )
              tuples[0][3].add(resolve(0, newDefer, isFunction(onProgress) ? onProgress : Identity, newDefer.notifyWith)); // fulfilled_handlers.add( ... )

              tuples[1][3].add(resolve(0, newDefer, isFunction(onFulfilled) ? onFulfilled : Identity)); // rejected_handlers.add( ... )

              tuples[2][3].add(resolve(0, newDefer, isFunction(onRejected) ? onRejected : Thrower));
            }).promise();
          },
          // Get a promise for this deferred
          // If obj is provided, the promise aspect is added to the object
          promise: function promise(obj) {
            return obj != null ? jQuery.extend(obj, _promise) : _promise;
          }
        },
            deferred = {}; // Add list-specific methods

        jQuery.each(tuples, function (i, tuple) {
          var list = tuple[2],
              stateString = tuple[5]; // promise.progress = list.add
          // promise.done = list.add
          // promise.fail = list.add

          _promise[tuple[1]] = list.add; // Handle state

          if (stateString) {
            list.add(function () {
              // state = "resolved" (i.e., fulfilled)
              // state = "rejected"
              _state = stateString;
            }, // rejected_callbacks.disable
            // fulfilled_callbacks.disable
            tuples[3 - i][2].disable, // rejected_handlers.disable
            // fulfilled_handlers.disable
            tuples[3 - i][3].disable, // progress_callbacks.lock
            tuples[0][2].lock, // progress_handlers.lock
            tuples[0][3].lock);
          } // progress_handlers.fire
          // fulfilled_handlers.fire
          // rejected_handlers.fire


          list.add(tuple[3].fire); // deferred.notify = function() { deferred.notifyWith(...) }
          // deferred.resolve = function() { deferred.resolveWith(...) }
          // deferred.reject = function() { deferred.rejectWith(...) }

          deferred[tuple[0]] = function () {
            deferred[tuple[0] + "With"](this === deferred ? undefined : this, arguments);
            return this;
          }; // deferred.notifyWith = list.fireWith
          // deferred.resolveWith = list.fireWith
          // deferred.rejectWith = list.fireWith


          deferred[tuple[0] + "With"] = list.fireWith;
        }); // Make the deferred a promise

        _promise.promise(deferred); // Call given func if any


        if (func) {
          func.call(deferred, deferred);
        } // All done!


        return deferred;
      },
      // Deferred helper
      when: function when(singleValue) {
        var // count of uncompleted subordinates
        remaining = arguments.length,
            // count of unprocessed arguments
        i = remaining,
            // subordinate fulfillment data
        resolveContexts = Array(i),
            resolveValues = _slice.call(arguments),
            // the master Deferred
        master = jQuery.Deferred(),
            // subordinate callback factory
        updateFunc = function updateFunc(i) {
          return function (value) {
            resolveContexts[i] = this;
            resolveValues[i] = arguments.length > 1 ? _slice.call(arguments) : value;

            if (! --remaining) {
              master.resolveWith(resolveContexts, resolveValues);
            }
          };
        }; // Single- and empty arguments are adopted like Promise.resolve


        if (remaining <= 1) {
          adoptValue(singleValue, master.done(updateFunc(i)).resolve, master.reject, !remaining); // Use .then() to unwrap secondary thenables (cf. gh-3000)

          if (master.state() === "pending" || isFunction(resolveValues[i] && resolveValues[i].then)) {
            return master.then();
          }
        } // Multiple arguments are aggregated like Promise.all array elements


        while (i--) {
          adoptValue(resolveValues[i], updateFunc(i), master.reject);
        }

        return master.promise();
      }
    }); // These usually indicate a programmer mistake during development,
    // warn about them ASAP rather than swallowing them by default.

    var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

    jQuery.Deferred.exceptionHook = function (error, stack) {
      // Support: IE 8 - 9 only
      // Console exists when dev tools are open, which can happen at any time
      if (window.console && window.console.warn && error && rerrorNames.test(error.name)) {
        window.console.warn("jQuery.Deferred exception: " + error.message, error.stack, stack);
      }
    };

    jQuery.readyException = function (error) {
      window.setTimeout(function () {
        throw error;
      });
    }; // The deferred used on DOM ready


    var readyList = jQuery.Deferred();

    jQuery.fn.ready = function (fn) {
      readyList.then(fn) // Wrap jQuery.readyException in a function so that the lookup
      // happens at the time of error handling instead of callback
      // registration.
      .catch(function (error) {
        jQuery.readyException(error);
      });
      return this;
    };

    jQuery.extend({
      // Is the DOM ready to be used? Set to true once it occurs.
      isReady: false,
      // A counter to track how many items to wait for before
      // the ready event fires. See #6781
      readyWait: 1,
      // Handle when the DOM is ready
      ready: function ready(wait) {
        // Abort if there are pending holds or we're already ready
        if (wait === true ? --jQuery.readyWait : jQuery.isReady) {
          return;
        } // Remember that the DOM is ready


        jQuery.isReady = true; // If a normal DOM Ready event fired, decrement, and wait if need be

        if (wait !== true && --jQuery.readyWait > 0) {
          return;
        } // If there are functions bound, to execute


        readyList.resolveWith(document, [jQuery]);
      }
    });
    jQuery.ready.then = readyList.then; // The ready event handler and self cleanup method

    function completed() {
      document.removeEventListener("DOMContentLoaded", completed);
      window.removeEventListener("load", completed);
      jQuery.ready();
    } // Catch cases where $(document).ready() is called
    // after the browser event has already occurred.
    // Support: IE <=9 - 10 only
    // Older IE sometimes signals "interactive" too soon


    if (document.readyState === "complete" || document.readyState !== "loading" && !document.documentElement.doScroll) {
      // Handle it asynchronously to allow scripts the opportunity to delay ready
      window.setTimeout(jQuery.ready);
    } else {
      // Use the handy event callback
      document.addEventListener("DOMContentLoaded", completed); // A fallback to window.onload, that will always work

      window.addEventListener("load", completed);
    } // Multifunctional method to get and set values of a collection
    // The value/s can optionally be executed if it's a function


    var access = function access(elems, fn, key, value, chainable, emptyGet, raw) {
      var i = 0,
          len = elems.length,
          bulk = key == null; // Sets many values

      if (toType(key) === "object") {
        chainable = true;

        for (i in key) {
          access(elems, fn, i, key[i], true, emptyGet, raw);
        } // Sets one value

      } else if (value !== undefined) {
        chainable = true;

        if (!isFunction(value)) {
          raw = true;
        }

        if (bulk) {
          // Bulk operations run against the entire set
          if (raw) {
            fn.call(elems, value);
            fn = null; // ...except when executing function values
          } else {
            bulk = fn;

            fn = function fn(elem, _key, value) {
              return bulk.call(jQuery(elem), value);
            };
          }
        }

        if (fn) {
          for (; i < len; i++) {
            fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));
          }
        }
      }

      if (chainable) {
        return elems;
      } // Gets


      if (bulk) {
        return fn.call(elems);
      }

      return len ? fn(elems[0], key) : emptyGet;
    }; // Matches dashed string for camelizing


    var rmsPrefix = /^-ms-/,
        rdashAlpha = /-([a-z])/g; // Used by camelCase as callback to replace()

    function fcamelCase(_all, letter) {
      return letter.toUpperCase();
    } // Convert dashed to camelCase; used by the css and data modules
    // Support: IE <=9 - 11, Edge 12 - 15
    // Microsoft forgot to hump their vendor prefix (#9572)


    function camelCase(string) {
      return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
    }

    var acceptData = function acceptData(owner) {
      // Accepts only:
      //  - Node
      //    - Node.ELEMENT_NODE
      //    - Node.DOCUMENT_NODE
      //  - Object
      //    - Any
      return owner.nodeType === 1 || owner.nodeType === 9 || !+owner.nodeType;
    };

    function Data() {
      this.expando = jQuery.expando + Data.uid++;
    }

    Data.uid = 1;
    Data.prototype = {
      cache: function cache(owner) {
        // Check if the owner object already has a cache
        var value = owner[this.expando]; // If not, create one

        if (!value) {
          value = {}; // We can accept data for non-element nodes in modern browsers,
          // but we should not, see #8335.
          // Always return an empty object.

          if (acceptData(owner)) {
            // If it is a node unlikely to be stringify-ed or looped over
            // use plain assignment
            if (owner.nodeType) {
              owner[this.expando] = value; // Otherwise secure it in a non-enumerable property
              // configurable must be true to allow the property to be
              // deleted when data is removed
            } else {
              Object.defineProperty(owner, this.expando, {
                value: value,
                configurable: true
              });
            }
          }
        }

        return value;
      },
      set: function set(owner, data, value) {
        var prop,
            cache = this.cache(owner); // Handle: [ owner, key, value ] args
        // Always use camelCase key (gh-2257)

        if (typeof data === "string") {
          cache[camelCase(data)] = value; // Handle: [ owner, { properties } ] args
        } else {
          // Copy the properties one-by-one to the cache object
          for (prop in data) {
            cache[camelCase(prop)] = data[prop];
          }
        }

        return cache;
      },
      get: function get(owner, key) {
        return key === undefined ? this.cache(owner) : // Always use camelCase key (gh-2257)
        owner[this.expando] && owner[this.expando][camelCase(key)];
      },
      access: function access(owner, key, value) {
        // In cases where either:
        //
        //   1. No key was specified
        //   2. A string key was specified, but no value provided
        //
        // Take the "read" path and allow the get method to determine
        // which value to return, respectively either:
        //
        //   1. The entire cache object
        //   2. The data stored at the key
        //
        if (key === undefined || key && typeof key === "string" && value === undefined) {
          return this.get(owner, key);
        } // When the key is not a string, or both a key and value
        // are specified, set or extend (existing objects) with either:
        //
        //   1. An object of properties
        //   2. A key and value
        //


        this.set(owner, key, value); // Since the "set" path can have two possible entry points
        // return the expected data based on which path was taken[*]

        return value !== undefined ? value : key;
      },
      remove: function remove(owner, key) {
        var i,
            cache = owner[this.expando];

        if (cache === undefined) {
          return;
        }

        if (key !== undefined) {
          // Support array or space separated string of keys
          if (Array.isArray(key)) {
            // If key is an array of keys...
            // We always set camelCase keys, so remove that.
            key = key.map(camelCase);
          } else {
            key = camelCase(key); // If a key with the spaces exists, use it.
            // Otherwise, create an array by matching non-whitespace

            key = key in cache ? [key] : key.match(rnothtmlwhite) || [];
          }

          i = key.length;

          while (i--) {
            delete cache[key[i]];
          }
        } // Remove the expando if there's no more data


        if (key === undefined || jQuery.isEmptyObject(cache)) {
          // Support: Chrome <=35 - 45
          // Webkit & Blink performance suffers when deleting properties
          // from DOM nodes, so set to undefined instead
          // https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
          if (owner.nodeType) {
            owner[this.expando] = undefined;
          } else {
            delete owner[this.expando];
          }
        }
      },
      hasData: function hasData(owner) {
        var cache = owner[this.expando];
        return cache !== undefined && !jQuery.isEmptyObject(cache);
      }
    };
    var dataPriv = new Data();
    var dataUser = new Data(); //	Implementation Summary
    //
    //	1. Enforce API surface and semantic compatibility with 1.9.x branch
    //	2. Improve the module's maintainability by reducing the storage
    //		paths to a single mechanism.
    //	3. Use the same single mechanism to support "private" and "user" data.
    //	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
    //	5. Avoid exposing implementation details on user objects (eg. expando properties)
    //	6. Provide a clear path for implementation upgrade to WeakMap in 2014

    var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        rmultiDash = /[A-Z]/g;

    function getData(data) {
      if (data === "true") {
        return true;
      }

      if (data === "false") {
        return false;
      }

      if (data === "null") {
        return null;
      } // Only convert to a number if it doesn't change the string


      if (data === +data + "") {
        return +data;
      }

      if (rbrace.test(data)) {
        return JSON.parse(data);
      }

      return data;
    }

    function dataAttr(elem, key, data) {
      var name; // If nothing was found internally, try to fetch any
      // data from the HTML5 data-* attribute

      if (data === undefined && elem.nodeType === 1) {
        name = "data-" + key.replace(rmultiDash, "-$&").toLowerCase();
        data = elem.getAttribute(name);

        if (typeof data === "string") {
          try {
            data = getData(data);
          } catch (e) {} // Make sure we set the data so it isn't changed later


          dataUser.set(elem, key, data);
        } else {
          data = undefined;
        }
      }

      return data;
    }

    jQuery.extend({
      hasData: function hasData(elem) {
        return dataUser.hasData(elem) || dataPriv.hasData(elem);
      },
      data: function data(elem, name, _data) {
        return dataUser.access(elem, name, _data);
      },
      removeData: function removeData(elem, name) {
        dataUser.remove(elem, name);
      },
      // TODO: Now that all calls to _data and _removeData have been replaced
      // with direct calls to dataPriv methods, these can be deprecated.
      _data: function _data(elem, name, data) {
        return dataPriv.access(elem, name, data);
      },
      _removeData: function _removeData(elem, name) {
        dataPriv.remove(elem, name);
      }
    });
    jQuery.fn.extend({
      data: function data(key, value) {
        var i,
            name,
            data,
            elem = this[0],
            attrs = elem && elem.attributes; // Gets all values

        if (key === undefined) {
          if (this.length) {
            data = dataUser.get(elem);

            if (elem.nodeType === 1 && !dataPriv.get(elem, "hasDataAttrs")) {
              i = attrs.length;

              while (i--) {
                // Support: IE 11 only
                // The attrs elements can be null (#14894)
                if (attrs[i]) {
                  name = attrs[i].name;

                  if (name.indexOf("data-") === 0) {
                    name = camelCase(name.slice(5));
                    dataAttr(elem, name, data[name]);
                  }
                }
              }

              dataPriv.set(elem, "hasDataAttrs", true);
            }
          }

          return data;
        } // Sets multiple values


        if (_typeof(key) === "object") {
          return this.each(function () {
            dataUser.set(this, key);
          });
        }

        return access(this, function (value) {
          var data; // The calling jQuery object (element matches) is not empty
          // (and therefore has an element appears at this[ 0 ]) and the
          // `value` parameter was not undefined. An empty jQuery object
          // will result in `undefined` for elem = this[ 0 ] which will
          // throw an exception if an attempt to read a data cache is made.

          if (elem && value === undefined) {
            // Attempt to get data from the cache
            // The key will always be camelCased in Data
            data = dataUser.get(elem, key);

            if (data !== undefined) {
              return data;
            } // Attempt to "discover" the data in
            // HTML5 custom data-* attrs


            data = dataAttr(elem, key);

            if (data !== undefined) {
              return data;
            } // We tried really hard, but the data doesn't exist.


            return;
          } // Set the data...


          this.each(function () {
            // We always store the camelCased key
            dataUser.set(this, key, value);
          });
        }, null, value, arguments.length > 1, null, true);
      },
      removeData: function removeData(key) {
        return this.each(function () {
          dataUser.remove(this, key);
        });
      }
    });
    jQuery.extend({
      queue: function queue(elem, type, data) {
        var queue;

        if (elem) {
          type = (type || "fx") + "queue";
          queue = dataPriv.get(elem, type); // Speed up dequeue by getting out quickly if this is just a lookup

          if (data) {
            if (!queue || Array.isArray(data)) {
              queue = dataPriv.access(elem, type, jQuery.makeArray(data));
            } else {
              queue.push(data);
            }
          }

          return queue || [];
        }
      },
      dequeue: function dequeue(elem, type) {
        type = type || "fx";

        var queue = jQuery.queue(elem, type),
            startLength = queue.length,
            fn = queue.shift(),
            hooks = jQuery._queueHooks(elem, type),
            next = function next() {
          jQuery.dequeue(elem, type);
        }; // If the fx queue is dequeued, always remove the progress sentinel


        if (fn === "inprogress") {
          fn = queue.shift();
          startLength--;
        }

        if (fn) {
          // Add a progress sentinel to prevent the fx queue from being
          // automatically dequeued
          if (type === "fx") {
            queue.unshift("inprogress");
          } // Clear up the last queue stop function


          delete hooks.stop;
          fn.call(elem, next, hooks);
        }

        if (!startLength && hooks) {
          hooks.empty.fire();
        }
      },
      // Not public - generate a queueHooks object, or return the current one
      _queueHooks: function _queueHooks(elem, type) {
        var key = type + "queueHooks";
        return dataPriv.get(elem, key) || dataPriv.access(elem, key, {
          empty: jQuery.Callbacks("once memory").add(function () {
            dataPriv.remove(elem, [type + "queue", key]);
          })
        });
      }
    });
    jQuery.fn.extend({
      queue: function queue(type, data) {
        var setter = 2;

        if (typeof type !== "string") {
          data = type;
          type = "fx";
          setter--;
        }

        if (arguments.length < setter) {
          return jQuery.queue(this[0], type);
        }

        return data === undefined ? this : this.each(function () {
          var queue = jQuery.queue(this, type, data); // Ensure a hooks for this queue

          jQuery._queueHooks(this, type);

          if (type === "fx" && queue[0] !== "inprogress") {
            jQuery.dequeue(this, type);
          }
        });
      },
      dequeue: function dequeue(type) {
        return this.each(function () {
          jQuery.dequeue(this, type);
        });
      },
      clearQueue: function clearQueue(type) {
        return this.queue(type || "fx", []);
      },
      // Get a promise resolved when queues of a certain type
      // are emptied (fx is the type by default)
      promise: function promise(type, obj) {
        var tmp,
            count = 1,
            defer = jQuery.Deferred(),
            elements = this,
            i = this.length,
            resolve = function resolve() {
          if (! --count) {
            defer.resolveWith(elements, [elements]);
          }
        };

        if (typeof type !== "string") {
          obj = type;
          type = undefined;
        }

        type = type || "fx";

        while (i--) {
          tmp = dataPriv.get(elements[i], type + "queueHooks");

          if (tmp && tmp.empty) {
            count++;
            tmp.empty.add(resolve);
          }
        }

        resolve();
        return defer.promise(obj);
      }
    });
    var pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;
    var rcssNum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i");
    var cssExpand = ["Top", "Right", "Bottom", "Left"];
    var documentElement = document.documentElement;

    var isAttached = function isAttached(elem) {
      return jQuery.contains(elem.ownerDocument, elem);
    },
        composed = {
      composed: true
    }; // Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only
    // Check attachment across shadow DOM boundaries when possible (gh-3504)
    // Support: iOS 10.0-10.2 only
    // Early iOS 10 versions support `attachShadow` but not `getRootNode`,
    // leading to errors. We need to check for `getRootNode`.


    if (documentElement.getRootNode) {
      isAttached = function isAttached(elem) {
        return jQuery.contains(elem.ownerDocument, elem) || elem.getRootNode(composed) === elem.ownerDocument;
      };
    }

    var isHiddenWithinTree = function isHiddenWithinTree(elem, el) {
      // isHiddenWithinTree might be called from jQuery#filter function;
      // in that case, element will be second argument
      elem = el || elem; // Inline style trumps all

      return elem.style.display === "none" || elem.style.display === "" && // Otherwise, check computed style
      // Support: Firefox <=43 - 45
      // Disconnected elements can have computed display: none, so first confirm that elem is
      // in the document.
      isAttached(elem) && jQuery.css(elem, "display") === "none";
    };

    function adjustCSS(elem, prop, valueParts, tween) {
      var adjusted,
          scale,
          maxIterations = 20,
          currentValue = tween ? function () {
        return tween.cur();
      } : function () {
        return jQuery.css(elem, prop, "");
      },
          initial = currentValue(),
          unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? "" : "px"),
          // Starting value computation is required for potential unit mismatches
      initialInUnit = elem.nodeType && (jQuery.cssNumber[prop] || unit !== "px" && +initial) && rcssNum.exec(jQuery.css(elem, prop));

      if (initialInUnit && initialInUnit[3] !== unit) {
        // Support: Firefox <=54
        // Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
        initial = initial / 2; // Trust units reported by jQuery.css

        unit = unit || initialInUnit[3]; // Iteratively approximate from a nonzero starting point

        initialInUnit = +initial || 1;

        while (maxIterations--) {
          // Evaluate and update our best guess (doubling guesses that zero out).
          // Finish if the scale equals or crosses 1 (making the old*new product non-positive).
          jQuery.style(elem, prop, initialInUnit + unit);

          if ((1 - scale) * (1 - (scale = currentValue() / initial || 0.5)) <= 0) {
            maxIterations = 0;
          }

          initialInUnit = initialInUnit / scale;
        }

        initialInUnit = initialInUnit * 2;
        jQuery.style(elem, prop, initialInUnit + unit); // Make sure we update the tween properties later on

        valueParts = valueParts || [];
      }

      if (valueParts) {
        initialInUnit = +initialInUnit || +initial || 0; // Apply relative offset (+=/-=) if specified

        adjusted = valueParts[1] ? initialInUnit + (valueParts[1] + 1) * valueParts[2] : +valueParts[2];

        if (tween) {
          tween.unit = unit;
          tween.start = initialInUnit;
          tween.end = adjusted;
        }
      }

      return adjusted;
    }

    var defaultDisplayMap = {};

    function getDefaultDisplay(elem) {
      var temp,
          doc = elem.ownerDocument,
          nodeName = elem.nodeName,
          display = defaultDisplayMap[nodeName];

      if (display) {
        return display;
      }

      temp = doc.body.appendChild(doc.createElement(nodeName));
      display = jQuery.css(temp, "display");
      temp.parentNode.removeChild(temp);

      if (display === "none") {
        display = "block";
      }

      defaultDisplayMap[nodeName] = display;
      return display;
    }

    function showHide(elements, show) {
      var display,
          elem,
          values = [],
          index = 0,
          length = elements.length; // Determine new display value for elements that need to change

      for (; index < length; index++) {
        elem = elements[index];

        if (!elem.style) {
          continue;
        }

        display = elem.style.display;

        if (show) {
          // Since we force visibility upon cascade-hidden elements, an immediate (and slow)
          // check is required in this first loop unless we have a nonempty display value (either
          // inline or about-to-be-restored)
          if (display === "none") {
            values[index] = dataPriv.get(elem, "display") || null;

            if (!values[index]) {
              elem.style.display = "";
            }
          }

          if (elem.style.display === "" && isHiddenWithinTree(elem)) {
            values[index] = getDefaultDisplay(elem);
          }
        } else {
          if (display !== "none") {
            values[index] = "none"; // Remember what we're overwriting

            dataPriv.set(elem, "display", display);
          }
        }
      } // Set the display of the elements in a second loop to avoid constant reflow


      for (index = 0; index < length; index++) {
        if (values[index] != null) {
          elements[index].style.display = values[index];
        }
      }

      return elements;
    }

    jQuery.fn.extend({
      show: function show() {
        return showHide(this, true);
      },
      hide: function hide() {
        return showHide(this);
      },
      toggle: function toggle(state) {
        if (typeof state === "boolean") {
          return state ? this.show() : this.hide();
        }

        return this.each(function () {
          if (isHiddenWithinTree(this)) {
            jQuery(this).show();
          } else {
            jQuery(this).hide();
          }
        });
      }
    });
    var rcheckableType = /^(?:checkbox|radio)$/i;
    var rtagName = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i;
    var rscriptType = /^$|^module$|\/(?:java|ecma)script/i;

    (function () {
      var fragment = document.createDocumentFragment(),
          div = fragment.appendChild(document.createElement("div")),
          input = document.createElement("input"); // Support: Android 4.0 - 4.3 only
      // Check state lost if the name is set (#11217)
      // Support: Windows Web Apps (WWA)
      // `name` and `type` must use .setAttribute for WWA (#14901)

      input.setAttribute("type", "radio");
      input.setAttribute("checked", "checked");
      input.setAttribute("name", "t");
      div.appendChild(input); // Support: Android <=4.1 only
      // Older WebKit doesn't clone checked state correctly in fragments

      support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked; // Support: IE <=11 only
      // Make sure textarea (and checkbox) defaultValue is properly cloned

      div.innerHTML = "<textarea>x</textarea>";
      support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue; // Support: IE <=9 only
      // IE <=9 replaces <option> tags with their contents when inserted outside of
      // the select element.

      div.innerHTML = "<option></option>";
      support.option = !!div.lastChild;
    })(); // We have to close these tags to support XHTML (#13200)


    var wrapMap = {
      // XHTML parsers do not magically insert elements in the
      // same way that tag soup parsers do. So we cannot shorten
      // this by omitting <tbody> or other required elements.
      thead: [1, "<table>", "</table>"],
      col: [2, "<table><colgroup>", "</colgroup></table>"],
      tr: [2, "<table><tbody>", "</tbody></table>"],
      td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
      _default: [0, "", ""]
    };
    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
    wrapMap.th = wrapMap.td; // Support: IE <=9 only

    if (!support.option) {
      wrapMap.optgroup = wrapMap.option = [1, "<select multiple='multiple'>", "</select>"];
    }

    function getAll(context, tag) {
      // Support: IE <=9 - 11 only
      // Use typeof to avoid zero-argument method invocation on host objects (#15151)
      var ret;

      if (typeof context.getElementsByTagName !== "undefined") {
        ret = context.getElementsByTagName(tag || "*");
      } else if (typeof context.querySelectorAll !== "undefined") {
        ret = context.querySelectorAll(tag || "*");
      } else {
        ret = [];
      }

      if (tag === undefined || tag && nodeName(context, tag)) {
        return jQuery.merge([context], ret);
      }

      return ret;
    } // Mark scripts as having already been evaluated


    function setGlobalEval(elems, refElements) {
      var i = 0,
          l = elems.length;

      for (; i < l; i++) {
        dataPriv.set(elems[i], "globalEval", !refElements || dataPriv.get(refElements[i], "globalEval"));
      }
    }

    var rhtml = /<|&#?\w+;/;

    function buildFragment(elems, context, scripts, selection, ignored) {
      var elem,
          tmp,
          tag,
          wrap,
          attached,
          j,
          fragment = context.createDocumentFragment(),
          nodes = [],
          i = 0,
          l = elems.length;

      for (; i < l; i++) {
        elem = elems[i];

        if (elem || elem === 0) {
          // Add nodes directly
          if (toType(elem) === "object") {
            // Support: Android <=4.0 only, PhantomJS 1 only
            // push.apply(_, arraylike) throws on ancient WebKit
            jQuery.merge(nodes, elem.nodeType ? [elem] : elem); // Convert non-html into a text node
          } else if (!rhtml.test(elem)) {
            nodes.push(context.createTextNode(elem)); // Convert html into DOM nodes
          } else {
            tmp = tmp || fragment.appendChild(context.createElement("div")); // Deserialize a standard representation

            tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
            wrap = wrapMap[tag] || wrapMap._default;
            tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2]; // Descend through wrappers to the right content

            j = wrap[0];

            while (j--) {
              tmp = tmp.lastChild;
            } // Support: Android <=4.0 only, PhantomJS 1 only
            // push.apply(_, arraylike) throws on ancient WebKit


            jQuery.merge(nodes, tmp.childNodes); // Remember the top-level container

            tmp = fragment.firstChild; // Ensure the created nodes are orphaned (#12392)

            tmp.textContent = "";
          }
        }
      } // Remove wrapper from fragment


      fragment.textContent = "";
      i = 0;

      while (elem = nodes[i++]) {
        // Skip elements already in the context collection (trac-4087)
        if (selection && jQuery.inArray(elem, selection) > -1) {
          if (ignored) {
            ignored.push(elem);
          }

          continue;
        }

        attached = isAttached(elem); // Append to fragment

        tmp = getAll(fragment.appendChild(elem), "script"); // Preserve script evaluation history

        if (attached) {
          setGlobalEval(tmp);
        } // Capture executables


        if (scripts) {
          j = 0;

          while (elem = tmp[j++]) {
            if (rscriptType.test(elem.type || "")) {
              scripts.push(elem);
            }
          }
        }
      }

      return fragment;
    }

    var rkeyEvent = /^key/,
        rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

    function returnTrue() {
      return true;
    }

    function returnFalse() {
      return false;
    } // Support: IE <=9 - 11+
    // focus() and blur() are asynchronous, except when they are no-op.
    // So expect focus to be synchronous when the element is already active,
    // and blur to be synchronous when the element is not already active.
    // (focus and blur are always synchronous in other supported browsers,
    // this just defines when we can count on it).


    function expectSync(elem, type) {
      return elem === safeActiveElement() === (type === "focus");
    } // Support: IE <=9 only
    // Accessing document.activeElement can throw unexpectedly
    // https://bugs.jquery.com/ticket/13393


    function safeActiveElement() {
      try {
        return document.activeElement;
      } catch (err) {}
    }

    function _on(elem, types, selector, data, fn, one) {
      var origFn, type; // Types can be a map of types/handlers

      if (_typeof(types) === "object") {
        // ( types-Object, selector, data )
        if (typeof selector !== "string") {
          // ( types-Object, data )
          data = data || selector;
          selector = undefined;
        }

        for (type in types) {
          _on(elem, type, selector, data, types[type], one);
        }

        return elem;
      }

      if (data == null && fn == null) {
        // ( types, fn )
        fn = selector;
        data = selector = undefined;
      } else if (fn == null) {
        if (typeof selector === "string") {
          // ( types, selector, fn )
          fn = data;
          data = undefined;
        } else {
          // ( types, data, fn )
          fn = data;
          data = selector;
          selector = undefined;
        }
      }

      if (fn === false) {
        fn = returnFalse;
      } else if (!fn) {
        return elem;
      }

      if (one === 1) {
        origFn = fn;

        fn = function fn(event) {
          // Can use an empty set, since event contains the info
          jQuery().off(event);
          return origFn.apply(this, arguments);
        }; // Use same guid so caller can remove using origFn


        fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);
      }

      return elem.each(function () {
        jQuery.event.add(this, types, fn, data, selector);
      });
    }
    /*
     * Helper functions for managing events -- not part of the public interface.
     * Props to Dean Edwards' addEvent library for many of the ideas.
     */


    jQuery.event = {
      global: {},
      add: function add(elem, types, handler, data, selector) {
        var handleObjIn,
            eventHandle,
            tmp,
            events,
            t,
            handleObj,
            special,
            handlers,
            type,
            namespaces,
            origType,
            elemData = dataPriv.get(elem); // Only attach events to objects that accept data

        if (!acceptData(elem)) {
          return;
        } // Caller can pass in an object of custom data in lieu of the handler


        if (handler.handler) {
          handleObjIn = handler;
          handler = handleObjIn.handler;
          selector = handleObjIn.selector;
        } // Ensure that invalid selectors throw exceptions at attach time
        // Evaluate against documentElement in case elem is a non-element node (e.g., document)


        if (selector) {
          jQuery.find.matchesSelector(documentElement, selector);
        } // Make sure that the handler has a unique ID, used to find/remove it later


        if (!handler.guid) {
          handler.guid = jQuery.guid++;
        } // Init the element's event structure and main handler, if this is the first


        if (!(events = elemData.events)) {
          events = elemData.events = Object.create(null);
        }

        if (!(eventHandle = elemData.handle)) {
          eventHandle = elemData.handle = function (e) {
            // Discard the second event of a jQuery.event.trigger() and
            // when an event is called after a page has unloaded
            return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply(elem, arguments) : undefined;
          };
        } // Handle multiple events separated by a space


        types = (types || "").match(rnothtmlwhite) || [""];
        t = types.length;

        while (t--) {
          tmp = rtypenamespace.exec(types[t]) || [];
          type = origType = tmp[1];
          namespaces = (tmp[2] || "").split(".").sort(); // There *must* be a type, no attaching namespace-only handlers

          if (!type) {
            continue;
          } // If event changes its type, use the special event handlers for the changed type


          special = jQuery.event.special[type] || {}; // If selector defined, determine special event api type, otherwise given type

          type = (selector ? special.delegateType : special.bindType) || type; // Update special based on newly reset type

          special = jQuery.event.special[type] || {}; // handleObj is passed to all event handlers

          handleObj = jQuery.extend({
            type: type,
            origType: origType,
            data: data,
            handler: handler,
            guid: handler.guid,
            selector: selector,
            needsContext: selector && jQuery.expr.match.needsContext.test(selector),
            namespace: namespaces.join(".")
          }, handleObjIn); // Init the event handler queue if we're the first

          if (!(handlers = events[type])) {
            handlers = events[type] = [];
            handlers.delegateCount = 0; // Only use addEventListener if the special events handler returns false

            if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {
              if (elem.addEventListener) {
                elem.addEventListener(type, eventHandle);
              }
            }
          }

          if (special.add) {
            special.add.call(elem, handleObj);

            if (!handleObj.handler.guid) {
              handleObj.handler.guid = handler.guid;
            }
          } // Add to the element's handler list, delegates in front


          if (selector) {
            handlers.splice(handlers.delegateCount++, 0, handleObj);
          } else {
            handlers.push(handleObj);
          } // Keep track of which events have ever been used, for event optimization


          jQuery.event.global[type] = true;
        }
      },
      // Detach an event or set of events from an element
      remove: function remove(elem, types, handler, selector, mappedTypes) {
        var j,
            origCount,
            tmp,
            events,
            t,
            handleObj,
            special,
            handlers,
            type,
            namespaces,
            origType,
            elemData = dataPriv.hasData(elem) && dataPriv.get(elem);

        if (!elemData || !(events = elemData.events)) {
          return;
        } // Once for each type.namespace in types; type may be omitted


        types = (types || "").match(rnothtmlwhite) || [""];
        t = types.length;

        while (t--) {
          tmp = rtypenamespace.exec(types[t]) || [];
          type = origType = tmp[1];
          namespaces = (tmp[2] || "").split(".").sort(); // Unbind all events (on this namespace, if provided) for the element

          if (!type) {
            for (type in events) {
              jQuery.event.remove(elem, type + types[t], handler, selector, true);
            }

            continue;
          }

          special = jQuery.event.special[type] || {};
          type = (selector ? special.delegateType : special.bindType) || type;
          handlers = events[type] || [];
          tmp = tmp[2] && new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)"); // Remove matching events

          origCount = j = handlers.length;

          while (j--) {
            handleObj = handlers[j];

            if ((mappedTypes || origType === handleObj.origType) && (!handler || handler.guid === handleObj.guid) && (!tmp || tmp.test(handleObj.namespace)) && (!selector || selector === handleObj.selector || selector === "**" && handleObj.selector)) {
              handlers.splice(j, 1);

              if (handleObj.selector) {
                handlers.delegateCount--;
              }

              if (special.remove) {
                special.remove.call(elem, handleObj);
              }
            }
          } // Remove generic event handler if we removed something and no more handlers exist
          // (avoids potential for endless recursion during removal of special event handlers)


          if (origCount && !handlers.length) {
            if (!special.teardown || special.teardown.call(elem, namespaces, elemData.handle) === false) {
              jQuery.removeEvent(elem, type, elemData.handle);
            }

            delete events[type];
          }
        } // Remove data and the expando if it's no longer used


        if (jQuery.isEmptyObject(events)) {
          dataPriv.remove(elem, "handle events");
        }
      },
      dispatch: function dispatch(nativeEvent) {
        var i,
            j,
            ret,
            matched,
            handleObj,
            handlerQueue,
            args = new Array(arguments.length),
            // Make a writable jQuery.Event from the native event object
        event = jQuery.event.fix(nativeEvent),
            handlers = (dataPriv.get(this, "events") || Object.create(null))[event.type] || [],
            special = jQuery.event.special[event.type] || {}; // Use the fix-ed jQuery.Event rather than the (read-only) native event

        args[0] = event;

        for (i = 1; i < arguments.length; i++) {
          args[i] = arguments[i];
        }

        event.delegateTarget = this; // Call the preDispatch hook for the mapped type, and let it bail if desired

        if (special.preDispatch && special.preDispatch.call(this, event) === false) {
          return;
        } // Determine handlers


        handlerQueue = jQuery.event.handlers.call(this, event, handlers); // Run delegates first; they may want to stop propagation beneath us

        i = 0;

        while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {
          event.currentTarget = matched.elem;
          j = 0;

          while ((handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped()) {
            // If the event is namespaced, then each handler is only invoked if it is
            // specially universal or its namespaces are a superset of the event's.
            if (!event.rnamespace || handleObj.namespace === false || event.rnamespace.test(handleObj.namespace)) {
              event.handleObj = handleObj;
              event.data = handleObj.data;
              ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args);

              if (ret !== undefined) {
                if ((event.result = ret) === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
              }
            }
          }
        } // Call the postDispatch hook for the mapped type


        if (special.postDispatch) {
          special.postDispatch.call(this, event);
        }

        return event.result;
      },
      handlers: function handlers(event, _handlers) {
        var i,
            handleObj,
            sel,
            matchedHandlers,
            matchedSelectors,
            handlerQueue = [],
            delegateCount = _handlers.delegateCount,
            cur = event.target; // Find delegate handlers

        if (delegateCount && // Support: IE <=9
        // Black-hole SVG <use> instance trees (trac-13180)
        cur.nodeType && // Support: Firefox <=42
        // Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
        // https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
        // Support: IE 11 only
        // ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
        !(event.type === "click" && event.button >= 1)) {
          for (; cur !== this; cur = cur.parentNode || this) {
            // Don't check non-elements (#13208)
            // Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
            if (cur.nodeType === 1 && !(event.type === "click" && cur.disabled === true)) {
              matchedHandlers = [];
              matchedSelectors = {};

              for (i = 0; i < delegateCount; i++) {
                handleObj = _handlers[i]; // Don't conflict with Object.prototype properties (#13203)

                sel = handleObj.selector + " ";

                if (matchedSelectors[sel] === undefined) {
                  matchedSelectors[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) > -1 : jQuery.find(sel, this, null, [cur]).length;
                }

                if (matchedSelectors[sel]) {
                  matchedHandlers.push(handleObj);
                }
              }

              if (matchedHandlers.length) {
                handlerQueue.push({
                  elem: cur,
                  handlers: matchedHandlers
                });
              }
            }
          }
        } // Add the remaining (directly-bound) handlers


        cur = this;

        if (delegateCount < _handlers.length) {
          handlerQueue.push({
            elem: cur,
            handlers: _handlers.slice(delegateCount)
          });
        }

        return handlerQueue;
      },
      addProp: function addProp(name, hook) {
        Object.defineProperty(jQuery.Event.prototype, name, {
          enumerable: true,
          configurable: true,
          get: isFunction(hook) ? function () {
            if (this.originalEvent) {
              return hook(this.originalEvent);
            }
          } : function () {
            if (this.originalEvent) {
              return this.originalEvent[name];
            }
          },
          set: function set(value) {
            Object.defineProperty(this, name, {
              enumerable: true,
              configurable: true,
              writable: true,
              value: value
            });
          }
        });
      },
      fix: function fix(originalEvent) {
        return originalEvent[jQuery.expando] ? originalEvent : new jQuery.Event(originalEvent);
      },
      special: {
        load: {
          // Prevent triggered image.load events from bubbling to window.load
          noBubble: true
        },
        click: {
          // Utilize native event to ensure correct state for checkable inputs
          setup: function setup(data) {
            // For mutual compressibility with _default, replace `this` access with a local var.
            // `|| data` is dead code meant only to preserve the variable through minification.
            var el = this || data; // Claim the first handler

            if (rcheckableType.test(el.type) && el.click && nodeName(el, "input")) {
              // dataPriv.set( el, "click", ... )
              leverageNative(el, "click", returnTrue);
            } // Return false to allow normal processing in the caller


            return false;
          },
          trigger: function trigger(data) {
            // For mutual compressibility with _default, replace `this` access with a local var.
            // `|| data` is dead code meant only to preserve the variable through minification.
            var el = this || data; // Force setup before triggering a click

            if (rcheckableType.test(el.type) && el.click && nodeName(el, "input")) {
              leverageNative(el, "click");
            } // Return non-false to allow normal event-path propagation


            return true;
          },
          // For cross-browser consistency, suppress native .click() on links
          // Also prevent it if we're currently inside a leveraged native-event stack
          _default: function _default(event) {
            var target = event.target;
            return rcheckableType.test(target.type) && target.click && nodeName(target, "input") && dataPriv.get(target, "click") || nodeName(target, "a");
          }
        },
        beforeunload: {
          postDispatch: function postDispatch(event) {
            // Support: Firefox 20+
            // Firefox doesn't alert if the returnValue field is not set.
            if (event.result !== undefined && event.originalEvent) {
              event.originalEvent.returnValue = event.result;
            }
          }
        }
      }
    }; // Ensure the presence of an event listener that handles manually-triggered
    // synthetic events by interrupting progress until reinvoked in response to
    // *native* events that it fires directly, ensuring that state changes have
    // already occurred before other listeners are invoked.

    function leverageNative(el, type, expectSync) {
      // Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add
      if (!expectSync) {
        if (dataPriv.get(el, type) === undefined) {
          jQuery.event.add(el, type, returnTrue);
        }

        return;
      } // Register the controller as a special universal handler for all event namespaces


      dataPriv.set(el, type, false);
      jQuery.event.add(el, type, {
        namespace: false,
        handler: function handler(event) {
          var notAsync,
              result,
              saved = dataPriv.get(this, type);

          if (event.isTrigger & 1 && this[type]) {
            // Interrupt processing of the outer synthetic .trigger()ed event
            // Saved data should be false in such cases, but might be a leftover capture object
            // from an async native handler (gh-4350)
            if (!saved.length) {
              // Store arguments for use when handling the inner native event
              // There will always be at least one argument (an event object), so this array
              // will not be confused with a leftover capture object.
              saved = _slice.call(arguments);
              dataPriv.set(this, type, saved); // Trigger the native event and capture its result
              // Support: IE <=9 - 11+
              // focus() and blur() are asynchronous

              notAsync = expectSync(this, type);
              this[type]();
              result = dataPriv.get(this, type);

              if (saved !== result || notAsync) {
                dataPriv.set(this, type, false);
              } else {
                result = {};
              }

              if (saved !== result) {
                // Cancel the outer synthetic event
                event.stopImmediatePropagation();
                event.preventDefault();
                return result.value;
              } // If this is an inner synthetic event for an event with a bubbling surrogate
              // (focus or blur), assume that the surrogate already propagated from triggering the
              // native event and prevent that from happening again here.
              // This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the
              // bubbling surrogate propagates *after* the non-bubbling base), but that seems
              // less bad than duplication.

            } else if ((jQuery.event.special[type] || {}).delegateType) {
              event.stopPropagation();
            } // If this is a native event triggered above, everything is now in order
            // Fire an inner synthetic event with the original arguments

          } else if (saved.length) {
            // ...and capture the result
            dataPriv.set(this, type, {
              value: jQuery.event.trigger( // Support: IE <=9 - 11+
              // Extend with the prototype to reset the above stopImmediatePropagation()
              jQuery.extend(saved[0], jQuery.Event.prototype), saved.slice(1), this)
            }); // Abort handling of the native event

            event.stopImmediatePropagation();
          }
        }
      });
    }

    jQuery.removeEvent = function (elem, type, handle) {
      // This "if" is needed for plain objects
      if (elem.removeEventListener) {
        elem.removeEventListener(type, handle);
      }
    };

    jQuery.Event = function (src, props) {
      // Allow instantiation without the 'new' keyword
      if (!(this instanceof jQuery.Event)) {
        return new jQuery.Event(src, props);
      } // Event object


      if (src && src.type) {
        this.originalEvent = src;
        this.type = src.type; // Events bubbling up the document may have been marked as prevented
        // by a handler lower down the tree; reflect the correct value.

        this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined && // Support: Android <=2.3 only
        src.returnValue === false ? returnTrue : returnFalse; // Create target properties
        // Support: Safari <=6 - 7 only
        // Target should not be a text node (#504, #13143)

        this.target = src.target && src.target.nodeType === 3 ? src.target.parentNode : src.target;
        this.currentTarget = src.currentTarget;
        this.relatedTarget = src.relatedTarget; // Event type
      } else {
        this.type = src;
      } // Put explicitly provided properties onto the event object


      if (props) {
        jQuery.extend(this, props);
      } // Create a timestamp if incoming event doesn't have one


      this.timeStamp = src && src.timeStamp || Date.now(); // Mark it as fixed

      this[jQuery.expando] = true;
    }; // jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
    // https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html


    jQuery.Event.prototype = {
      constructor: jQuery.Event,
      isDefaultPrevented: returnFalse,
      isPropagationStopped: returnFalse,
      isImmediatePropagationStopped: returnFalse,
      isSimulated: false,
      preventDefault: function preventDefault() {
        var e = this.originalEvent;
        this.isDefaultPrevented = returnTrue;

        if (e && !this.isSimulated) {
          e.preventDefault();
        }
      },
      stopPropagation: function stopPropagation() {
        var e = this.originalEvent;
        this.isPropagationStopped = returnTrue;

        if (e && !this.isSimulated) {
          e.stopPropagation();
        }
      },
      stopImmediatePropagation: function stopImmediatePropagation() {
        var e = this.originalEvent;
        this.isImmediatePropagationStopped = returnTrue;

        if (e && !this.isSimulated) {
          e.stopImmediatePropagation();
        }

        this.stopPropagation();
      }
    }; // Includes all common event props including KeyEvent and MouseEvent specific props

    jQuery.each({
      altKey: true,
      bubbles: true,
      cancelable: true,
      changedTouches: true,
      ctrlKey: true,
      detail: true,
      eventPhase: true,
      metaKey: true,
      pageX: true,
      pageY: true,
      shiftKey: true,
      view: true,
      "char": true,
      code: true,
      charCode: true,
      key: true,
      keyCode: true,
      button: true,
      buttons: true,
      clientX: true,
      clientY: true,
      offsetX: true,
      offsetY: true,
      pointerId: true,
      pointerType: true,
      screenX: true,
      screenY: true,
      targetTouches: true,
      toElement: true,
      touches: true,
      which: function which(event) {
        var button = event.button; // Add which for key events

        if (event.which == null && rkeyEvent.test(event.type)) {
          return event.charCode != null ? event.charCode : event.keyCode;
        } // Add which for click: 1 === left; 2 === middle; 3 === right


        if (!event.which && button !== undefined && rmouseEvent.test(event.type)) {
          if (button & 1) {
            return 1;
          }

          if (button & 2) {
            return 3;
          }

          if (button & 4) {
            return 2;
          }

          return 0;
        }

        return event.which;
      }
    }, jQuery.event.addProp);
    jQuery.each({
      focus: "focusin",
      blur: "focusout"
    }, function (type, delegateType) {
      jQuery.event.special[type] = {
        // Utilize native event if possible so blur/focus sequence is correct
        setup: function setup() {
          // Claim the first handler
          // dataPriv.set( this, "focus", ... )
          // dataPriv.set( this, "blur", ... )
          leverageNative(this, type, expectSync); // Return false to allow normal processing in the caller

          return false;
        },
        trigger: function trigger() {
          // Force setup before trigger
          leverageNative(this, type); // Return non-false to allow normal event-path propagation

          return true;
        },
        delegateType: delegateType
      };
    }); // Create mouseenter/leave events using mouseover/out and event-time checks
    // so that event delegation works in jQuery.
    // Do the same for pointerenter/pointerleave and pointerover/pointerout
    //
    // Support: Safari 7 only
    // Safari sends mouseenter too often; see:
    // https://bugs.chromium.org/p/chromium/issues/detail?id=470258
    // for the description of the bug (it existed in older Chrome versions as well).

    jQuery.each({
      mouseenter: "mouseover",
      mouseleave: "mouseout",
      pointerenter: "pointerover",
      pointerleave: "pointerout"
    }, function (orig, fix) {
      jQuery.event.special[orig] = {
        delegateType: fix,
        bindType: fix,
        handle: function handle(event) {
          var ret,
              target = this,
              related = event.relatedTarget,
              handleObj = event.handleObj; // For mouseenter/leave call the handler if related is outside the target.
          // NB: No relatedTarget if the mouse left/entered the browser window

          if (!related || related !== target && !jQuery.contains(target, related)) {
            event.type = handleObj.origType;
            ret = handleObj.handler.apply(this, arguments);
            event.type = fix;
          }

          return ret;
        }
      };
    });
    jQuery.fn.extend({
      on: function on(types, selector, data, fn) {
        return _on(this, types, selector, data, fn);
      },
      one: function one(types, selector, data, fn) {
        return _on(this, types, selector, data, fn, 1);
      },
      off: function off(types, selector, fn) {
        var handleObj, type;

        if (types && types.preventDefault && types.handleObj) {
          // ( event )  dispatched jQuery.Event
          handleObj = types.handleObj;
          jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler);
          return this;
        }

        if (_typeof(types) === "object") {
          // ( types-object [, selector] )
          for (type in types) {
            this.off(type, selector, types[type]);
          }

          return this;
        }

        if (selector === false || typeof selector === "function") {
          // ( types [, fn] )
          fn = selector;
          selector = undefined;
        }

        if (fn === false) {
          fn = returnFalse;
        }

        return this.each(function () {
          jQuery.event.remove(this, types, fn, selector);
        });
      }
    });
    var // Support: IE <=10 - 11, Edge 12 - 13 only
    // In IE/Edge using regex groups here causes severe slowdowns.
    // See https://connect.microsoft.com/IE/feedback/details/1736512/
    rnoInnerhtml = /<script|<style|<link/i,
        // checked="checked" or checked
    rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
        rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; // Prefer a tbody over its parent table for containing new rows

    function manipulationTarget(elem, content) {
      if (nodeName(elem, "table") && nodeName(content.nodeType !== 11 ? content : content.firstChild, "tr")) {
        return jQuery(elem).children("tbody")[0] || elem;
      }

      return elem;
    } // Replace/restore the type attribute of script elements for safe DOM manipulation


    function disableScript(elem) {
      elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
      return elem;
    }

    function restoreScript(elem) {
      if ((elem.type || "").slice(0, 5) === "true/") {
        elem.type = elem.type.slice(5);
      } else {
        elem.removeAttribute("type");
      }

      return elem;
    }

    function cloneCopyEvent(src, dest) {
      var i, l, type, pdataOld, udataOld, udataCur, events;

      if (dest.nodeType !== 1) {
        return;
      } // 1. Copy private data: events, handlers, etc.


      if (dataPriv.hasData(src)) {
        pdataOld = dataPriv.get(src);
        events = pdataOld.events;

        if (events) {
          dataPriv.remove(dest, "handle events");

          for (type in events) {
            for (i = 0, l = events[type].length; i < l; i++) {
              jQuery.event.add(dest, type, events[type][i]);
            }
          }
        }
      } // 2. Copy user data


      if (dataUser.hasData(src)) {
        udataOld = dataUser.access(src);
        udataCur = jQuery.extend({}, udataOld);
        dataUser.set(dest, udataCur);
      }
    } // Fix IE bugs, see support tests


    function fixInput(src, dest) {
      var nodeName = dest.nodeName.toLowerCase(); // Fails to persist the checked state of a cloned checkbox or radio button.

      if (nodeName === "input" && rcheckableType.test(src.type)) {
        dest.checked = src.checked; // Fails to return the selected option to the default selected state when cloning options
      } else if (nodeName === "input" || nodeName === "textarea") {
        dest.defaultValue = src.defaultValue;
      }
    }

    function domManip(collection, args, callback, ignored) {
      // Flatten any nested arrays
      args = flat(args);
      var fragment,
          first,
          scripts,
          hasScripts,
          node,
          doc,
          i = 0,
          l = collection.length,
          iNoClone = l - 1,
          value = args[0],
          valueIsFunction = isFunction(value); // We can't cloneNode fragments that contain checked, in WebKit

      if (valueIsFunction || l > 1 && typeof value === "string" && !support.checkClone && rchecked.test(value)) {
        return collection.each(function (index) {
          var self = collection.eq(index);

          if (valueIsFunction) {
            args[0] = value.call(this, index, self.html());
          }

          domManip(self, args, callback, ignored);
        });
      }

      if (l) {
        fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored);
        first = fragment.firstChild;

        if (fragment.childNodes.length === 1) {
          fragment = first;
        } // Require either new content or an interest in ignored elements to invoke the callback


        if (first || ignored) {
          scripts = jQuery.map(getAll(fragment, "script"), disableScript);
          hasScripts = scripts.length; // Use the original fragment for the last item
          // instead of the first because it can end up
          // being emptied incorrectly in certain situations (#8070).

          for (; i < l; i++) {
            node = fragment;

            if (i !== iNoClone) {
              node = jQuery.clone(node, true, true); // Keep references to cloned scripts for later restoration

              if (hasScripts) {
                // Support: Android <=4.0 only, PhantomJS 1 only
                // push.apply(_, arraylike) throws on ancient WebKit
                jQuery.merge(scripts, getAll(node, "script"));
              }
            }

            callback.call(collection[i], node, i);
          }

          if (hasScripts) {
            doc = scripts[scripts.length - 1].ownerDocument; // Reenable scripts

            jQuery.map(scripts, restoreScript); // Evaluate executable scripts on first document insertion

            for (i = 0; i < hasScripts; i++) {
              node = scripts[i];

              if (rscriptType.test(node.type || "") && !dataPriv.access(node, "globalEval") && jQuery.contains(doc, node)) {
                if (node.src && (node.type || "").toLowerCase() !== "module") {
                  // Optional AJAX dependency, but won't run scripts if not present
                  if (jQuery._evalUrl && !node.noModule) {
                    jQuery._evalUrl(node.src, {
                      nonce: node.nonce || node.getAttribute("nonce")
                    }, doc);
                  }
                } else {
                  DOMEval(node.textContent.replace(rcleanScript, ""), node, doc);
                }
              }
            }
          }
        }
      }

      return collection;
    }

    function _remove(elem, selector, keepData) {
      var node,
          nodes = selector ? jQuery.filter(selector, elem) : elem,
          i = 0;

      for (; (node = nodes[i]) != null; i++) {
        if (!keepData && node.nodeType === 1) {
          jQuery.cleanData(getAll(node));
        }

        if (node.parentNode) {
          if (keepData && isAttached(node)) {
            setGlobalEval(getAll(node, "script"));
          }

          node.parentNode.removeChild(node);
        }
      }

      return elem;
    }

    jQuery.extend({
      htmlPrefilter: function htmlPrefilter(html) {
        return html;
      },
      clone: function clone(elem, dataAndEvents, deepDataAndEvents) {
        var i,
            l,
            srcElements,
            destElements,
            clone = elem.cloneNode(true),
            inPage = isAttached(elem); // Fix IE cloning issues

        if (!support.noCloneChecked && (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {
          // We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
          destElements = getAll(clone);
          srcElements = getAll(elem);

          for (i = 0, l = srcElements.length; i < l; i++) {
            fixInput(srcElements[i], destElements[i]);
          }
        } // Copy the events from the original to the clone


        if (dataAndEvents) {
          if (deepDataAndEvents) {
            srcElements = srcElements || getAll(elem);
            destElements = destElements || getAll(clone);

            for (i = 0, l = srcElements.length; i < l; i++) {
              cloneCopyEvent(srcElements[i], destElements[i]);
            }
          } else {
            cloneCopyEvent(elem, clone);
          }
        } // Preserve script evaluation history


        destElements = getAll(clone, "script");

        if (destElements.length > 0) {
          setGlobalEval(destElements, !inPage && getAll(elem, "script"));
        } // Return the cloned set


        return clone;
      },
      cleanData: function cleanData(elems) {
        var data,
            elem,
            type,
            special = jQuery.event.special,
            i = 0;

        for (; (elem = elems[i]) !== undefined; i++) {
          if (acceptData(elem)) {
            if (data = elem[dataPriv.expando]) {
              if (data.events) {
                for (type in data.events) {
                  if (special[type]) {
                    jQuery.event.remove(elem, type); // This is a shortcut to avoid jQuery.event.remove's overhead
                  } else {
                    jQuery.removeEvent(elem, type, data.handle);
                  }
                }
              } // Support: Chrome <=35 - 45+
              // Assign undefined instead of using delete, see Data#remove


              elem[dataPriv.expando] = undefined;
            }

            if (elem[dataUser.expando]) {
              // Support: Chrome <=35 - 45+
              // Assign undefined instead of using delete, see Data#remove
              elem[dataUser.expando] = undefined;
            }
          }
        }
      }
    });
    jQuery.fn.extend({
      detach: function detach(selector) {
        return _remove(this, selector, true);
      },
      remove: function remove(selector) {
        return _remove(this, selector);
      },
      text: function text(value) {
        return access(this, function (value) {
          return value === undefined ? jQuery.text(this) : this.empty().each(function () {
            if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
              this.textContent = value;
            }
          });
        }, null, value, arguments.length);
      },
      append: function append() {
        return domManip(this, arguments, function (elem) {
          if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
            var target = manipulationTarget(this, elem);
            target.appendChild(elem);
          }
        });
      },
      prepend: function prepend() {
        return domManip(this, arguments, function (elem) {
          if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
            var target = manipulationTarget(this, elem);
            target.insertBefore(elem, target.firstChild);
          }
        });
      },
      before: function before() {
        return domManip(this, arguments, function (elem) {
          if (this.parentNode) {
            this.parentNode.insertBefore(elem, this);
          }
        });
      },
      after: function after() {
        return domManip(this, arguments, function (elem) {
          if (this.parentNode) {
            this.parentNode.insertBefore(elem, this.nextSibling);
          }
        });
      },
      empty: function empty() {
        var elem,
            i = 0;

        for (; (elem = this[i]) != null; i++) {
          if (elem.nodeType === 1) {
            // Prevent memory leaks
            jQuery.cleanData(getAll(elem, false)); // Remove any remaining nodes

            elem.textContent = "";
          }
        }

        return this;
      },
      clone: function clone(dataAndEvents, deepDataAndEvents) {
        dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
        deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
        return this.map(function () {
          return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
        });
      },
      html: function html(value) {
        return access(this, function (value) {
          var elem = this[0] || {},
              i = 0,
              l = this.length;

          if (value === undefined && elem.nodeType === 1) {
            return elem.innerHTML;
          } // See if we can take a shortcut and just use innerHTML


          if (typeof value === "string" && !rnoInnerhtml.test(value) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
            value = jQuery.htmlPrefilter(value);

            try {
              for (; i < l; i++) {
                elem = this[i] || {}; // Remove element nodes and prevent memory leaks

                if (elem.nodeType === 1) {
                  jQuery.cleanData(getAll(elem, false));
                  elem.innerHTML = value;
                }
              }

              elem = 0; // If using innerHTML throws an exception, use the fallback method
            } catch (e) {}
          }

          if (elem) {
            this.empty().append(value);
          }
        }, null, value, arguments.length);
      },
      replaceWith: function replaceWith() {
        var ignored = []; // Make the changes, replacing each non-ignored context element with the new content

        return domManip(this, arguments, function (elem) {
          var parent = this.parentNode;

          if (jQuery.inArray(this, ignored) < 0) {
            jQuery.cleanData(getAll(this));

            if (parent) {
              parent.replaceChild(elem, this);
            }
          } // Force callback invocation

        }, ignored);
      }
    });
    jQuery.each({
      appendTo: "append",
      prependTo: "prepend",
      insertBefore: "before",
      insertAfter: "after",
      replaceAll: "replaceWith"
    }, function (name, original) {
      jQuery.fn[name] = function (selector) {
        var elems,
            ret = [],
            insert = jQuery(selector),
            last = insert.length - 1,
            i = 0;

        for (; i <= last; i++) {
          elems = i === last ? this : this.clone(true);
          jQuery(insert[i])[original](elems); // Support: Android <=4.0 only, PhantomJS 1 only
          // .get() because push.apply(_, arraylike) throws on ancient WebKit

          push.apply(ret, elems.get());
        }

        return this.pushStack(ret);
      };
    });
    var rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i");

    var getStyles = function getStyles(elem) {
      // Support: IE <=11 only, Firefox <=30 (#15098, #14150)
      // IE throws on elements created in popups
      // FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
      var view = elem.ownerDocument.defaultView;

      if (!view || !view.opener) {
        view = window;
      }

      return view.getComputedStyle(elem);
    };

    var swap = function swap(elem, options, callback) {
      var ret,
          name,
          old = {}; // Remember the old values, and insert the new ones

      for (name in options) {
        old[name] = elem.style[name];
        elem.style[name] = options[name];
      }

      ret = callback.call(elem); // Revert the old values

      for (name in options) {
        elem.style[name] = old[name];
      }

      return ret;
    };

    var rboxStyle = new RegExp(cssExpand.join("|"), "i");

    (function () {
      // Executing both pixelPosition & boxSizingReliable tests require only one layout
      // so they're executed at the same time to save the second computation.
      function computeStyleTests() {
        // This is a singleton, we need to execute it only once
        if (!div) {
          return;
        }

        container.style.cssText = "position:absolute;left:-11111px;width:60px;" + "margin-top:1px;padding:0;border:0";
        div.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;" + "margin:auto;border:1px;padding:1px;" + "width:60%;top:1%";
        documentElement.appendChild(container).appendChild(div);
        var divStyle = window.getComputedStyle(div);
        pixelPositionVal = divStyle.top !== "1%"; // Support: Android 4.0 - 4.3 only, Firefox <=3 - 44

        reliableMarginLeftVal = roundPixelMeasures(divStyle.marginLeft) === 12; // Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
        // Some styles come back with percentage values, even though they shouldn't

        div.style.right = "60%";
        pixelBoxStylesVal = roundPixelMeasures(divStyle.right) === 36; // Support: IE 9 - 11 only
        // Detect misreporting of content dimensions for box-sizing:border-box elements

        boxSizingReliableVal = roundPixelMeasures(divStyle.width) === 36; // Support: IE 9 only
        // Detect overflow:scroll screwiness (gh-3699)
        // Support: Chrome <=64
        // Don't get tricked when zoom affects offsetWidth (gh-4029)

        div.style.position = "absolute";
        scrollboxSizeVal = roundPixelMeasures(div.offsetWidth / 3) === 12;
        documentElement.removeChild(container); // Nullify the div so it wouldn't be stored in the memory and
        // it will also be a sign that checks already performed

        div = null;
      }

      function roundPixelMeasures(measure) {
        return Math.round(parseFloat(measure));
      }

      var pixelPositionVal,
          boxSizingReliableVal,
          scrollboxSizeVal,
          pixelBoxStylesVal,
          reliableTrDimensionsVal,
          reliableMarginLeftVal,
          container = document.createElement("div"),
          div = document.createElement("div"); // Finish early in limited (non-browser) environments

      if (!div.style) {
        return;
      } // Support: IE <=9 - 11 only
      // Style of cloned element affects source element cloned (#8908)


      div.style.backgroundClip = "content-box";
      div.cloneNode(true).style.backgroundClip = "";
      support.clearCloneStyle = div.style.backgroundClip === "content-box";
      jQuery.extend(support, {
        boxSizingReliable: function boxSizingReliable() {
          computeStyleTests();
          return boxSizingReliableVal;
        },
        pixelBoxStyles: function pixelBoxStyles() {
          computeStyleTests();
          return pixelBoxStylesVal;
        },
        pixelPosition: function pixelPosition() {
          computeStyleTests();
          return pixelPositionVal;
        },
        reliableMarginLeft: function reliableMarginLeft() {
          computeStyleTests();
          return reliableMarginLeftVal;
        },
        scrollboxSize: function scrollboxSize() {
          computeStyleTests();
          return scrollboxSizeVal;
        },
        // Support: IE 9 - 11+, Edge 15 - 18+
        // IE/Edge misreport `getComputedStyle` of table rows with width/height
        // set in CSS while `offset*` properties report correct values.
        // Behavior in IE 9 is more subtle than in newer versions & it passes
        // some versions of this test; make sure not to make it pass there!
        reliableTrDimensions: function reliableTrDimensions() {
          var table, tr, trChild, trStyle;

          if (reliableTrDimensionsVal == null) {
            table = document.createElement("table");
            tr = document.createElement("tr");
            trChild = document.createElement("div");
            table.style.cssText = "position:absolute;left:-11111px";
            tr.style.height = "1px";
            trChild.style.height = "9px";
            documentElement.appendChild(table).appendChild(tr).appendChild(trChild);
            trStyle = window.getComputedStyle(tr);
            reliableTrDimensionsVal = parseInt(trStyle.height) > 3;
            documentElement.removeChild(table);
          }

          return reliableTrDimensionsVal;
        }
      });
    })();

    function curCSS(elem, name, computed) {
      var width,
          minWidth,
          maxWidth,
          ret,
          // Support: Firefox 51+
      // Retrieving style before computed somehow
      // fixes an issue with getting wrong values
      // on detached elements
      style = elem.style;
      computed = computed || getStyles(elem); // getPropertyValue is needed for:
      //   .css('filter') (IE 9 only, #12537)
      //   .css('--customProperty) (#3144)

      if (computed) {
        ret = computed.getPropertyValue(name) || computed[name];

        if (ret === "" && !isAttached(elem)) {
          ret = jQuery.style(elem, name);
        } // A tribute to the "awesome hack by Dean Edwards"
        // Android Browser returns percentage for some values,
        // but width seems to be reliably pixels.
        // This is against the CSSOM draft spec:
        // https://drafts.csswg.org/cssom/#resolved-values


        if (!support.pixelBoxStyles() && rnumnonpx.test(ret) && rboxStyle.test(name)) {
          // Remember the original values
          width = style.width;
          minWidth = style.minWidth;
          maxWidth = style.maxWidth; // Put in the new values to get a computed value out

          style.minWidth = style.maxWidth = style.width = ret;
          ret = computed.width; // Revert the changed values

          style.width = width;
          style.minWidth = minWidth;
          style.maxWidth = maxWidth;
        }
      }

      return ret !== undefined ? // Support: IE <=9 - 11 only
      // IE returns zIndex value as an integer.
      ret + "" : ret;
    }

    function addGetHookIf(conditionFn, hookFn) {
      // Define the hook, we'll check on the first run if it's really needed.
      return {
        get: function get() {
          if (conditionFn()) {
            // Hook not needed (or it's not possible to use it due
            // to missing dependency), remove it.
            delete this.get;
            return;
          } // Hook needed; redefine it so that the support test is not executed again.


          return (this.get = hookFn).apply(this, arguments);
        }
      };
    }

    var cssPrefixes = ["Webkit", "Moz", "ms"],
        emptyStyle = document.createElement("div").style,
        vendorProps = {}; // Return a vendor-prefixed property or undefined

    function vendorPropName(name) {
      // Check for vendor prefixed names
      var capName = name[0].toUpperCase() + name.slice(1),
          i = cssPrefixes.length;

      while (i--) {
        name = cssPrefixes[i] + capName;

        if (name in emptyStyle) {
          return name;
        }
      }
    } // Return a potentially-mapped jQuery.cssProps or vendor prefixed property


    function finalPropName(name) {
      var final = jQuery.cssProps[name] || vendorProps[name];

      if (final) {
        return final;
      }

      if (name in emptyStyle) {
        return name;
      }

      return vendorProps[name] = vendorPropName(name) || name;
    }

    var // Swappable if display is none or starts with table
    // except "table", "table-cell", or "table-caption"
    // See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
    rdisplayswap = /^(none|table(?!-c[ea]).+)/,
        rcustomProp = /^--/,
        cssShow = {
      position: "absolute",
      visibility: "hidden",
      display: "block"
    },
        cssNormalTransform = {
      letterSpacing: "0",
      fontWeight: "400"
    };

    function setPositiveNumber(_elem, value, subtract) {
      // Any relative (+/-) values have already been
      // normalized at this point
      var matches = rcssNum.exec(value);
      return matches ? // Guard against undefined "subtract", e.g., when used as in cssHooks
      Math.max(0, matches[2] - (subtract || 0)) + (matches[3] || "px") : value;
    }

    function boxModelAdjustment(elem, dimension, box, isBorderBox, styles, computedVal) {
      var i = dimension === "width" ? 1 : 0,
          extra = 0,
          delta = 0; // Adjustment may not be necessary

      if (box === (isBorderBox ? "border" : "content")) {
        return 0;
      }

      for (; i < 4; i += 2) {
        // Both box models exclude margin
        if (box === "margin") {
          delta += jQuery.css(elem, box + cssExpand[i], true, styles);
        } // If we get here with a content-box, we're seeking "padding" or "border" or "margin"


        if (!isBorderBox) {
          // Add padding
          delta += jQuery.css(elem, "padding" + cssExpand[i], true, styles); // For "border" or "margin", add border

          if (box !== "padding") {
            delta += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles); // But still keep track of it otherwise
          } else {
            extra += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
          } // If we get here with a border-box (content + padding + border), we're seeking "content" or
          // "padding" or "margin"

        } else {
          // For "content", subtract padding
          if (box === "content") {
            delta -= jQuery.css(elem, "padding" + cssExpand[i], true, styles);
          } // For "content" or "padding", subtract border


          if (box !== "margin") {
            delta -= jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
          }
        }
      } // Account for positive content-box scroll gutter when requested by providing computedVal


      if (!isBorderBox && computedVal >= 0) {
        // offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
        // Assuming integer scroll gutter, subtract the rest and round down
        delta += Math.max(0, Math.ceil(elem["offset" + dimension[0].toUpperCase() + dimension.slice(1)] - computedVal - delta - extra - 0.5 // If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter
        // Use an explicit zero to avoid NaN (gh-3964)
        )) || 0;
      }

      return delta;
    }

    function getWidthOrHeight(elem, dimension, extra) {
      // Start with computed style
      var styles = getStyles(elem),
          // To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).
      // Fake content-box until we know it's needed to know the true value.
      boxSizingNeeded = !support.boxSizingReliable() || extra,
          isBorderBox = boxSizingNeeded && jQuery.css(elem, "boxSizing", false, styles) === "border-box",
          valueIsBorderBox = isBorderBox,
          val = curCSS(elem, dimension, styles),
          offsetProp = "offset" + dimension[0].toUpperCase() + dimension.slice(1); // Support: Firefox <=54
      // Return a confounding non-pixel value or feign ignorance, as appropriate.

      if (rnumnonpx.test(val)) {
        if (!extra) {
          return val;
        }

        val = "auto";
      } // Support: IE 9 - 11 only
      // Use offsetWidth/offsetHeight for when box sizing is unreliable.
      // In those cases, the computed value can be trusted to be border-box.


      if ((!support.boxSizingReliable() && isBorderBox || // Support: IE 10 - 11+, Edge 15 - 18+
      // IE/Edge misreport `getComputedStyle` of table rows with width/height
      // set in CSS while `offset*` properties report correct values.
      // Interestingly, in some cases IE 9 doesn't suffer from this issue.
      !support.reliableTrDimensions() && nodeName(elem, "tr") || // Fall back to offsetWidth/offsetHeight when value is "auto"
      // This happens for inline elements with no explicit setting (gh-3571)
      val === "auto" || // Support: Android <=4.1 - 4.3 only
      // Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
      !parseFloat(val) && jQuery.css(elem, "display", false, styles) === "inline") && // Make sure the element is visible & connected
      elem.getClientRects().length) {
        isBorderBox = jQuery.css(elem, "boxSizing", false, styles) === "border-box"; // Where available, offsetWidth/offsetHeight approximate border box dimensions.
        // Where not available (e.g., SVG), assume unreliable box-sizing and interpret the
        // retrieved value as a content box dimension.

        valueIsBorderBox = offsetProp in elem;

        if (valueIsBorderBox) {
          val = elem[offsetProp];
        }
      } // Normalize "" and auto


      val = parseFloat(val) || 0; // Adjust for the element's box model

      return val + boxModelAdjustment(elem, dimension, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles, // Provide the current computed size to request scroll gutter calculation (gh-3589)
      val) + "px";
    }

    jQuery.extend({
      // Add in style property hooks for overriding the default
      // behavior of getting and setting a style property
      cssHooks: {
        opacity: {
          get: function get(elem, computed) {
            if (computed) {
              // We should always get a number back from opacity
              var ret = curCSS(elem, "opacity");
              return ret === "" ? "1" : ret;
            }
          }
        }
      },
      // Don't automatically add "px" to these possibly-unitless properties
      cssNumber: {
        "animationIterationCount": true,
        "columnCount": true,
        "fillOpacity": true,
        "flexGrow": true,
        "flexShrink": true,
        "fontWeight": true,
        "gridArea": true,
        "gridColumn": true,
        "gridColumnEnd": true,
        "gridColumnStart": true,
        "gridRow": true,
        "gridRowEnd": true,
        "gridRowStart": true,
        "lineHeight": true,
        "opacity": true,
        "order": true,
        "orphans": true,
        "widows": true,
        "zIndex": true,
        "zoom": true
      },
      // Add in properties whose names you wish to fix before
      // setting or getting the value
      cssProps: {},
      // Get and set the style property on a DOM Node
      style: function style(elem, name, value, extra) {
        // Don't set styles on text and comment nodes
        if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
          return;
        } // Make sure that we're working with the right name


        var ret,
            type,
            hooks,
            origName = camelCase(name),
            isCustomProp = rcustomProp.test(name),
            style = elem.style; // Make sure that we're working with the right name. We don't
        // want to query the value if it is a CSS custom property
        // since they are user-defined.

        if (!isCustomProp) {
          name = finalPropName(origName);
        } // Gets hook for the prefixed version, then unprefixed version


        hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName]; // Check if we're setting a value

        if (value !== undefined) {
          type = _typeof(value); // Convert "+=" or "-=" to relative numbers (#7345)

          if (type === "string" && (ret = rcssNum.exec(value)) && ret[1]) {
            value = adjustCSS(elem, name, ret); // Fixes bug #9237

            type = "number";
          } // Make sure that null and NaN values aren't set (#7116)


          if (value == null || value !== value) {
            return;
          } // If a number was passed in, add the unit (except for certain CSS properties)
          // The isCustomProp check can be removed in jQuery 4.0 when we only auto-append
          // "px" to a few hardcoded values.


          if (type === "number" && !isCustomProp) {
            value += ret && ret[3] || (jQuery.cssNumber[origName] ? "" : "px");
          } // background-* props affect original clone's values


          if (!support.clearCloneStyle && value === "" && name.indexOf("background") === 0) {
            style[name] = "inherit";
          } // If a hook was provided, use that value, otherwise just set the specified value


          if (!hooks || !("set" in hooks) || (value = hooks.set(elem, value, extra)) !== undefined) {
            if (isCustomProp) {
              style.setProperty(name, value);
            } else {
              style[name] = value;
            }
          }
        } else {
          // If a hook was provided get the non-computed value from there
          if (hooks && "get" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {
            return ret;
          } // Otherwise just get the value from the style object


          return style[name];
        }
      },
      css: function css(elem, name, extra, styles) {
        var val,
            num,
            hooks,
            origName = camelCase(name),
            isCustomProp = rcustomProp.test(name); // Make sure that we're working with the right name. We don't
        // want to modify the value if it is a CSS custom property
        // since they are user-defined.

        if (!isCustomProp) {
          name = finalPropName(origName);
        } // Try prefixed name followed by the unprefixed name


        hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName]; // If a hook was provided get the computed value from there

        if (hooks && "get" in hooks) {
          val = hooks.get(elem, true, extra);
        } // Otherwise, if a way to get the computed value exists, use that


        if (val === undefined) {
          val = curCSS(elem, name, styles);
        } // Convert "normal" to computed value


        if (val === "normal" && name in cssNormalTransform) {
          val = cssNormalTransform[name];
        } // Make numeric if forced or a qualifier was provided and val looks numeric


        if (extra === "" || extra) {
          num = parseFloat(val);
          return extra === true || isFinite(num) ? num || 0 : val;
        }

        return val;
      }
    });
    jQuery.each(["height", "width"], function (_i, dimension) {
      jQuery.cssHooks[dimension] = {
        get: function get(elem, computed, extra) {
          if (computed) {
            // Certain elements can have dimension info if we invisibly show them
            // but it must have a current display style that would benefit
            return rdisplayswap.test(jQuery.css(elem, "display")) && ( // Support: Safari 8+
            // Table columns in Safari have non-zero offsetWidth & zero
            // getBoundingClientRect().width unless display is changed.
            // Support: IE <=11 only
            // Running getBoundingClientRect on a disconnected node
            // in IE throws an error.
            !elem.getClientRects().length || !elem.getBoundingClientRect().width) ? swap(elem, cssShow, function () {
              return getWidthOrHeight(elem, dimension, extra);
            }) : getWidthOrHeight(elem, dimension, extra);
          }
        },
        set: function set(elem, value, extra) {
          var matches,
              styles = getStyles(elem),
              // Only read styles.position if the test has a chance to fail
          // to avoid forcing a reflow.
          scrollboxSizeBuggy = !support.scrollboxSize() && styles.position === "absolute",
              // To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)
          boxSizingNeeded = scrollboxSizeBuggy || extra,
              isBorderBox = boxSizingNeeded && jQuery.css(elem, "boxSizing", false, styles) === "border-box",
              subtract = extra ? boxModelAdjustment(elem, dimension, extra, isBorderBox, styles) : 0; // Account for unreliable border-box dimensions by comparing offset* to computed and
          // faking a content-box to get border and padding (gh-3699)

          if (isBorderBox && scrollboxSizeBuggy) {
            subtract -= Math.ceil(elem["offset" + dimension[0].toUpperCase() + dimension.slice(1)] - parseFloat(styles[dimension]) - boxModelAdjustment(elem, dimension, "border", false, styles) - 0.5);
          } // Convert to pixels if value adjustment is needed


          if (subtract && (matches = rcssNum.exec(value)) && (matches[3] || "px") !== "px") {
            elem.style[dimension] = value;
            value = jQuery.css(elem, dimension);
          }

          return setPositiveNumber(elem, value, subtract);
        }
      };
    });
    jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft, function (elem, computed) {
      if (computed) {
        return (parseFloat(curCSS(elem, "marginLeft")) || elem.getBoundingClientRect().left - swap(elem, {
          marginLeft: 0
        }, function () {
          return elem.getBoundingClientRect().left;
        })) + "px";
      }
    }); // These hooks are used by animate to expand properties

    jQuery.each({
      margin: "",
      padding: "",
      border: "Width"
    }, function (prefix, suffix) {
      jQuery.cssHooks[prefix + suffix] = {
        expand: function expand(value) {
          var i = 0,
              expanded = {},
              // Assumes a single number if not a string
          parts = typeof value === "string" ? value.split(" ") : [value];

          for (; i < 4; i++) {
            expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];
          }

          return expanded;
        }
      };

      if (prefix !== "margin") {
        jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;
      }
    });
    jQuery.fn.extend({
      css: function css(name, value) {
        return access(this, function (elem, name, value) {
          var styles,
              len,
              map = {},
              i = 0;

          if (Array.isArray(name)) {
            styles = getStyles(elem);
            len = name.length;

            for (; i < len; i++) {
              map[name[i]] = jQuery.css(elem, name[i], false, styles);
            }

            return map;
          }

          return value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name);
        }, name, value, arguments.length > 1);
      }
    });

    function Tween(elem, options, prop, end, easing) {
      return new Tween.prototype.init(elem, options, prop, end, easing);
    }

    jQuery.Tween = Tween;
    Tween.prototype = {
      constructor: Tween,
      init: function init(elem, options, prop, end, easing, unit) {
        this.elem = elem;
        this.prop = prop;
        this.easing = easing || jQuery.easing._default;
        this.options = options;
        this.start = this.now = this.cur();
        this.end = end;
        this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px");
      },
      cur: function cur() {
        var hooks = Tween.propHooks[this.prop];
        return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this);
      },
      run: function run(percent) {
        var eased,
            hooks = Tween.propHooks[this.prop];

        if (this.options.duration) {
          this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration);
        } else {
          this.pos = eased = percent;
        }

        this.now = (this.end - this.start) * eased + this.start;

        if (this.options.step) {
          this.options.step.call(this.elem, this.now, this);
        }

        if (hooks && hooks.set) {
          hooks.set(this);
        } else {
          Tween.propHooks._default.set(this);
        }

        return this;
      }
    };
    Tween.prototype.init.prototype = Tween.prototype;
    Tween.propHooks = {
      _default: {
        get: function get(tween) {
          var result; // Use a property on the element directly when it is not a DOM element,
          // or when there is no matching style property that exists.

          if (tween.elem.nodeType !== 1 || tween.elem[tween.prop] != null && tween.elem.style[tween.prop] == null) {
            return tween.elem[tween.prop];
          } // Passing an empty string as a 3rd parameter to .css will automatically
          // attempt a parseFloat and fallback to a string if the parse fails.
          // Simple values such as "10px" are parsed to Float;
          // complex values such as "rotate(1rad)" are returned as-is.


          result = jQuery.css(tween.elem, tween.prop, ""); // Empty strings, null, undefined and "auto" are converted to 0.

          return !result || result === "auto" ? 0 : result;
        },
        set: function set(tween) {
          // Use step hook for back compat.
          // Use cssHook if its there.
          // Use .style if available and use plain properties where available.
          if (jQuery.fx.step[tween.prop]) {
            jQuery.fx.step[tween.prop](tween);
          } else if (tween.elem.nodeType === 1 && (jQuery.cssHooks[tween.prop] || tween.elem.style[finalPropName(tween.prop)] != null)) {
            jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);
          } else {
            tween.elem[tween.prop] = tween.now;
          }
        }
      }
    }; // Support: IE <=9 only
    // Panic based approach to setting things on disconnected nodes

    Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
      set: function set(tween) {
        if (tween.elem.nodeType && tween.elem.parentNode) {
          tween.elem[tween.prop] = tween.now;
        }
      }
    };
    jQuery.easing = {
      linear: function linear(p) {
        return p;
      },
      swing: function swing(p) {
        return 0.5 - Math.cos(p * Math.PI) / 2;
      },
      _default: "swing"
    };
    jQuery.fx = Tween.prototype.init; // Back compat <1.8 extension point

    jQuery.fx.step = {};
    var fxNow,
        inProgress,
        rfxtypes = /^(?:toggle|show|hide)$/,
        rrun = /queueHooks$/;

    function schedule() {
      if (inProgress) {
        if (document.hidden === false && window.requestAnimationFrame) {
          window.requestAnimationFrame(schedule);
        } else {
          window.setTimeout(schedule, jQuery.fx.interval);
        }

        jQuery.fx.tick();
      }
    } // Animations created synchronously will run synchronously


    function createFxNow() {
      window.setTimeout(function () {
        fxNow = undefined;
      });
      return fxNow = Date.now();
    } // Generate parameters to create a standard animation


    function genFx(type, includeWidth) {
      var which,
          i = 0,
          attrs = {
        height: type
      }; // If we include width, step value is 1 to do all cssExpand values,
      // otherwise step value is 2 to skip over Left and Right

      includeWidth = includeWidth ? 1 : 0;

      for (; i < 4; i += 2 - includeWidth) {
        which = cssExpand[i];
        attrs["margin" + which] = attrs["padding" + which] = type;
      }

      if (includeWidth) {
        attrs.opacity = attrs.width = type;
      }

      return attrs;
    }

    function createTween(value, prop, animation) {
      var tween,
          collection = (Animation.tweeners[prop] || []).concat(Animation.tweeners["*"]),
          index = 0,
          length = collection.length;

      for (; index < length; index++) {
        if (tween = collection[index].call(animation, prop, value)) {
          // We're done with this property
          return tween;
        }
      }
    }

    function defaultPrefilter(elem, props, opts) {
      var prop,
          value,
          toggle,
          hooks,
          oldfire,
          propTween,
          restoreDisplay,
          display,
          isBox = "width" in props || "height" in props,
          anim = this,
          orig = {},
          style = elem.style,
          hidden = elem.nodeType && isHiddenWithinTree(elem),
          dataShow = dataPriv.get(elem, "fxshow"); // Queue-skipping animations hijack the fx hooks

      if (!opts.queue) {
        hooks = jQuery._queueHooks(elem, "fx");

        if (hooks.unqueued == null) {
          hooks.unqueued = 0;
          oldfire = hooks.empty.fire;

          hooks.empty.fire = function () {
            if (!hooks.unqueued) {
              oldfire();
            }
          };
        }

        hooks.unqueued++;
        anim.always(function () {
          // Ensure the complete handler is called before this completes
          anim.always(function () {
            hooks.unqueued--;

            if (!jQuery.queue(elem, "fx").length) {
              hooks.empty.fire();
            }
          });
        });
      } // Detect show/hide animations


      for (prop in props) {
        value = props[prop];

        if (rfxtypes.test(value)) {
          delete props[prop];
          toggle = toggle || value === "toggle";

          if (value === (hidden ? "hide" : "show")) {
            // Pretend to be hidden if this is a "show" and
            // there is still data from a stopped show/hide
            if (value === "show" && dataShow && dataShow[prop] !== undefined) {
              hidden = true; // Ignore all other no-op show/hide data
            } else {
              continue;
            }
          }

          orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);
        }
      } // Bail out if this is a no-op like .hide().hide()


      propTween = !jQuery.isEmptyObject(props);

      if (!propTween && jQuery.isEmptyObject(orig)) {
        return;
      } // Restrict "overflow" and "display" styles during box animations


      if (isBox && elem.nodeType === 1) {
        // Support: IE <=9 - 11, Edge 12 - 15
        // Record all 3 overflow attributes because IE does not infer the shorthand
        // from identically-valued overflowX and overflowY and Edge just mirrors
        // the overflowX value there.
        opts.overflow = [style.overflow, style.overflowX, style.overflowY]; // Identify a display type, preferring old show/hide data over the CSS cascade

        restoreDisplay = dataShow && dataShow.display;

        if (restoreDisplay == null) {
          restoreDisplay = dataPriv.get(elem, "display");
        }

        display = jQuery.css(elem, "display");

        if (display === "none") {
          if (restoreDisplay) {
            display = restoreDisplay;
          } else {
            // Get nonempty value(s) by temporarily forcing visibility
            showHide([elem], true);
            restoreDisplay = elem.style.display || restoreDisplay;
            display = jQuery.css(elem, "display");
            showHide([elem]);
          }
        } // Animate inline elements as inline-block


        if (display === "inline" || display === "inline-block" && restoreDisplay != null) {
          if (jQuery.css(elem, "float") === "none") {
            // Restore the original display value at the end of pure show/hide animations
            if (!propTween) {
              anim.done(function () {
                style.display = restoreDisplay;
              });

              if (restoreDisplay == null) {
                display = style.display;
                restoreDisplay = display === "none" ? "" : display;
              }
            }

            style.display = "inline-block";
          }
        }
      }

      if (opts.overflow) {
        style.overflow = "hidden";
        anim.always(function () {
          style.overflow = opts.overflow[0];
          style.overflowX = opts.overflow[1];
          style.overflowY = opts.overflow[2];
        });
      } // Implement show/hide animations


      propTween = false;

      for (prop in orig) {
        // General show/hide setup for this element animation
        if (!propTween) {
          if (dataShow) {
            if ("hidden" in dataShow) {
              hidden = dataShow.hidden;
            }
          } else {
            dataShow = dataPriv.access(elem, "fxshow", {
              display: restoreDisplay
            });
          } // Store hidden/visible for toggle so `.stop().toggle()` "reverses"


          if (toggle) {
            dataShow.hidden = !hidden;
          } // Show elements before animating them


          if (hidden) {
            showHide([elem], true);
          }
          /* eslint-disable no-loop-func */


          anim.done(function () {
            /* eslint-enable no-loop-func */
            // The final step of a "hide" animation is actually hiding the element
            if (!hidden) {
              showHide([elem]);
            }

            dataPriv.remove(elem, "fxshow");

            for (prop in orig) {
              jQuery.style(elem, prop, orig[prop]);
            }
          });
        } // Per-property setup


        propTween = createTween(hidden ? dataShow[prop] : 0, prop, anim);

        if (!(prop in dataShow)) {
          dataShow[prop] = propTween.start;

          if (hidden) {
            propTween.end = propTween.start;
            propTween.start = 0;
          }
        }
      }
    }

    function propFilter(props, specialEasing) {
      var index, name, easing, value, hooks; // camelCase, specialEasing and expand cssHook pass

      for (index in props) {
        name = camelCase(index);
        easing = specialEasing[name];
        value = props[index];

        if (Array.isArray(value)) {
          easing = value[1];
          value = props[index] = value[0];
        }

        if (index !== name) {
          props[name] = value;
          delete props[index];
        }

        hooks = jQuery.cssHooks[name];

        if (hooks && "expand" in hooks) {
          value = hooks.expand(value);
          delete props[name]; // Not quite $.extend, this won't overwrite existing keys.
          // Reusing 'index' because we have the correct "name"

          for (index in value) {
            if (!(index in props)) {
              props[index] = value[index];
              specialEasing[index] = easing;
            }
          }
        } else {
          specialEasing[name] = easing;
        }
      }
    }

    function Animation(elem, properties, options) {
      var result,
          stopped,
          index = 0,
          length = Animation.prefilters.length,
          deferred = jQuery.Deferred().always(function () {
        // Don't match elem in the :animated selector
        delete tick.elem;
      }),
          tick = function tick() {
        if (stopped) {
          return false;
        }

        var currentTime = fxNow || createFxNow(),
            remaining = Math.max(0, animation.startTime + animation.duration - currentTime),
            // Support: Android 2.3 only
        // Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
        temp = remaining / animation.duration || 0,
            percent = 1 - temp,
            index = 0,
            length = animation.tweens.length;

        for (; index < length; index++) {
          animation.tweens[index].run(percent);
        }

        deferred.notifyWith(elem, [animation, percent, remaining]); // If there's more to do, yield

        if (percent < 1 && length) {
          return remaining;
        } // If this was an empty animation, synthesize a final progress notification


        if (!length) {
          deferred.notifyWith(elem, [animation, 1, 0]);
        } // Resolve the animation and report its conclusion


        deferred.resolveWith(elem, [animation]);
        return false;
      },
          animation = deferred.promise({
        elem: elem,
        props: jQuery.extend({}, properties),
        opts: jQuery.extend(true, {
          specialEasing: {},
          easing: jQuery.easing._default
        }, options),
        originalProperties: properties,
        originalOptions: options,
        startTime: fxNow || createFxNow(),
        duration: options.duration,
        tweens: [],
        createTween: function createTween(prop, end) {
          var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);
          animation.tweens.push(tween);
          return tween;
        },
        stop: function stop(gotoEnd) {
          var index = 0,
              // If we are going to the end, we want to run all the tweens
          // otherwise we skip this part
          length = gotoEnd ? animation.tweens.length : 0;

          if (stopped) {
            return this;
          }

          stopped = true;

          for (; index < length; index++) {
            animation.tweens[index].run(1);
          } // Resolve when we played the last frame; otherwise, reject


          if (gotoEnd) {
            deferred.notifyWith(elem, [animation, 1, 0]);
            deferred.resolveWith(elem, [animation, gotoEnd]);
          } else {
            deferred.rejectWith(elem, [animation, gotoEnd]);
          }

          return this;
        }
      }),
          props = animation.props;

      propFilter(props, animation.opts.specialEasing);

      for (; index < length; index++) {
        result = Animation.prefilters[index].call(animation, elem, props, animation.opts);

        if (result) {
          if (isFunction(result.stop)) {
            jQuery._queueHooks(animation.elem, animation.opts.queue).stop = result.stop.bind(result);
          }

          return result;
        }
      }

      jQuery.map(props, createTween, animation);

      if (isFunction(animation.opts.start)) {
        animation.opts.start.call(elem, animation);
      } // Attach callbacks from options


      animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);
      jQuery.fx.timer(jQuery.extend(tick, {
        elem: elem,
        anim: animation,
        queue: animation.opts.queue
      }));
      return animation;
    }

    jQuery.Animation = jQuery.extend(Animation, {
      tweeners: {
        "*": [function (prop, value) {
          var tween = this.createTween(prop, value);
          adjustCSS(tween.elem, prop, rcssNum.exec(value), tween);
          return tween;
        }]
      },
      tweener: function tweener(props, callback) {
        if (isFunction(props)) {
          callback = props;
          props = ["*"];
        } else {
          props = props.match(rnothtmlwhite);
        }

        var prop,
            index = 0,
            length = props.length;

        for (; index < length; index++) {
          prop = props[index];
          Animation.tweeners[prop] = Animation.tweeners[prop] || [];
          Animation.tweeners[prop].unshift(callback);
        }
      },
      prefilters: [defaultPrefilter],
      prefilter: function prefilter(callback, prepend) {
        if (prepend) {
          Animation.prefilters.unshift(callback);
        } else {
          Animation.prefilters.push(callback);
        }
      }
    });

    jQuery.speed = function (speed, easing, fn) {
      var opt = speed && _typeof(speed) === "object" ? jQuery.extend({}, speed) : {
        complete: fn || !fn && easing || isFunction(speed) && speed,
        duration: speed,
        easing: fn && easing || easing && !isFunction(easing) && easing
      }; // Go to the end state if fx are off

      if (jQuery.fx.off) {
        opt.duration = 0;
      } else {
        if (typeof opt.duration !== "number") {
          if (opt.duration in jQuery.fx.speeds) {
            opt.duration = jQuery.fx.speeds[opt.duration];
          } else {
            opt.duration = jQuery.fx.speeds._default;
          }
        }
      } // Normalize opt.queue - true/undefined/null -> "fx"


      if (opt.queue == null || opt.queue === true) {
        opt.queue = "fx";
      } // Queueing


      opt.old = opt.complete;

      opt.complete = function () {
        if (isFunction(opt.old)) {
          opt.old.call(this);
        }

        if (opt.queue) {
          jQuery.dequeue(this, opt.queue);
        }
      };

      return opt;
    };

    jQuery.fn.extend({
      fadeTo: function fadeTo(speed, to, easing, callback) {
        // Show any hidden elements after setting opacity to 0
        return this.filter(isHiddenWithinTree).css("opacity", 0).show() // Animate to the value specified
        .end().animate({
          opacity: to
        }, speed, easing, callback);
      },
      animate: function animate(prop, speed, easing, callback) {
        var empty = jQuery.isEmptyObject(prop),
            optall = jQuery.speed(speed, easing, callback),
            doAnimation = function doAnimation() {
          // Operate on a copy of prop so per-property easing won't be lost
          var anim = Animation(this, jQuery.extend({}, prop), optall); // Empty animations, or finishing resolves immediately

          if (empty || dataPriv.get(this, "finish")) {
            anim.stop(true);
          }
        };

        doAnimation.finish = doAnimation;
        return empty || optall.queue === false ? this.each(doAnimation) : this.queue(optall.queue, doAnimation);
      },
      stop: function stop(type, clearQueue, gotoEnd) {
        var stopQueue = function stopQueue(hooks) {
          var stop = hooks.stop;
          delete hooks.stop;
          stop(gotoEnd);
        };

        if (typeof type !== "string") {
          gotoEnd = clearQueue;
          clearQueue = type;
          type = undefined;
        }

        if (clearQueue) {
          this.queue(type || "fx", []);
        }

        return this.each(function () {
          var dequeue = true,
              index = type != null && type + "queueHooks",
              timers = jQuery.timers,
              data = dataPriv.get(this);

          if (index) {
            if (data[index] && data[index].stop) {
              stopQueue(data[index]);
            }
          } else {
            for (index in data) {
              if (data[index] && data[index].stop && rrun.test(index)) {
                stopQueue(data[index]);
              }
            }
          }

          for (index = timers.length; index--;) {
            if (timers[index].elem === this && (type == null || timers[index].queue === type)) {
              timers[index].anim.stop(gotoEnd);
              dequeue = false;
              timers.splice(index, 1);
            }
          } // Start the next in the queue if the last step wasn't forced.
          // Timers currently will call their complete callbacks, which
          // will dequeue but only if they were gotoEnd.


          if (dequeue || !gotoEnd) {
            jQuery.dequeue(this, type);
          }
        });
      },
      finish: function finish(type) {
        if (type !== false) {
          type = type || "fx";
        }

        return this.each(function () {
          var index,
              data = dataPriv.get(this),
              queue = data[type + "queue"],
              hooks = data[type + "queueHooks"],
              timers = jQuery.timers,
              length = queue ? queue.length : 0; // Enable finishing flag on private data

          data.finish = true; // Empty the queue first

          jQuery.queue(this, type, []);

          if (hooks && hooks.stop) {
            hooks.stop.call(this, true);
          } // Look for any active animations, and finish them


          for (index = timers.length; index--;) {
            if (timers[index].elem === this && timers[index].queue === type) {
              timers[index].anim.stop(true);
              timers.splice(index, 1);
            }
          } // Look for any animations in the old queue and finish them


          for (index = 0; index < length; index++) {
            if (queue[index] && queue[index].finish) {
              queue[index].finish.call(this);
            }
          } // Turn off finishing flag


          delete data.finish;
        });
      }
    });
    jQuery.each(["toggle", "show", "hide"], function (_i, name) {
      var cssFn = jQuery.fn[name];

      jQuery.fn[name] = function (speed, easing, callback) {
        return speed == null || typeof speed === "boolean" ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), speed, easing, callback);
      };
    }); // Generate shortcuts for custom animations

    jQuery.each({
      slideDown: genFx("show"),
      slideUp: genFx("hide"),
      slideToggle: genFx("toggle"),
      fadeIn: {
        opacity: "show"
      },
      fadeOut: {
        opacity: "hide"
      },
      fadeToggle: {
        opacity: "toggle"
      }
    }, function (name, props) {
      jQuery.fn[name] = function (speed, easing, callback) {
        return this.animate(props, speed, easing, callback);
      };
    });
    jQuery.timers = [];

    jQuery.fx.tick = function () {
      var timer,
          i = 0,
          timers = jQuery.timers;
      fxNow = Date.now();

      for (; i < timers.length; i++) {
        timer = timers[i]; // Run the timer and safely remove it when done (allowing for external removal)

        if (!timer() && timers[i] === timer) {
          timers.splice(i--, 1);
        }
      }

      if (!timers.length) {
        jQuery.fx.stop();
      }

      fxNow = undefined;
    };

    jQuery.fx.timer = function (timer) {
      jQuery.timers.push(timer);
      jQuery.fx.start();
    };

    jQuery.fx.interval = 13;

    jQuery.fx.start = function () {
      if (inProgress) {
        return;
      }

      inProgress = true;
      schedule();
    };

    jQuery.fx.stop = function () {
      inProgress = null;
    };

    jQuery.fx.speeds = {
      slow: 600,
      fast: 200,
      // Default speed
      _default: 400
    }; // Based off of the plugin by Clint Helfers, with permission.
    // https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/

    jQuery.fn.delay = function (time, type) {
      time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
      type = type || "fx";
      return this.queue(type, function (next, hooks) {
        var timeout = window.setTimeout(next, time);

        hooks.stop = function () {
          window.clearTimeout(timeout);
        };
      });
    };

    (function () {
      var input = document.createElement("input"),
          select = document.createElement("select"),
          opt = select.appendChild(document.createElement("option"));
      input.type = "checkbox"; // Support: Android <=4.3 only
      // Default value for a checkbox should be "on"

      support.checkOn = input.value !== ""; // Support: IE <=11 only
      // Must access selectedIndex to make default options select

      support.optSelected = opt.selected; // Support: IE <=11 only
      // An input loses its value after becoming a radio

      input = document.createElement("input");
      input.value = "t";
      input.type = "radio";
      support.radioValue = input.value === "t";
    })();

    var boolHook,
        attrHandle = jQuery.expr.attrHandle;
    jQuery.fn.extend({
      attr: function attr(name, value) {
        return access(this, jQuery.attr, name, value, arguments.length > 1);
      },
      removeAttr: function removeAttr(name) {
        return this.each(function () {
          jQuery.removeAttr(this, name);
        });
      }
    });
    jQuery.extend({
      attr: function attr(elem, name, value) {
        var ret,
            hooks,
            nType = elem.nodeType; // Don't get/set attributes on text, comment and attribute nodes

        if (nType === 3 || nType === 8 || nType === 2) {
          return;
        } // Fallback to prop when attributes are not supported


        if (typeof elem.getAttribute === "undefined") {
          return jQuery.prop(elem, name, value);
        } // Attribute hooks are determined by the lowercase version
        // Grab necessary hook if one is defined


        if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
          hooks = jQuery.attrHooks[name.toLowerCase()] || (jQuery.expr.match.bool.test(name) ? boolHook : undefined);
        }

        if (value !== undefined) {
          if (value === null) {
            jQuery.removeAttr(elem, name);
            return;
          }

          if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
            return ret;
          }

          elem.setAttribute(name, value + "");
          return value;
        }

        if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
          return ret;
        }

        ret = jQuery.find.attr(elem, name); // Non-existent attributes return null, we normalize to undefined

        return ret == null ? undefined : ret;
      },
      attrHooks: {
        type: {
          set: function set(elem, value) {
            if (!support.radioValue && value === "radio" && nodeName(elem, "input")) {
              var val = elem.value;
              elem.setAttribute("type", value);

              if (val) {
                elem.value = val;
              }

              return value;
            }
          }
        }
      },
      removeAttr: function removeAttr(elem, value) {
        var name,
            i = 0,
            // Attribute names can contain non-HTML whitespace characters
        // https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
        attrNames = value && value.match(rnothtmlwhite);

        if (attrNames && elem.nodeType === 1) {
          while (name = attrNames[i++]) {
            elem.removeAttribute(name);
          }
        }
      }
    }); // Hooks for boolean attributes

    boolHook = {
      set: function set(elem, value, name) {
        if (value === false) {
          // Remove boolean attributes when set to false
          jQuery.removeAttr(elem, name);
        } else {
          elem.setAttribute(name, name);
        }

        return name;
      }
    };
    jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function (_i, name) {
      var getter = attrHandle[name] || jQuery.find.attr;

      attrHandle[name] = function (elem, name, isXML) {
        var ret,
            handle,
            lowercaseName = name.toLowerCase();

        if (!isXML) {
          // Avoid an infinite loop by temporarily removing this function from the getter
          handle = attrHandle[lowercaseName];
          attrHandle[lowercaseName] = ret;
          ret = getter(elem, name, isXML) != null ? lowercaseName : null;
          attrHandle[lowercaseName] = handle;
        }

        return ret;
      };
    });
    var rfocusable = /^(?:input|select|textarea|button)$/i,
        rclickable = /^(?:a|area)$/i;
    jQuery.fn.extend({
      prop: function prop(name, value) {
        return access(this, jQuery.prop, name, value, arguments.length > 1);
      },
      removeProp: function removeProp(name) {
        return this.each(function () {
          delete this[jQuery.propFix[name] || name];
        });
      }
    });
    jQuery.extend({
      prop: function prop(elem, name, value) {
        var ret,
            hooks,
            nType = elem.nodeType; // Don't get/set properties on text, comment and attribute nodes

        if (nType === 3 || nType === 8 || nType === 2) {
          return;
        }

        if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
          // Fix name and attach hooks
          name = jQuery.propFix[name] || name;
          hooks = jQuery.propHooks[name];
        }

        if (value !== undefined) {
          if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
            return ret;
          }

          return elem[name] = value;
        }

        if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
          return ret;
        }

        return elem[name];
      },
      propHooks: {
        tabIndex: {
          get: function get(elem) {
            // Support: IE <=9 - 11 only
            // elem.tabIndex doesn't always return the
            // correct value when it hasn't been explicitly set
            // https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
            // Use proper attribute retrieval(#12072)
            var tabindex = jQuery.find.attr(elem, "tabindex");

            if (tabindex) {
              return parseInt(tabindex, 10);
            }

            if (rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href) {
              return 0;
            }

            return -1;
          }
        }
      },
      propFix: {
        "for": "htmlFor",
        "class": "className"
      }
    }); // Support: IE <=11 only
    // Accessing the selectedIndex property
    // forces the browser to respect setting selected
    // on the option
    // The getter ensures a default option is selected
    // when in an optgroup
    // eslint rule "no-unused-expressions" is disabled for this code
    // since it considers such accessions noop

    if (!support.optSelected) {
      jQuery.propHooks.selected = {
        get: function get(elem) {
          /* eslint no-unused-expressions: "off" */
          var parent = elem.parentNode;

          if (parent && parent.parentNode) {
            parent.parentNode.selectedIndex;
          }

          return null;
        },
        set: function set(elem) {
          /* eslint no-unused-expressions: "off" */
          var parent = elem.parentNode;

          if (parent) {
            parent.selectedIndex;

            if (parent.parentNode) {
              parent.parentNode.selectedIndex;
            }
          }
        }
      };
    }

    jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
      jQuery.propFix[this.toLowerCase()] = this;
    }); // Strip and collapse whitespace according to HTML spec
    // https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace

    function stripAndCollapse(value) {
      var tokens = value.match(rnothtmlwhite) || [];
      return tokens.join(" ");
    }

    function getClass(elem) {
      return elem.getAttribute && elem.getAttribute("class") || "";
    }

    function classesToArray(value) {
      if (Array.isArray(value)) {
        return value;
      }

      if (typeof value === "string") {
        return value.match(rnothtmlwhite) || [];
      }

      return [];
    }

    jQuery.fn.extend({
      addClass: function addClass(value) {
        var classes,
            elem,
            cur,
            curValue,
            clazz,
            j,
            finalValue,
            i = 0;

        if (isFunction(value)) {
          return this.each(function (j) {
            jQuery(this).addClass(value.call(this, j, getClass(this)));
          });
        }

        classes = classesToArray(value);

        if (classes.length) {
          while (elem = this[i++]) {
            curValue = getClass(elem);
            cur = elem.nodeType === 1 && " " + stripAndCollapse(curValue) + " ";

            if (cur) {
              j = 0;

              while (clazz = classes[j++]) {
                if (cur.indexOf(" " + clazz + " ") < 0) {
                  cur += clazz + " ";
                }
              } // Only assign if different to avoid unneeded rendering.


              finalValue = stripAndCollapse(cur);

              if (curValue !== finalValue) {
                elem.setAttribute("class", finalValue);
              }
            }
          }
        }

        return this;
      },
      removeClass: function removeClass(value) {
        var classes,
            elem,
            cur,
            curValue,
            clazz,
            j,
            finalValue,
            i = 0;

        if (isFunction(value)) {
          return this.each(function (j) {
            jQuery(this).removeClass(value.call(this, j, getClass(this)));
          });
        }

        if (!arguments.length) {
          return this.attr("class", "");
        }

        classes = classesToArray(value);

        if (classes.length) {
          while (elem = this[i++]) {
            curValue = getClass(elem); // This expression is here for better compressibility (see addClass)

            cur = elem.nodeType === 1 && " " + stripAndCollapse(curValue) + " ";

            if (cur) {
              j = 0;

              while (clazz = classes[j++]) {
                // Remove *all* instances
                while (cur.indexOf(" " + clazz + " ") > -1) {
                  cur = cur.replace(" " + clazz + " ", " ");
                }
              } // Only assign if different to avoid unneeded rendering.


              finalValue = stripAndCollapse(cur);

              if (curValue !== finalValue) {
                elem.setAttribute("class", finalValue);
              }
            }
          }
        }

        return this;
      },
      toggleClass: function toggleClass(value, stateVal) {
        var type = _typeof(value),
            isValidValue = type === "string" || Array.isArray(value);

        if (typeof stateVal === "boolean" && isValidValue) {
          return stateVal ? this.addClass(value) : this.removeClass(value);
        }

        if (isFunction(value)) {
          return this.each(function (i) {
            jQuery(this).toggleClass(value.call(this, i, getClass(this), stateVal), stateVal);
          });
        }

        return this.each(function () {
          var className, i, self, classNames;

          if (isValidValue) {
            // Toggle individual class names
            i = 0;
            self = jQuery(this);
            classNames = classesToArray(value);

            while (className = classNames[i++]) {
              // Check each className given, space separated list
              if (self.hasClass(className)) {
                self.removeClass(className);
              } else {
                self.addClass(className);
              }
            } // Toggle whole class name

          } else if (value === undefined || type === "boolean") {
            className = getClass(this);

            if (className) {
              // Store className if set
              dataPriv.set(this, "__className__", className);
            } // If the element has a class name or if we're passed `false`,
            // then remove the whole classname (if there was one, the above saved it).
            // Otherwise bring back whatever was previously saved (if anything),
            // falling back to the empty string if nothing was stored.


            if (this.setAttribute) {
              this.setAttribute("class", className || value === false ? "" : dataPriv.get(this, "__className__") || "");
            }
          }
        });
      },
      hasClass: function hasClass(selector) {
        var className,
            elem,
            i = 0;
        className = " " + selector + " ";

        while (elem = this[i++]) {
          if (elem.nodeType === 1 && (" " + stripAndCollapse(getClass(elem)) + " ").indexOf(className) > -1) {
            return true;
          }
        }

        return false;
      }
    });
    var rreturn = /\r/g;
    jQuery.fn.extend({
      val: function val(value) {
        var hooks,
            ret,
            valueIsFunction,
            elem = this[0];

        if (!arguments.length) {
          if (elem) {
            hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];

            if (hooks && "get" in hooks && (ret = hooks.get(elem, "value")) !== undefined) {
              return ret;
            }

            ret = elem.value; // Handle most common string cases

            if (typeof ret === "string") {
              return ret.replace(rreturn, "");
            } // Handle cases where value is null/undef or number


            return ret == null ? "" : ret;
          }

          return;
        }

        valueIsFunction = isFunction(value);
        return this.each(function (i) {
          var val;

          if (this.nodeType !== 1) {
            return;
          }

          if (valueIsFunction) {
            val = value.call(this, i, jQuery(this).val());
          } else {
            val = value;
          } // Treat null/undefined as ""; convert numbers to string


          if (val == null) {
            val = "";
          } else if (typeof val === "number") {
            val += "";
          } else if (Array.isArray(val)) {
            val = jQuery.map(val, function (value) {
              return value == null ? "" : value + "";
            });
          }

          hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()]; // If set returns undefined, fall back to normal setting

          if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
            this.value = val;
          }
        });
      }
    });
    jQuery.extend({
      valHooks: {
        option: {
          get: function get(elem) {
            var val = jQuery.find.attr(elem, "value");
            return val != null ? val : // Support: IE <=10 - 11 only
            // option.text throws exceptions (#14686, #14858)
            // Strip and collapse whitespace
            // https://html.spec.whatwg.org/#strip-and-collapse-whitespace
            stripAndCollapse(jQuery.text(elem));
          }
        },
        select: {
          get: function get(elem) {
            var value,
                option,
                i,
                options = elem.options,
                index = elem.selectedIndex,
                one = elem.type === "select-one",
                values = one ? null : [],
                max = one ? index + 1 : options.length;

            if (index < 0) {
              i = max;
            } else {
              i = one ? index : 0;
            } // Loop through all the selected options


            for (; i < max; i++) {
              option = options[i]; // Support: IE <=9 only
              // IE8-9 doesn't update selected after form reset (#2551)

              if ((option.selected || i === index) && // Don't return options that are disabled or in a disabled optgroup
              !option.disabled && (!option.parentNode.disabled || !nodeName(option.parentNode, "optgroup"))) {
                // Get the specific value for the option
                value = jQuery(option).val(); // We don't need an array for one selects

                if (one) {
                  return value;
                } // Multi-Selects return an array


                values.push(value);
              }
            }

            return values;
          },
          set: function set(elem, value) {
            var optionSet,
                option,
                options = elem.options,
                values = jQuery.makeArray(value),
                i = options.length;

            while (i--) {
              option = options[i];
              /* eslint-disable no-cond-assign */

              if (option.selected = jQuery.inArray(jQuery.valHooks.option.get(option), values) > -1) {
                optionSet = true;
              }
              /* eslint-enable no-cond-assign */

            } // Force browsers to behave consistently when non-matching value is set


            if (!optionSet) {
              elem.selectedIndex = -1;
            }

            return values;
          }
        }
      }
    }); // Radios and checkboxes getter/setter

    jQuery.each(["radio", "checkbox"], function () {
      jQuery.valHooks[this] = {
        set: function set(elem, value) {
          if (Array.isArray(value)) {
            return elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1;
          }
        }
      };

      if (!support.checkOn) {
        jQuery.valHooks[this].get = function (elem) {
          return elem.getAttribute("value") === null ? "on" : elem.value;
        };
      }
    }); // Return jQuery for attributes-only inclusion

    support.focusin = "onfocusin" in window;

    var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
        stopPropagationCallback = function stopPropagationCallback(e) {
      e.stopPropagation();
    };

    jQuery.extend(jQuery.event, {
      trigger: function trigger(event, data, elem, onlyHandlers) {
        var i,
            cur,
            tmp,
            bubbleType,
            ontype,
            handle,
            special,
            lastElement,
            eventPath = [elem || document],
            type = hasOwn.call(event, "type") ? event.type : event,
            namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
        cur = lastElement = tmp = elem = elem || document; // Don't do events on text and comment nodes

        if (elem.nodeType === 3 || elem.nodeType === 8) {
          return;
        } // focus/blur morphs to focusin/out; ensure we're not firing them right now


        if (rfocusMorph.test(type + jQuery.event.triggered)) {
          return;
        }

        if (type.indexOf(".") > -1) {
          // Namespaced trigger; create a regexp to match event type in handle()
          namespaces = type.split(".");
          type = namespaces.shift();
          namespaces.sort();
        }

        ontype = type.indexOf(":") < 0 && "on" + type; // Caller can pass in a jQuery.Event object, Object, or just an event type string

        event = event[jQuery.expando] ? event : new jQuery.Event(type, _typeof(event) === "object" && event); // Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)

        event.isTrigger = onlyHandlers ? 2 : 3;
        event.namespace = namespaces.join(".");
        event.rnamespace = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null; // Clean up the event in case it is being reused

        event.result = undefined;

        if (!event.target) {
          event.target = elem;
        } // Clone any incoming data and prepend the event, creating the handler arg list


        data = data == null ? [event] : jQuery.makeArray(data, [event]); // Allow special events to draw outside the lines

        special = jQuery.event.special[type] || {};

        if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {
          return;
        } // Determine event propagation path in advance, per W3C events spec (#9951)
        // Bubble up to document, then to window; watch for a global ownerDocument var (#9724)


        if (!onlyHandlers && !special.noBubble && !isWindow(elem)) {
          bubbleType = special.delegateType || type;

          if (!rfocusMorph.test(bubbleType + type)) {
            cur = cur.parentNode;
          }

          for (; cur; cur = cur.parentNode) {
            eventPath.push(cur);
            tmp = cur;
          } // Only add window if we got to document (e.g., not plain obj or detached DOM)


          if (tmp === (elem.ownerDocument || document)) {
            eventPath.push(tmp.defaultView || tmp.parentWindow || window);
          }
        } // Fire handlers on the event path


        i = 0;

        while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {
          lastElement = cur;
          event.type = i > 1 ? bubbleType : special.bindType || type; // jQuery handler

          handle = (dataPriv.get(cur, "events") || Object.create(null))[event.type] && dataPriv.get(cur, "handle");

          if (handle) {
            handle.apply(cur, data);
          } // Native handler


          handle = ontype && cur[ontype];

          if (handle && handle.apply && acceptData(cur)) {
            event.result = handle.apply(cur, data);

            if (event.result === false) {
              event.preventDefault();
            }
          }
        }

        event.type = type; // If nobody prevented the default action, do it now

        if (!onlyHandlers && !event.isDefaultPrevented()) {
          if ((!special._default || special._default.apply(eventPath.pop(), data) === false) && acceptData(elem)) {
            // Call a native DOM method on the target with the same name as the event.
            // Don't do default actions on window, that's where global variables be (#6170)
            if (ontype && isFunction(elem[type]) && !isWindow(elem)) {
              // Don't re-trigger an onFOO event when we call its FOO() method
              tmp = elem[ontype];

              if (tmp) {
                elem[ontype] = null;
              } // Prevent re-triggering of the same event, since we already bubbled it above


              jQuery.event.triggered = type;

              if (event.isPropagationStopped()) {
                lastElement.addEventListener(type, stopPropagationCallback);
              }

              elem[type]();

              if (event.isPropagationStopped()) {
                lastElement.removeEventListener(type, stopPropagationCallback);
              }

              jQuery.event.triggered = undefined;

              if (tmp) {
                elem[ontype] = tmp;
              }
            }
          }
        }

        return event.result;
      },
      // Piggyback on a donor event to simulate a different one
      // Used only for `focus(in | out)` events
      simulate: function simulate(type, elem, event) {
        var e = jQuery.extend(new jQuery.Event(), event, {
          type: type,
          isSimulated: true
        });
        jQuery.event.trigger(e, null, elem);
      }
    });
    jQuery.fn.extend({
      trigger: function trigger(type, data) {
        return this.each(function () {
          jQuery.event.trigger(type, data, this);
        });
      },
      triggerHandler: function triggerHandler(type, data) {
        var elem = this[0];

        if (elem) {
          return jQuery.event.trigger(type, data, elem, true);
        }
      }
    }); // Support: Firefox <=44
    // Firefox doesn't have focus(in | out) events
    // Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
    //
    // Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
    // focus(in | out) events fire after focus & blur events,
    // which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
    // Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857

    if (!support.focusin) {
      jQuery.each({
        focus: "focusin",
        blur: "focusout"
      }, function (orig, fix) {
        // Attach a single capturing handler on the document while someone wants focusin/focusout
        var handler = function handler(event) {
          jQuery.event.simulate(fix, event.target, jQuery.event.fix(event));
        };

        jQuery.event.special[fix] = {
          setup: function setup() {
            // Handle: regular nodes (via `this.ownerDocument`), window
            // (via `this.document`) & document (via `this`).
            var doc = this.ownerDocument || this.document || this,
                attaches = dataPriv.access(doc, fix);

            if (!attaches) {
              doc.addEventListener(orig, handler, true);
            }

            dataPriv.access(doc, fix, (attaches || 0) + 1);
          },
          teardown: function teardown() {
            var doc = this.ownerDocument || this.document || this,
                attaches = dataPriv.access(doc, fix) - 1;

            if (!attaches) {
              doc.removeEventListener(orig, handler, true);
              dataPriv.remove(doc, fix);
            } else {
              dataPriv.access(doc, fix, attaches);
            }
          }
        };
      });
    }

    var location = window.location;
    var nonce = {
      guid: Date.now()
    };
    var rquery = /\?/; // Cross-browser xml parsing

    jQuery.parseXML = function (data) {
      var xml;

      if (!data || typeof data !== "string") {
        return null;
      } // Support: IE 9 - 11 only
      // IE throws on parseFromString with invalid input.


      try {
        xml = new window.DOMParser().parseFromString(data, "text/xml");
      } catch (e) {
        xml = undefined;
      }

      if (!xml || xml.getElementsByTagName("parsererror").length) {
        jQuery.error("Invalid XML: " + data);
      }

      return xml;
    };

    var rbracket = /\[\]$/,
        rCRLF = /\r?\n/g,
        rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
        rsubmittable = /^(?:input|select|textarea|keygen)/i;

    function buildParams(prefix, obj, traditional, add) {
      var name;

      if (Array.isArray(obj)) {
        // Serialize array item.
        jQuery.each(obj, function (i, v) {
          if (traditional || rbracket.test(prefix)) {
            // Treat each array item as a scalar.
            add(prefix, v);
          } else {
            // Item is non-scalar (array or object), encode its numeric index.
            buildParams(prefix + "[" + (_typeof(v) === "object" && v != null ? i : "") + "]", v, traditional, add);
          }
        });
      } else if (!traditional && toType(obj) === "object") {
        // Serialize object item.
        for (name in obj) {
          buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
        }
      } else {
        // Serialize scalar item.
        add(prefix, obj);
      }
    } // Serialize an array of form elements or a set of
    // key/values into a query string


    jQuery.param = function (a, traditional) {
      var prefix,
          s = [],
          add = function add(key, valueOrFunction) {
        // If value is a function, invoke it and use its return value
        var value = isFunction(valueOrFunction) ? valueOrFunction() : valueOrFunction;
        s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value == null ? "" : value);
      };

      if (a == null) {
        return "";
      } // If an array was passed in, assume that it is an array of form elements.


      if (Array.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) {
        // Serialize the form elements
        jQuery.each(a, function () {
          add(this.name, this.value);
        });
      } else {
        // If traditional, encode the "old" way (the way 1.3.2 or older
        // did it), otherwise encode params recursively.
        for (prefix in a) {
          buildParams(prefix, a[prefix], traditional, add);
        }
      } // Return the resulting serialization


      return s.join("&");
    };

    jQuery.fn.extend({
      serialize: function serialize() {
        return jQuery.param(this.serializeArray());
      },
      serializeArray: function serializeArray() {
        return this.map(function () {
          // Can add propHook for "elements" to filter or add form elements
          var elements = jQuery.prop(this, "elements");
          return elements ? jQuery.makeArray(elements) : this;
        }).filter(function () {
          var type = this.type; // Use .is( ":disabled" ) so that fieldset[disabled] works

          return this.name && !jQuery(this).is(":disabled") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !rcheckableType.test(type));
        }).map(function (_i, elem) {
          var val = jQuery(this).val();

          if (val == null) {
            return null;
          }

          if (Array.isArray(val)) {
            return jQuery.map(val, function (val) {
              return {
                name: elem.name,
                value: val.replace(rCRLF, "\r\n")
              };
            });
          }

          return {
            name: elem.name,
            value: val.replace(rCRLF, "\r\n")
          };
        }).get();
      }
    });
    var r20 = /%20/g,
        rhash = /#.*$/,
        rantiCache = /([?&])_=[^&]*/,
        rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,
        // #7653, #8125, #8152: local protocol detection
    rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        rnoContent = /^(?:GET|HEAD)$/,
        rprotocol = /^\/\//,

    /* Prefilters
     * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
     * 2) These are called:
     *    - BEFORE asking for a transport
     *    - AFTER param serialization (s.data is a string if s.processData is true)
     * 3) key is the dataType
     * 4) the catchall symbol "*" can be used
     * 5) execution will start with transport dataType and THEN continue down to "*" if needed
     */
    prefilters = {},

    /* Transports bindings
     * 1) key is the dataType
     * 2) the catchall symbol "*" can be used
     * 3) selection will start with transport dataType and THEN go to "*" if needed
     */
    transports = {},
        // Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
    allTypes = "*/".concat("*"),
        // Anchor tag for parsing the document origin
    originAnchor = document.createElement("a");
    originAnchor.href = location.href; // Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport

    function addToPrefiltersOrTransports(structure) {
      // dataTypeExpression is optional and defaults to "*"
      return function (dataTypeExpression, func) {
        if (typeof dataTypeExpression !== "string") {
          func = dataTypeExpression;
          dataTypeExpression = "*";
        }

        var dataType,
            i = 0,
            dataTypes = dataTypeExpression.toLowerCase().match(rnothtmlwhite) || [];

        if (isFunction(func)) {
          // For each dataType in the dataTypeExpression
          while (dataType = dataTypes[i++]) {
            // Prepend if requested
            if (dataType[0] === "+") {
              dataType = dataType.slice(1) || "*";
              (structure[dataType] = structure[dataType] || []).unshift(func); // Otherwise append
            } else {
              (structure[dataType] = structure[dataType] || []).push(func);
            }
          }
        }
      };
    } // Base inspection function for prefilters and transports


    function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
      var inspected = {},
          seekingTransport = structure === transports;

      function inspect(dataType) {
        var selected;
        inspected[dataType] = true;
        jQuery.each(structure[dataType] || [], function (_, prefilterOrFactory) {
          var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);

          if (typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[dataTypeOrTransport]) {
            options.dataTypes.unshift(dataTypeOrTransport);
            inspect(dataTypeOrTransport);
            return false;
          } else if (seekingTransport) {
            return !(selected = dataTypeOrTransport);
          }
        });
        return selected;
      }

      return inspect(options.dataTypes[0]) || !inspected["*"] && inspect("*");
    } // A special extend for ajax options
    // that takes "flat" options (not to be deep extended)
    // Fixes #9887


    function ajaxExtend(target, src) {
      var key,
          deep,
          flatOptions = jQuery.ajaxSettings.flatOptions || {};

      for (key in src) {
        if (src[key] !== undefined) {
          (flatOptions[key] ? target : deep || (deep = {}))[key] = src[key];
        }
      }

      if (deep) {
        jQuery.extend(true, target, deep);
      }

      return target;
    }
    /* Handles responses to an ajax request:
     * - finds the right dataType (mediates between content-type and expected dataType)
     * - returns the corresponding response
     */


    function ajaxHandleResponses(s, jqXHR, responses) {
      var ct,
          type,
          finalDataType,
          firstDataType,
          contents = s.contents,
          dataTypes = s.dataTypes; // Remove auto dataType and get content-type in the process

      while (dataTypes[0] === "*") {
        dataTypes.shift();

        if (ct === undefined) {
          ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
        }
      } // Check if we're dealing with a known content-type


      if (ct) {
        for (type in contents) {
          if (contents[type] && contents[type].test(ct)) {
            dataTypes.unshift(type);
            break;
          }
        }
      } // Check to see if we have a response for the expected dataType


      if (dataTypes[0] in responses) {
        finalDataType = dataTypes[0];
      } else {
        // Try convertible dataTypes
        for (type in responses) {
          if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
            finalDataType = type;
            break;
          }

          if (!firstDataType) {
            firstDataType = type;
          }
        } // Or just use first one


        finalDataType = finalDataType || firstDataType;
      } // If we found a dataType
      // We add the dataType to the list if needed
      // and return the corresponding response


      if (finalDataType) {
        if (finalDataType !== dataTypes[0]) {
          dataTypes.unshift(finalDataType);
        }

        return responses[finalDataType];
      }
    }
    /* Chain conversions given the request and the original response
     * Also sets the responseXXX fields on the jqXHR instance
     */


    function ajaxConvert(s, response, jqXHR, isSuccess) {
      var conv2,
          current,
          conv,
          tmp,
          prev,
          converters = {},
          // Work with a copy of dataTypes in case we need to modify it for conversion
      dataTypes = s.dataTypes.slice(); // Create converters map with lowercased keys

      if (dataTypes[1]) {
        for (conv in s.converters) {
          converters[conv.toLowerCase()] = s.converters[conv];
        }
      }

      current = dataTypes.shift(); // Convert to each sequential dataType

      while (current) {
        if (s.responseFields[current]) {
          jqXHR[s.responseFields[current]] = response;
        } // Apply the dataFilter if provided


        if (!prev && isSuccess && s.dataFilter) {
          response = s.dataFilter(response, s.dataType);
        }

        prev = current;
        current = dataTypes.shift();

        if (current) {
          // There's only work to do if current dataType is non-auto
          if (current === "*") {
            current = prev; // Convert response if prev dataType is non-auto and differs from current
          } else if (prev !== "*" && prev !== current) {
            // Seek a direct converter
            conv = converters[prev + " " + current] || converters["* " + current]; // If none found, seek a pair

            if (!conv) {
              for (conv2 in converters) {
                // If conv2 outputs current
                tmp = conv2.split(" ");

                if (tmp[1] === current) {
                  // If prev can be converted to accepted input
                  conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]];

                  if (conv) {
                    // Condense equivalence converters
                    if (conv === true) {
                      conv = converters[conv2]; // Otherwise, insert the intermediate dataType
                    } else if (converters[conv2] !== true) {
                      current = tmp[0];
                      dataTypes.unshift(tmp[1]);
                    }

                    break;
                  }
                }
              }
            } // Apply converter (if not an equivalence)


            if (conv !== true) {
              // Unless errors are allowed to bubble, catch and return them
              if (conv && s.throws) {
                response = conv(response);
              } else {
                try {
                  response = conv(response);
                } catch (e) {
                  return {
                    state: "parsererror",
                    error: conv ? e : "No conversion from " + prev + " to " + current
                  };
                }
              }
            }
          }
        }
      }

      return {
        state: "success",
        data: response
      };
    }

    jQuery.extend({
      // Counter for holding the number of active queries
      active: 0,
      // Last-Modified header cache for next request
      lastModified: {},
      etag: {},
      ajaxSettings: {
        url: location.href,
        type: "GET",
        isLocal: rlocalProtocol.test(location.protocol),
        global: true,
        processData: true,
        async: true,
        contentType: "application/x-www-form-urlencoded; charset=UTF-8",

        /*
        timeout: 0,
        data: null,
        dataType: null,
        username: null,
        password: null,
        cache: null,
        throws: false,
        traditional: false,
        headers: {},
        */
        accepts: {
          "*": allTypes,
          text: "text/plain",
          html: "text/html",
          xml: "application/xml, text/xml",
          json: "application/json, text/javascript"
        },
        contents: {
          xml: /\bxml\b/,
          html: /\bhtml/,
          json: /\bjson\b/
        },
        responseFields: {
          xml: "responseXML",
          text: "responseText",
          json: "responseJSON"
        },
        // Data converters
        // Keys separate source (or catchall "*") and destination types with a single space
        converters: {
          // Convert anything to text
          "* text": String,
          // Text to html (true = no transformation)
          "text html": true,
          // Evaluate text as a json expression
          "text json": JSON.parse,
          // Parse text as xml
          "text xml": jQuery.parseXML
        },
        // For options that shouldn't be deep extended:
        // you can add your own custom options here if
        // and when you create one that shouldn't be
        // deep extended (see ajaxExtend)
        flatOptions: {
          url: true,
          context: true
        }
      },
      // Creates a full fledged settings object into target
      // with both ajaxSettings and settings fields.
      // If target is omitted, writes into ajaxSettings.
      ajaxSetup: function ajaxSetup(target, settings) {
        return settings ? // Building a settings object
        ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) : // Extending ajaxSettings
        ajaxExtend(jQuery.ajaxSettings, target);
      },
      ajaxPrefilter: addToPrefiltersOrTransports(prefilters),
      ajaxTransport: addToPrefiltersOrTransports(transports),
      // Main method
      ajax: function ajax(url, options) {
        // If url is an object, simulate pre-1.5 signature
        if (_typeof(url) === "object") {
          options = url;
          url = undefined;
        } // Force options to be an object


        options = options || {};

        var transport,
            // URL without anti-cache param
        cacheURL,
            // Response headers
        responseHeadersString,
            responseHeaders,
            // timeout handle
        timeoutTimer,
            // Url cleanup var
        urlAnchor,
            // Request state (becomes false upon send and true upon completion)
        completed,
            // To know if global events are to be dispatched
        fireGlobals,
            // Loop variable
        i,
            // uncached part of the url
        uncached,
            // Create the final options object
        s = jQuery.ajaxSetup({}, options),
            // Callbacks context
        callbackContext = s.context || s,
            // Context for global events is callbackContext if it is a DOM node or jQuery collection
        globalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,
            // Deferreds
        deferred = jQuery.Deferred(),
            completeDeferred = jQuery.Callbacks("once memory"),
            // Status-dependent callbacks
        _statusCode = s.statusCode || {},
            // Headers (they are sent all at once)
        requestHeaders = {},
            requestHeadersNames = {},
            // Default abort message
        strAbort = "canceled",
            // Fake xhr
        jqXHR = {
          readyState: 0,
          // Builds headers hashtable if needed
          getResponseHeader: function getResponseHeader(key) {
            var match;

            if (completed) {
              if (!responseHeaders) {
                responseHeaders = {};

                while (match = rheaders.exec(responseHeadersString)) {
                  responseHeaders[match[1].toLowerCase() + " "] = (responseHeaders[match[1].toLowerCase() + " "] || []).concat(match[2]);
                }
              }

              match = responseHeaders[key.toLowerCase() + " "];
            }

            return match == null ? null : match.join(", ");
          },
          // Raw string
          getAllResponseHeaders: function getAllResponseHeaders() {
            return completed ? responseHeadersString : null;
          },
          // Caches the header
          setRequestHeader: function setRequestHeader(name, value) {
            if (completed == null) {
              name = requestHeadersNames[name.toLowerCase()] = requestHeadersNames[name.toLowerCase()] || name;
              requestHeaders[name] = value;
            }

            return this;
          },
          // Overrides response content-type header
          overrideMimeType: function overrideMimeType(type) {
            if (completed == null) {
              s.mimeType = type;
            }

            return this;
          },
          // Status-dependent callbacks
          statusCode: function statusCode(map) {
            var code;

            if (map) {
              if (completed) {
                // Execute the appropriate callbacks
                jqXHR.always(map[jqXHR.status]);
              } else {
                // Lazy-add the new callbacks in a way that preserves old ones
                for (code in map) {
                  _statusCode[code] = [_statusCode[code], map[code]];
                }
              }
            }

            return this;
          },
          // Cancel the request
          abort: function abort(statusText) {
            var finalText = statusText || strAbort;

            if (transport) {
              transport.abort(finalText);
            }

            done(0, finalText);
            return this;
          }
        }; // Attach deferreds


        deferred.promise(jqXHR); // Add protocol if not provided (prefilters might expect it)
        // Handle falsy url in the settings object (#10093: consistency with old signature)
        // We also use the url parameter if available

        s.url = ((url || s.url || location.href) + "").replace(rprotocol, location.protocol + "//"); // Alias method option to type as per ticket #12004

        s.type = options.method || options.type || s.method || s.type; // Extract dataTypes list

        s.dataTypes = (s.dataType || "*").toLowerCase().match(rnothtmlwhite) || [""]; // A cross-domain request is in order when the origin doesn't match the current origin.

        if (s.crossDomain == null) {
          urlAnchor = document.createElement("a"); // Support: IE <=8 - 11, Edge 12 - 15
          // IE throws exception on accessing the href property if url is malformed,
          // e.g. http://example.com:80x/

          try {
            urlAnchor.href = s.url; // Support: IE <=8 - 11 only
            // Anchor's host property isn't correctly set when s.url is relative

            urlAnchor.href = urlAnchor.href;
            s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !== urlAnchor.protocol + "//" + urlAnchor.host;
          } catch (e) {
            // If there is an error parsing the URL, assume it is crossDomain,
            // it can be rejected by the transport if it is invalid
            s.crossDomain = true;
          }
        } // Convert data if not already a string


        if (s.data && s.processData && typeof s.data !== "string") {
          s.data = jQuery.param(s.data, s.traditional);
        } // Apply prefilters


        inspectPrefiltersOrTransports(prefilters, s, options, jqXHR); // If request was aborted inside a prefilter, stop there

        if (completed) {
          return jqXHR;
        } // We can fire global events as of now if asked to
        // Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)


        fireGlobals = jQuery.event && s.global; // Watch for a new set of requests

        if (fireGlobals && jQuery.active++ === 0) {
          jQuery.event.trigger("ajaxStart");
        } // Uppercase the type


        s.type = s.type.toUpperCase(); // Determine if request has content

        s.hasContent = !rnoContent.test(s.type); // Save the URL in case we're toying with the If-Modified-Since
        // and/or If-None-Match header later on
        // Remove hash to simplify url manipulation

        cacheURL = s.url.replace(rhash, ""); // More options handling for requests with no content

        if (!s.hasContent) {
          // Remember the hash so we can put it back
          uncached = s.url.slice(cacheURL.length); // If data is available and should be processed, append data to url

          if (s.data && (s.processData || typeof s.data === "string")) {
            cacheURL += (rquery.test(cacheURL) ? "&" : "?") + s.data; // #9682: remove data so that it's not used in an eventual retry

            delete s.data;
          } // Add or update anti-cache param if needed


          if (s.cache === false) {
            cacheURL = cacheURL.replace(rantiCache, "$1");
            uncached = (rquery.test(cacheURL) ? "&" : "?") + "_=" + nonce.guid++ + uncached;
          } // Put hash and anti-cache on the URL that will be requested (gh-1732)


          s.url = cacheURL + uncached; // Change '%20' to '+' if this is encoded form body content (gh-2658)
        } else if (s.data && s.processData && (s.contentType || "").indexOf("application/x-www-form-urlencoded") === 0) {
          s.data = s.data.replace(r20, "+");
        } // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.


        if (s.ifModified) {
          if (jQuery.lastModified[cacheURL]) {
            jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL]);
          }

          if (jQuery.etag[cacheURL]) {
            jqXHR.setRequestHeader("If-None-Match", jQuery.etag[cacheURL]);
          }
        } // Set the correct header, if data is being sent


        if (s.data && s.hasContent && s.contentType !== false || options.contentType) {
          jqXHR.setRequestHeader("Content-Type", s.contentType);
        } // Set the Accepts header for the server, depending on the dataType


        jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== "*" ? ", " + allTypes + "; q=0.01" : "") : s.accepts["*"]); // Check for headers option

        for (i in s.headers) {
          jqXHR.setRequestHeader(i, s.headers[i]);
        } // Allow custom headers/mimetypes and early abort


        if (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || completed)) {
          // Abort if not done already and return
          return jqXHR.abort();
        } // Aborting is no longer a cancellation


        strAbort = "abort"; // Install callbacks on deferreds

        completeDeferred.add(s.complete);
        jqXHR.done(s.success);
        jqXHR.fail(s.error); // Get transport

        transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR); // If no transport, we auto-abort

        if (!transport) {
          done(-1, "No Transport");
        } else {
          jqXHR.readyState = 1; // Send global event

          if (fireGlobals) {
            globalEventContext.trigger("ajaxSend", [jqXHR, s]);
          } // If request was aborted inside ajaxSend, stop there


          if (completed) {
            return jqXHR;
          } // Timeout


          if (s.async && s.timeout > 0) {
            timeoutTimer = window.setTimeout(function () {
              jqXHR.abort("timeout");
            }, s.timeout);
          }

          try {
            completed = false;
            transport.send(requestHeaders, done);
          } catch (e) {
            // Rethrow post-completion exceptions
            if (completed) {
              throw e;
            } // Propagate others as results


            done(-1, e);
          }
        } // Callback for when everything is done


        function done(status, nativeStatusText, responses, headers) {
          var isSuccess,
              success,
              error,
              response,
              modified,
              statusText = nativeStatusText; // Ignore repeat invocations

          if (completed) {
            return;
          }

          completed = true; // Clear timeout if it exists

          if (timeoutTimer) {
            window.clearTimeout(timeoutTimer);
          } // Dereference transport for early garbage collection
          // (no matter how long the jqXHR object will be used)


          transport = undefined; // Cache response headers

          responseHeadersString = headers || ""; // Set readyState

          jqXHR.readyState = status > 0 ? 4 : 0; // Determine if successful

          isSuccess = status >= 200 && status < 300 || status === 304; // Get response data

          if (responses) {
            response = ajaxHandleResponses(s, jqXHR, responses);
          } // Use a noop converter for missing script


          if (!isSuccess && jQuery.inArray("script", s.dataTypes) > -1) {
            s.converters["text script"] = function () {};
          } // Convert no matter what (that way responseXXX fields are always set)


          response = ajaxConvert(s, response, jqXHR, isSuccess); // If successful, handle type chaining

          if (isSuccess) {
            // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
            if (s.ifModified) {
              modified = jqXHR.getResponseHeader("Last-Modified");

              if (modified) {
                jQuery.lastModified[cacheURL] = modified;
              }

              modified = jqXHR.getResponseHeader("etag");

              if (modified) {
                jQuery.etag[cacheURL] = modified;
              }
            } // if no content


            if (status === 204 || s.type === "HEAD") {
              statusText = "nocontent"; // if not modified
            } else if (status === 304) {
              statusText = "notmodified"; // If we have data, let's convert it
            } else {
              statusText = response.state;
              success = response.data;
              error = response.error;
              isSuccess = !error;
            }
          } else {
            // Extract error from statusText and normalize for non-aborts
            error = statusText;

            if (status || !statusText) {
              statusText = "error";

              if (status < 0) {
                status = 0;
              }
            }
          } // Set data for the fake xhr object


          jqXHR.status = status;
          jqXHR.statusText = (nativeStatusText || statusText) + ""; // Success/Error

          if (isSuccess) {
            deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);
          } else {
            deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);
          } // Status-dependent callbacks


          jqXHR.statusCode(_statusCode);
          _statusCode = undefined;

          if (fireGlobals) {
            globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error]);
          } // Complete


          completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);

          if (fireGlobals) {
            globalEventContext.trigger("ajaxComplete", [jqXHR, s]); // Handle the global AJAX counter

            if (! --jQuery.active) {
              jQuery.event.trigger("ajaxStop");
            }
          }
        }

        return jqXHR;
      },
      getJSON: function getJSON(url, data, callback) {
        return jQuery.get(url, data, callback, "json");
      },
      getScript: function getScript(url, callback) {
        return jQuery.get(url, undefined, callback, "script");
      }
    });
    jQuery.each(["get", "post"], function (_i, method) {
      jQuery[method] = function (url, data, callback, type) {
        // Shift arguments if data argument was omitted
        if (isFunction(data)) {
          type = type || callback;
          callback = data;
          data = undefined;
        } // The url can be an options object (which then must have .url)


        return jQuery.ajax(jQuery.extend({
          url: url,
          type: method,
          dataType: type,
          data: data,
          success: callback
        }, jQuery.isPlainObject(url) && url));
      };
    });
    jQuery.ajaxPrefilter(function (s) {
      var i;

      for (i in s.headers) {
        if (i.toLowerCase() === "content-type") {
          s.contentType = s.headers[i] || "";
        }
      }
    });

    jQuery._evalUrl = function (url, options, doc) {
      return jQuery.ajax({
        url: url,
        // Make this explicit, since user can override this through ajaxSetup (#11264)
        type: "GET",
        dataType: "script",
        cache: true,
        async: false,
        global: false,
        // Only evaluate the response if it is successful (gh-4126)
        // dataFilter is not invoked for failure responses, so using it instead
        // of the default converter is kludgy but it works.
        converters: {
          "text script": function textScript() {}
        },
        dataFilter: function dataFilter(response) {
          jQuery.globalEval(response, options, doc);
        }
      });
    };

    jQuery.fn.extend({
      wrapAll: function wrapAll(html) {
        var wrap;

        if (this[0]) {
          if (isFunction(html)) {
            html = html.call(this[0]);
          } // The elements to wrap the target around


          wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);

          if (this[0].parentNode) {
            wrap.insertBefore(this[0]);
          }

          wrap.map(function () {
            var elem = this;

            while (elem.firstElementChild) {
              elem = elem.firstElementChild;
            }

            return elem;
          }).append(this);
        }

        return this;
      },
      wrapInner: function wrapInner(html) {
        if (isFunction(html)) {
          return this.each(function (i) {
            jQuery(this).wrapInner(html.call(this, i));
          });
        }

        return this.each(function () {
          var self = jQuery(this),
              contents = self.contents();

          if (contents.length) {
            contents.wrapAll(html);
          } else {
            self.append(html);
          }
        });
      },
      wrap: function wrap(html) {
        var htmlIsFunction = isFunction(html);
        return this.each(function (i) {
          jQuery(this).wrapAll(htmlIsFunction ? html.call(this, i) : html);
        });
      },
      unwrap: function unwrap(selector) {
        this.parent(selector).not("body").each(function () {
          jQuery(this).replaceWith(this.childNodes);
        });
        return this;
      }
    });

    jQuery.expr.pseudos.hidden = function (elem) {
      return !jQuery.expr.pseudos.visible(elem);
    };

    jQuery.expr.pseudos.visible = function (elem) {
      return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);
    };

    jQuery.ajaxSettings.xhr = function () {
      try {
        return new window.XMLHttpRequest();
      } catch (e) {}
    };

    var xhrSuccessStatus = {
      // File protocol always yields status code 0, assume 200
      0: 200,
      // Support: IE <=9 only
      // #1450: sometimes IE returns 1223 when it should be 204
      1223: 204
    },
        xhrSupported = jQuery.ajaxSettings.xhr();
    support.cors = !!xhrSupported && "withCredentials" in xhrSupported;
    support.ajax = xhrSupported = !!xhrSupported;
    jQuery.ajaxTransport(function (options) {
      var _callback, errorCallback; // Cross domain only allowed if supported through XMLHttpRequest


      if (support.cors || xhrSupported && !options.crossDomain) {
        return {
          send: function send(headers, complete) {
            var i,
                xhr = options.xhr();
            xhr.open(options.type, options.url, options.async, options.username, options.password); // Apply custom fields if provided

            if (options.xhrFields) {
              for (i in options.xhrFields) {
                xhr[i] = options.xhrFields[i];
              }
            } // Override mime type if needed


            if (options.mimeType && xhr.overrideMimeType) {
              xhr.overrideMimeType(options.mimeType);
            } // X-Requested-With header
            // For cross-domain requests, seeing as conditions for a preflight are
            // akin to a jigsaw puzzle, we simply never set it to be sure.
            // (it can always be set on a per-request basis or even using ajaxSetup)
            // For same-domain requests, won't change header if already provided.


            if (!options.crossDomain && !headers["X-Requested-With"]) {
              headers["X-Requested-With"] = "XMLHttpRequest";
            } // Set headers


            for (i in headers) {
              xhr.setRequestHeader(i, headers[i]);
            } // Callback


            _callback = function callback(type) {
              return function () {
                if (_callback) {
                  _callback = errorCallback = xhr.onload = xhr.onerror = xhr.onabort = xhr.ontimeout = xhr.onreadystatechange = null;

                  if (type === "abort") {
                    xhr.abort();
                  } else if (type === "error") {
                    // Support: IE <=9 only
                    // On a manual native abort, IE9 throws
                    // errors on any property access that is not readyState
                    if (typeof xhr.status !== "number") {
                      complete(0, "error");
                    } else {
                      complete( // File: protocol always yields status 0; see #8605, #14207
                      xhr.status, xhr.statusText);
                    }
                  } else {
                    complete(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText, // Support: IE <=9 only
                    // IE9 has no XHR2 but throws on binary (trac-11426)
                    // For XHR2 non-text, let the caller handle it (gh-2498)
                    (xhr.responseType || "text") !== "text" || typeof xhr.responseText !== "string" ? {
                      binary: xhr.response
                    } : {
                      text: xhr.responseText
                    }, xhr.getAllResponseHeaders());
                  }
                }
              };
            }; // Listen to events


            xhr.onload = _callback();
            errorCallback = xhr.onerror = xhr.ontimeout = _callback("error"); // Support: IE 9 only
            // Use onreadystatechange to replace onabort
            // to handle uncaught aborts

            if (xhr.onabort !== undefined) {
              xhr.onabort = errorCallback;
            } else {
              xhr.onreadystatechange = function () {
                // Check readyState before timeout as it changes
                if (xhr.readyState === 4) {
                  // Allow onerror to be called first,
                  // but that will not handle a native abort
                  // Also, save errorCallback to a variable
                  // as xhr.onerror cannot be accessed
                  window.setTimeout(function () {
                    if (_callback) {
                      errorCallback();
                    }
                  });
                }
              };
            } // Create the abort callback


            _callback = _callback("abort");

            try {
              // Do send the request (this may raise an exception)
              xhr.send(options.hasContent && options.data || null);
            } catch (e) {
              // #14683: Only rethrow if this hasn't been notified as an error yet
              if (_callback) {
                throw e;
              }
            }
          },
          abort: function abort() {
            if (_callback) {
              _callback();
            }
          }
        };
      }
    }); // Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)

    jQuery.ajaxPrefilter(function (s) {
      if (s.crossDomain) {
        s.contents.script = false;
      }
    }); // Install script dataType

    jQuery.ajaxSetup({
      accepts: {
        script: "text/javascript, application/javascript, " + "application/ecmascript, application/x-ecmascript"
      },
      contents: {
        script: /\b(?:java|ecma)script\b/
      },
      converters: {
        "text script": function textScript(text) {
          jQuery.globalEval(text);
          return text;
        }
      }
    }); // Handle cache's special case and crossDomain

    jQuery.ajaxPrefilter("script", function (s) {
      if (s.cache === undefined) {
        s.cache = false;
      }

      if (s.crossDomain) {
        s.type = "GET";
      }
    }); // Bind script tag hack transport

    jQuery.ajaxTransport("script", function (s) {
      // This transport only deals with cross domain or forced-by-attrs requests
      if (s.crossDomain || s.scriptAttrs) {
        var script, _callback2;

        return {
          send: function send(_, complete) {
            script = jQuery("<script>").attr(s.scriptAttrs || {}).prop({
              charset: s.scriptCharset,
              src: s.url
            }).on("load error", _callback2 = function callback(evt) {
              script.remove();
              _callback2 = null;

              if (evt) {
                complete(evt.type === "error" ? 404 : 200, evt.type);
              }
            }); // Use native DOM manipulation to avoid our domManip AJAX trickery

            document.head.appendChild(script[0]);
          },
          abort: function abort() {
            if (_callback2) {
              _callback2();
            }
          }
        };
      }
    });
    var oldCallbacks = [],
        rjsonp = /(=)\?(?=&|$)|\?\?/; // Default jsonp settings

    jQuery.ajaxSetup({
      jsonp: "callback",
      jsonpCallback: function jsonpCallback() {
        var callback = oldCallbacks.pop() || jQuery.expando + "_" + nonce.guid++;
        this[callback] = true;
        return callback;
      }
    }); // Detect, normalize options and install callbacks for jsonp requests

    jQuery.ajaxPrefilter("json jsonp", function (s, originalSettings, jqXHR) {
      var callbackName,
          overwritten,
          responseContainer,
          jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ? "url" : typeof s.data === "string" && (s.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && rjsonp.test(s.data) && "data"); // Handle iff the expected data type is "jsonp" or we have a parameter to set

      if (jsonProp || s.dataTypes[0] === "jsonp") {
        // Get callback name, remembering preexisting value associated with it
        callbackName = s.jsonpCallback = isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback; // Insert callback into url or form data

        if (jsonProp) {
          s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName);
        } else if (s.jsonp !== false) {
          s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName;
        } // Use data converter to retrieve json after script execution


        s.converters["script json"] = function () {
          if (!responseContainer) {
            jQuery.error(callbackName + " was not called");
          }

          return responseContainer[0];
        }; // Force json dataType


        s.dataTypes[0] = "json"; // Install callback

        overwritten = window[callbackName];

        window[callbackName] = function () {
          responseContainer = arguments;
        }; // Clean-up function (fires after converters)


        jqXHR.always(function () {
          // If previous value didn't exist - remove it
          if (overwritten === undefined) {
            jQuery(window).removeProp(callbackName); // Otherwise restore preexisting value
          } else {
            window[callbackName] = overwritten;
          } // Save back as free


          if (s[callbackName]) {
            // Make sure that re-using the options doesn't screw things around
            s.jsonpCallback = originalSettings.jsonpCallback; // Save the callback name for future use

            oldCallbacks.push(callbackName);
          } // Call if it was a function and we have a response


          if (responseContainer && isFunction(overwritten)) {
            overwritten(responseContainer[0]);
          }

          responseContainer = overwritten = undefined;
        }); // Delegate to script

        return "script";
      }
    }); // Support: Safari 8 only
    // In Safari 8 documents created via document.implementation.createHTMLDocument
    // collapse sibling forms: the second one becomes a child of the first one.
    // Because of that, this security measure has to be disabled in Safari 8.
    // https://bugs.webkit.org/show_bug.cgi?id=137337

    support.createHTMLDocument = function () {
      var body = document.implementation.createHTMLDocument("").body;
      body.innerHTML = "<form></form><form></form>";
      return body.childNodes.length === 2;
    }(); // Argument "data" should be string of html
    // context (optional): If specified, the fragment will be created in this context,
    // defaults to document
    // keepScripts (optional): If true, will include scripts passed in the html string


    jQuery.parseHTML = function (data, context, keepScripts) {
      if (typeof data !== "string") {
        return [];
      }

      if (typeof context === "boolean") {
        keepScripts = context;
        context = false;
      }

      var base, parsed, scripts;

      if (!context) {
        // Stop scripts or inline event handlers from being executed immediately
        // by using document.implementation
        if (support.createHTMLDocument) {
          context = document.implementation.createHTMLDocument(""); // Set the base href for the created document
          // so any parsed elements with URLs
          // are based on the document's URL (gh-2965)

          base = context.createElement("base");
          base.href = document.location.href;
          context.head.appendChild(base);
        } else {
          context = document;
        }
      }

      parsed = rsingleTag.exec(data);
      scripts = !keepScripts && []; // Single tag

      if (parsed) {
        return [context.createElement(parsed[1])];
      }

      parsed = buildFragment([data], context, scripts);

      if (scripts && scripts.length) {
        jQuery(scripts).remove();
      }

      return jQuery.merge([], parsed.childNodes);
    };
    /**
     * Load a url into a page
     */


    jQuery.fn.load = function (url, params, callback) {
      var selector,
          type,
          response,
          self = this,
          off = url.indexOf(" ");

      if (off > -1) {
        selector = stripAndCollapse(url.slice(off));
        url = url.slice(0, off);
      } // If it's a function


      if (isFunction(params)) {
        // We assume that it's the callback
        callback = params;
        params = undefined; // Otherwise, build a param string
      } else if (params && _typeof(params) === "object") {
        type = "POST";
      } // If we have elements to modify, make the request


      if (self.length > 0) {
        jQuery.ajax({
          url: url,
          // If "type" variable is undefined, then "GET" method will be used.
          // Make value of this field explicit since
          // user can override it through ajaxSetup method
          type: type || "GET",
          dataType: "html",
          data: params
        }).done(function (responseText) {
          // Save response for use in complete callback
          response = arguments;
          self.html(selector ? // If a selector was specified, locate the right elements in a dummy div
          // Exclude scripts to avoid IE 'Permission Denied' errors
          jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) : // Otherwise use the full result
          responseText); // If the request succeeds, this function gets "data", "status", "jqXHR"
          // but they are ignored because response was set above.
          // If it fails, this function gets "jqXHR", "status", "error"
        }).always(callback && function (jqXHR, status) {
          self.each(function () {
            callback.apply(this, response || [jqXHR.responseText, status, jqXHR]);
          });
        });
      }

      return this;
    };

    jQuery.expr.pseudos.animated = function (elem) {
      return jQuery.grep(jQuery.timers, function (fn) {
        return elem === fn.elem;
      }).length;
    };

    jQuery.offset = {
      setOffset: function setOffset(elem, options, i) {
        var curPosition,
            curLeft,
            curCSSTop,
            curTop,
            curOffset,
            curCSSLeft,
            calculatePosition,
            position = jQuery.css(elem, "position"),
            curElem = jQuery(elem),
            props = {}; // Set position first, in-case top/left are set even on static elem

        if (position === "static") {
          elem.style.position = "relative";
        }

        curOffset = curElem.offset();
        curCSSTop = jQuery.css(elem, "top");
        curCSSLeft = jQuery.css(elem, "left");
        calculatePosition = (position === "absolute" || position === "fixed") && (curCSSTop + curCSSLeft).indexOf("auto") > -1; // Need to be able to calculate position if either
        // top or left is auto and position is either absolute or fixed

        if (calculatePosition) {
          curPosition = curElem.position();
          curTop = curPosition.top;
          curLeft = curPosition.left;
        } else {
          curTop = parseFloat(curCSSTop) || 0;
          curLeft = parseFloat(curCSSLeft) || 0;
        }

        if (isFunction(options)) {
          // Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
          options = options.call(elem, i, jQuery.extend({}, curOffset));
        }

        if (options.top != null) {
          props.top = options.top - curOffset.top + curTop;
        }

        if (options.left != null) {
          props.left = options.left - curOffset.left + curLeft;
        }

        if ("using" in options) {
          options.using.call(elem, props);
        } else {
          if (typeof props.top === "number") {
            props.top += "px";
          }

          if (typeof props.left === "number") {
            props.left += "px";
          }

          curElem.css(props);
        }
      }
    };
    jQuery.fn.extend({
      // offset() relates an element's border box to the document origin
      offset: function offset(options) {
        // Preserve chaining for setter
        if (arguments.length) {
          return options === undefined ? this : this.each(function (i) {
            jQuery.offset.setOffset(this, options, i);
          });
        }

        var rect,
            win,
            elem = this[0];

        if (!elem) {
          return;
        } // Return zeros for disconnected and hidden (display: none) elements (gh-2310)
        // Support: IE <=11 only
        // Running getBoundingClientRect on a
        // disconnected node in IE throws an error


        if (!elem.getClientRects().length) {
          return {
            top: 0,
            left: 0
          };
        } // Get document-relative position by adding viewport scroll to viewport-relative gBCR


        rect = elem.getBoundingClientRect();
        win = elem.ownerDocument.defaultView;
        return {
          top: rect.top + win.pageYOffset,
          left: rect.left + win.pageXOffset
        };
      },
      // position() relates an element's margin box to its offset parent's padding box
      // This corresponds to the behavior of CSS absolute positioning
      position: function position() {
        if (!this[0]) {
          return;
        }

        var offsetParent,
            offset,
            doc,
            elem = this[0],
            parentOffset = {
          top: 0,
          left: 0
        }; // position:fixed elements are offset from the viewport, which itself always has zero offset

        if (jQuery.css(elem, "position") === "fixed") {
          // Assume position:fixed implies availability of getBoundingClientRect
          offset = elem.getBoundingClientRect();
        } else {
          offset = this.offset(); // Account for the *real* offset parent, which can be the document or its root element
          // when a statically positioned element is identified

          doc = elem.ownerDocument;
          offsetParent = elem.offsetParent || doc.documentElement;

          while (offsetParent && (offsetParent === doc.body || offsetParent === doc.documentElement) && jQuery.css(offsetParent, "position") === "static") {
            offsetParent = offsetParent.parentNode;
          }

          if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {
            // Incorporate borders into its offset, since they are outside its content origin
            parentOffset = jQuery(offsetParent).offset();
            parentOffset.top += jQuery.css(offsetParent, "borderTopWidth", true);
            parentOffset.left += jQuery.css(offsetParent, "borderLeftWidth", true);
          }
        } // Subtract parent offsets and element margins


        return {
          top: offset.top - parentOffset.top - jQuery.css(elem, "marginTop", true),
          left: offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", true)
        };
      },
      // This method will return documentElement in the following cases:
      // 1) For the element inside the iframe without offsetParent, this method will return
      //    documentElement of the parent window
      // 2) For the hidden or detached element
      // 3) For body or html element, i.e. in case of the html node - it will return itself
      //
      // but those exceptions were never presented as a real life use-cases
      // and might be considered as more preferable results.
      //
      // This logic, however, is not guaranteed and can change at any point in the future
      offsetParent: function offsetParent() {
        return this.map(function () {
          var offsetParent = this.offsetParent;

          while (offsetParent && jQuery.css(offsetParent, "position") === "static") {
            offsetParent = offsetParent.offsetParent;
          }

          return offsetParent || documentElement;
        });
      }
    }); // Create scrollLeft and scrollTop methods

    jQuery.each({
      scrollLeft: "pageXOffset",
      scrollTop: "pageYOffset"
    }, function (method, prop) {
      var top = "pageYOffset" === prop;

      jQuery.fn[method] = function (val) {
        return access(this, function (elem, method, val) {
          // Coalesce documents and windows
          var win;

          if (isWindow(elem)) {
            win = elem;
          } else if (elem.nodeType === 9) {
            win = elem.defaultView;
          }

          if (val === undefined) {
            return win ? win[prop] : elem[method];
          }

          if (win) {
            win.scrollTo(!top ? val : win.pageXOffset, top ? val : win.pageYOffset);
          } else {
            elem[method] = val;
          }
        }, method, val, arguments.length);
      };
    }); // Support: Safari <=7 - 9.1, Chrome <=37 - 49
    // Add the top/left cssHooks using jQuery.fn.position
    // Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
    // Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
    // getComputedStyle returns percent when specified for top/left/bottom/right;
    // rather than make the css module depend on the offset module, just check for it here

    jQuery.each(["top", "left"], function (_i, prop) {
      jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function (elem, computed) {
        if (computed) {
          computed = curCSS(elem, prop); // If curCSS returns percentage, fallback to offset

          return rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + "px" : computed;
        }
      });
    }); // Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods

    jQuery.each({
      Height: "height",
      Width: "width"
    }, function (name, type) {
      jQuery.each({
        padding: "inner" + name,
        content: type,
        "": "outer" + name
      }, function (defaultExtra, funcName) {
        // Margin is only for outerHeight, outerWidth
        jQuery.fn[funcName] = function (margin, value) {
          var chainable = arguments.length && (defaultExtra || typeof margin !== "boolean"),
              extra = defaultExtra || (margin === true || value === true ? "margin" : "border");
          return access(this, function (elem, type, value) {
            var doc;

            if (isWindow(elem)) {
              // $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
              return funcName.indexOf("outer") === 0 ? elem["inner" + name] : elem.document.documentElement["client" + name];
            } // Get document width or height


            if (elem.nodeType === 9) {
              doc = elem.documentElement; // Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
              // whichever is greatest

              return Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name]);
            }

            return value === undefined ? // Get width or height on the element, requesting but not forcing parseFloat
            jQuery.css(elem, type, extra) : // Set width or height on the element
            jQuery.style(elem, type, value, extra);
          }, type, chainable ? margin : undefined, chainable);
        };
      });
    });
    jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (_i, type) {
      jQuery.fn[type] = function (fn) {
        return this.on(type, fn);
      };
    });
    jQuery.fn.extend({
      bind: function bind(types, data, fn) {
        return this.on(types, null, data, fn);
      },
      unbind: function unbind(types, fn) {
        return this.off(types, null, fn);
      },
      delegate: function delegate(selector, types, data, fn) {
        return this.on(types, selector, data, fn);
      },
      undelegate: function undelegate(selector, types, fn) {
        // ( namespace ) or ( selector, types [, fn] )
        return arguments.length === 1 ? this.off(selector, "**") : this.off(types, selector || "**", fn);
      },
      hover: function hover(fnOver, fnOut) {
        return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
      }
    });
    jQuery.each(("blur focus focusin focusout resize scroll click dblclick " + "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " + "change select submit keydown keypress keyup contextmenu").split(" "), function (_i, name) {
      // Handle event binding
      jQuery.fn[name] = function (data, fn) {
        return arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name);
      };
    }); // Support: Android <=4.0 only
    // Make sure we trim BOM and NBSP

    var rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g; // Bind a function to a context, optionally partially applying any
    // arguments.
    // jQuery.proxy is deprecated to promote standards (specifically Function#bind)
    // However, it is not slated for removal any time soon

    jQuery.proxy = function (fn, context) {
      var tmp, args, proxy;

      if (typeof context === "string") {
        tmp = fn[context];
        context = fn;
        fn = tmp;
      } // Quick check to determine if target is callable, in the spec
      // this throws a TypeError, but we will just return undefined.


      if (!isFunction(fn)) {
        return undefined;
      } // Simulated bind


      args = _slice.call(arguments, 2);

      proxy = function proxy() {
        return fn.apply(context || this, args.concat(_slice.call(arguments)));
      }; // Set the guid of unique handler to the same of original handler, so it can be removed


      proxy.guid = fn.guid = fn.guid || jQuery.guid++;
      return proxy;
    };

    jQuery.holdReady = function (hold) {
      if (hold) {
        jQuery.readyWait++;
      } else {
        jQuery.ready(true);
      }
    };

    jQuery.isArray = Array.isArray;
    jQuery.parseJSON = JSON.parse;
    jQuery.nodeName = nodeName;
    jQuery.isFunction = isFunction;
    jQuery.isWindow = isWindow;
    jQuery.camelCase = camelCase;
    jQuery.type = toType;
    jQuery.now = Date.now;

    jQuery.isNumeric = function (obj) {
      // As of jQuery 3.0, isNumeric is limited to
      // strings and numbers (primitives or objects)
      // that can be coerced to finite numbers (gh-2662)
      var type = jQuery.type(obj);
      return (type === "number" || type === "string") && // parseFloat NaNs numeric-cast false positives ("")
      // ...but misinterprets leading-number strings, particularly hex literals ("0x...")
      // subtraction forces infinities to NaN
      !isNaN(obj - parseFloat(obj));
    };

    jQuery.trim = function (text) {
      return text == null ? "" : (text + "").replace(rtrim, "");
    }; // Register as a named AMD module, since jQuery can be concatenated with other
    // files that may use define, but not via a proper concatenation script that
    // understands anonymous AMD modules. A named AMD is safest and most robust
    // way to register. Lowercase jquery is used because AMD module names are
    // derived from file names, and jQuery is normally delivered in a lowercase
    // file name. Do this after creating the global so that if an AMD module wants
    // to call noConflict to hide this version of jQuery, it will work.
    // Note that for maximum portability, libraries that are not jQuery should
    // declare themselves as anonymous modules, and avoid setting a global if an
    // AMD loader is present. jQuery is a special case. For more information, see
    // https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon


    if (true) {
      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
        return jQuery;
      }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
          __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
    }

    var // Map over jQuery in case of overwrite
    _jQuery = window.jQuery,
        // Map over the $ in case of overwrite
    _$ = window.$;

    jQuery.noConflict = function (deep) {
      if (window.$ === jQuery) {
        window.$ = _$;
      }

      if (deep && window.jQuery === jQuery) {
        window.jQuery = _jQuery;
      }

      return jQuery;
    }; // Expose jQuery and $ identifiers, even in AMD
    // (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
    // and CommonJS for browser emulators (#13566)


    if (typeof noGlobal === "undefined") {
      window.jQuery = window.$ = jQuery;
    }

    return jQuery;
  });
  /* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

  /***/ }),

  /***/ "./node_modules/js-cookie/src/js.cookie.js":
  /*!*************************************************!*\
    !*** ./node_modules/js-cookie/src/js.cookie.js ***!
    \*************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  /*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   */
  ;

  (function (factory) {
    var registeredInModuleLoader;

    if (true) {
      !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
          __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
          (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
          __WEBPACK_AMD_DEFINE_FACTORY__),
          __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
      registeredInModuleLoader = true;
    }

    if (( false ? undefined : _typeof(exports)) === 'object') {
      module.exports = factory();
      registeredInModuleLoader = true;
    }

    if (!registeredInModuleLoader) {
      var OldCookies = window.Cookies;
      var api = window.Cookies = factory();

      api.noConflict = function () {
        window.Cookies = OldCookies;
        return api;
      };
    }
  })(function () {
    function extend() {
      var i = 0;
      var result = {};

      for (; i < arguments.length; i++) {
        var attributes = arguments[i];

        for (var key in attributes) {
          result[key] = attributes[key];
        }
      }

      return result;
    }

    function decode(s) {
      return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);
    }

    function init(converter) {
      function api() {}

      function set(key, value, attributes) {
        if (typeof document === 'undefined') {
          return;
        }

        attributes = extend({
          path: '/'
        }, api.defaults, attributes);

        if (typeof attributes.expires === 'number') {
          attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);
        } // We're using "expires" because "max-age" is not supported by IE


        attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';

        try {
          var result = JSON.stringify(value);

          if (/^[\{\[]/.test(result)) {
            value = result;
          }
        } catch (e) {}

        value = converter.write ? converter.write(value, key) : encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);
        key = encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\(\)]/g, escape);
        var stringifiedAttributes = '';

        for (var attributeName in attributes) {
          if (!attributes[attributeName]) {
            continue;
          }

          stringifiedAttributes += '; ' + attributeName;

          if (attributes[attributeName] === true) {
            continue;
          } // Considers RFC 6265 section 5.2:
          // ...
          // 3.  If the remaining unparsed-attributes contains a %x3B (";")
          //     character:
          // Consume the characters of the unparsed-attributes up to,
          // not including, the first %x3B (";") character.
          // ...


          stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];
        }

        return document.cookie = key + '=' + value + stringifiedAttributes;
      }

      function get(key, json) {
        if (typeof document === 'undefined') {
          return;
        }

        var jar = {}; // To prevent the for loop in the first place assign an empty array
        // in case there are no cookies at all.

        var cookies = document.cookie ? document.cookie.split('; ') : [];
        var i = 0;

        for (; i < cookies.length; i++) {
          var parts = cookies[i].split('=');
          var cookie = parts.slice(1).join('=');

          if (!json && cookie.charAt(0) === '"') {
            cookie = cookie.slice(1, -1);
          }

          try {
            var name = decode(parts[0]);
            cookie = (converter.read || converter)(cookie, name) || decode(cookie);

            if (json) {
              try {
                cookie = JSON.parse(cookie);
              } catch (e) {}
            }

            jar[name] = cookie;

            if (key === name) {
              break;
            }
          } catch (e) {}
        }

        return key ? jar[key] : jar;
      }

      api.set = set;

      api.get = function (key) {
        return get(key, false
        /* read as raw */
        );
      };

      api.getJSON = function (key) {
        return get(key, true
        /* read as json */
        );
      };

      api.remove = function (key, attributes) {
        set(key, '', extend(attributes, {
          expires: -1
        }));
      };

      api.defaults = {};
      api.withConverter = init;
      return api;
    }

    return init(function () {});
  });

  /***/ }),

  /***/ "./node_modules/process/browser.js":
  /*!*****************************************!*\
    !*** ./node_modules/process/browser.js ***!
    \*****************************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  // shim for using process in browser
  var process = module.exports = {}; // cached from whatever global is present so that test runners that stub it
  // don't break things.  But we need to wrap it in a try catch in case it is
  // wrapped in strict mode code which doesn't define any globals.  It's inside a
  // function because try/catches deoptimize in certain engines.

  var cachedSetTimeout;
  var cachedClearTimeout;

  function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
  }

  function defaultClearTimeout() {
    throw new Error('clearTimeout has not been defined');
  }

  (function () {
    try {
      if (typeof setTimeout === 'function') {
        cachedSetTimeout = setTimeout;
      } else {
        cachedSetTimeout = defaultSetTimout;
      }
    } catch (e) {
      cachedSetTimeout = defaultSetTimout;
    }

    try {
      if (typeof clearTimeout === 'function') {
        cachedClearTimeout = clearTimeout;
      } else {
        cachedClearTimeout = defaultClearTimeout;
      }
    } catch (e) {
      cachedClearTimeout = defaultClearTimeout;
    }
  })();

  function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
      //normal enviroments in sane situations
      return setTimeout(fun, 0);
    } // if setTimeout wasn't available but was latter defined


    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
      cachedSetTimeout = setTimeout;
      return setTimeout(fun, 0);
    }

    try {
      // when when somebody has screwed with setTimeout but no I.E. maddness
      return cachedSetTimeout(fun, 0);
    } catch (e) {
      try {
        // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
        return cachedSetTimeout.call(null, fun, 0);
      } catch (e) {
        // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
        return cachedSetTimeout.call(this, fun, 0);
      }
    }
  }

  function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
      //normal enviroments in sane situations
      return clearTimeout(marker);
    } // if clearTimeout wasn't available but was latter defined


    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
      cachedClearTimeout = clearTimeout;
      return clearTimeout(marker);
    }

    try {
      // when when somebody has screwed with setTimeout but no I.E. maddness
      return cachedClearTimeout(marker);
    } catch (e) {
      try {
        // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
        return cachedClearTimeout.call(null, marker);
      } catch (e) {
        // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
        // Some versions of I.E. have different rules for clearTimeout vs setTimeout
        return cachedClearTimeout.call(this, marker);
      }
    }
  }

  var queue = [];
  var draining = false;
  var currentQueue;
  var queueIndex = -1;

  function cleanUpNextTick() {
    if (!draining || !currentQueue) {
      return;
    }

    draining = false;

    if (currentQueue.length) {
      queue = currentQueue.concat(queue);
    } else {
      queueIndex = -1;
    }

    if (queue.length) {
      drainQueue();
    }
  }

  function drainQueue() {
    if (draining) {
      return;
    }

    var timeout = runTimeout(cleanUpNextTick);
    draining = true;
    var len = queue.length;

    while (len) {
      currentQueue = queue;
      queue = [];

      while (++queueIndex < len) {
        if (currentQueue) {
          currentQueue[queueIndex].run();
        }
      }

      queueIndex = -1;
      len = queue.length;
    }

    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
  }

  process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);

    if (arguments.length > 1) {
      for (var i = 1; i < arguments.length; i++) {
        args[i - 1] = arguments[i];
      }
    }

    queue.push(new Item(fun, args));

    if (queue.length === 1 && !draining) {
      runTimeout(drainQueue);
    }
  }; // v8 likes predictible objects


  function Item(fun, array) {
    this.fun = fun;
    this.array = array;
  }

  Item.prototype.run = function () {
    this.fun.apply(null, this.array);
  };

  process.title = 'browser';
  process.browser = true;
  process.env = {};
  process.argv = [];
  process.version = ''; // empty string to avoid regexp issues

  process.versions = {};

  function noop() {}

  process.on = noop;
  process.addListener = noop;
  process.once = noop;
  process.off = noop;
  process.removeListener = noop;
  process.removeAllListeners = noop;
  process.emit = noop;
  process.prependListener = noop;
  process.prependOnceListener = noop;

  process.listeners = function (name) {
    return [];
  };

  process.binding = function (name) {
    throw new Error('process.binding is not supported');
  };

  process.cwd = function () {
    return '/';
  };

  process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
  };

  process.umask = function () {
    return 0;
  };

  /***/ }),

  /***/ "./node_modules/promise-polyfill/src/finally.js":
  /*!******************************************************!*\
    !*** ./node_modules/promise-polyfill/src/finally.js ***!
    \******************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /**
   * @this {Promise}
   */
  function finallyConstructor(callback) {
    var constructor = this.constructor;
    return this.then(function (value) {
      // @ts-ignore
      return constructor.resolve(callback()).then(function () {
        return value;
      });
    }, function (reason) {
      // @ts-ignore
      return constructor.resolve(callback()).then(function () {
        // @ts-ignore
        return constructor.reject(reason);
      });
    });
  }

  /* harmony default export */ __webpack_exports__["default"] = (finallyConstructor);

  /***/ }),

  /***/ "./node_modules/promise-polyfill/src/index.js":
  /*!****************************************************!*\
    !*** ./node_modules/promise-polyfill/src/index.js ***!
    \****************************************************/
  /*! exports provided: default */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* WEBPACK VAR INJECTION */(function(setImmediate) {/* harmony import */ var _finally__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./finally */ "./node_modules/promise-polyfill/src/finally.js");
  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

   // Store setTimeout reference so promise-polyfill will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())

  var setTimeoutFunc = setTimeout;

  function isArray(x) {
    return Boolean(x && typeof x.length !== 'undefined');
  }

  function noop() {} // Polyfill for Function.prototype.bind


  function bind(fn, thisArg) {
    return function () {
      fn.apply(thisArg, arguments);
    };
  }
  /**
   * @constructor
   * @param {Function} fn
   */


  function Promise(fn) {
    if (!(this instanceof Promise)) throw new TypeError('Promises must be constructed via new');
    if (typeof fn !== 'function') throw new TypeError('not a function');
    /** @type {!number} */

    this._state = 0;
    /** @type {!boolean} */

    this._handled = false;
    /** @type {Promise|undefined} */

    this._value = undefined;
    /** @type {!Array<!Function>} */

    this._deferreds = [];
    doResolve(fn, this);
  }

  function handle(self, deferred) {
    while (self._state === 3) {
      self = self._value;
    }

    if (self._state === 0) {
      self._deferreds.push(deferred);

      return;
    }

    self._handled = true;

    Promise._immediateFn(function () {
      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;

      if (cb === null) {
        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
        return;
      }

      var ret;

      try {
        ret = cb(self._value);
      } catch (e) {
        reject(deferred.promise, e);
        return;
      }

      resolve(deferred.promise, ret);
    });
  }

  function resolve(self, newValue) {
    try {
      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');

      if (newValue && (_typeof(newValue) === 'object' || typeof newValue === 'function')) {
        var then = newValue.then;

        if (newValue instanceof Promise) {
          self._state = 3;
          self._value = newValue;
          finale(self);
          return;
        } else if (typeof then === 'function') {
          doResolve(bind(then, newValue), self);
          return;
        }
      }

      self._state = 1;
      self._value = newValue;
      finale(self);
    } catch (e) {
      reject(self, e);
    }
  }

  function reject(self, newValue) {
    self._state = 2;
    self._value = newValue;
    finale(self);
  }

  function finale(self) {
    if (self._state === 2 && self._deferreds.length === 0) {
      Promise._immediateFn(function () {
        if (!self._handled) {
          Promise._unhandledRejectionFn(self._value);
        }
      });
    }

    for (var i = 0, len = self._deferreds.length; i < len; i++) {
      handle(self, self._deferreds[i]);
    }

    self._deferreds = null;
  }
  /**
   * @constructor
   */


  function Handler(onFulfilled, onRejected, promise) {
    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
    this.onRejected = typeof onRejected === 'function' ? onRejected : null;
    this.promise = promise;
  }
  /**
   * Take a potentially misbehaving resolver function and make sure
   * onFulfilled and onRejected are only called once.
   *
   * Makes no guarantees about asynchrony.
   */


  function doResolve(fn, self) {
    var done = false;

    try {
      fn(function (value) {
        if (done) return;
        done = true;
        resolve(self, value);
      }, function (reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      });
    } catch (ex) {
      if (done) return;
      done = true;
      reject(self, ex);
    }
  }

  Promise.prototype['catch'] = function (onRejected) {
    return this.then(null, onRejected);
  };

  Promise.prototype.then = function (onFulfilled, onRejected) {
    // @ts-ignore
    var prom = new this.constructor(noop);
    handle(this, new Handler(onFulfilled, onRejected, prom));
    return prom;
  };

  Promise.prototype['finally'] = _finally__WEBPACK_IMPORTED_MODULE_0__["default"];

  Promise.all = function (arr) {
    return new Promise(function (resolve, reject) {
      if (!isArray(arr)) {
        return reject(new TypeError('Promise.all accepts an array'));
      }

      var args = Array.prototype.slice.call(arr);
      if (args.length === 0) return resolve([]);
      var remaining = args.length;

      function res(i, val) {
        try {
          if (val && (_typeof(val) === 'object' || typeof val === 'function')) {
            var then = val.then;

            if (typeof then === 'function') {
              then.call(val, function (val) {
                res(i, val);
              }, reject);
              return;
            }
          }

          args[i] = val;

          if (--remaining === 0) {
            resolve(args);
          }
        } catch (ex) {
          reject(ex);
        }
      }

      for (var i = 0; i < args.length; i++) {
        res(i, args[i]);
      }
    });
  };

  Promise.resolve = function (value) {
    if (value && _typeof(value) === 'object' && value.constructor === Promise) {
      return value;
    }

    return new Promise(function (resolve) {
      resolve(value);
    });
  };

  Promise.reject = function (value) {
    return new Promise(function (resolve, reject) {
      reject(value);
    });
  };

  Promise.race = function (arr) {
    return new Promise(function (resolve, reject) {
      if (!isArray(arr)) {
        return reject(new TypeError('Promise.race accepts an array'));
      }

      for (var i = 0, len = arr.length; i < len; i++) {
        Promise.resolve(arr[i]).then(resolve, reject);
      }
    });
  }; // Use polyfill for setImmediate for performance gains


  Promise._immediateFn = // @ts-ignore
  typeof setImmediate === 'function' && function (fn) {
    // @ts-ignore
    setImmediate(fn);
  } || function (fn) {
    setTimeoutFunc(fn, 0);
  };

  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
    if (typeof console !== 'undefined' && console) {
      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
    }
  };

  /* harmony default export */ __webpack_exports__["default"] = (Promise);
  /* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../timers-browserify/main.js */ "./node_modules/timers-browserify/main.js").setImmediate))

  /***/ }),

  /***/ "./node_modules/setimmediate/setImmediate.js":
  /*!***************************************************!*\
    !*** ./node_modules/setimmediate/setImmediate.js ***!
    \***************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  /* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {
    "use strict";

    if (global.setImmediate) {
      return;
    }

    var nextHandle = 1; // Spec says greater than zero

    var tasksByHandle = {};
    var currentlyRunningATask = false;
    var doc = global.document;
    var registerImmediate;

    function setImmediate(callback) {
      // Callback can either be a function or a string
      if (typeof callback !== "function") {
        callback = new Function("" + callback);
      } // Copy function arguments


      var args = new Array(arguments.length - 1);

      for (var i = 0; i < args.length; i++) {
        args[i] = arguments[i + 1];
      } // Store and register the task


      var task = {
        callback: callback,
        args: args
      };
      tasksByHandle[nextHandle] = task;
      registerImmediate(nextHandle);
      return nextHandle++;
    }

    function clearImmediate(handle) {
      delete tasksByHandle[handle];
    }

    function run(task) {
      var callback = task.callback;
      var args = task.args;

      switch (args.length) {
        case 0:
          callback();
          break;

        case 1:
          callback(args[0]);
          break;

        case 2:
          callback(args[0], args[1]);
          break;

        case 3:
          callback(args[0], args[1], args[2]);
          break;

        default:
          callback.apply(undefined, args);
          break;
      }
    }

    function runIfPresent(handle) {
      // From the spec: "Wait until any invocations of this algorithm started before this one have completed."
      // So if we're currently running a task, we'll need to delay this invocation.
      if (currentlyRunningATask) {
        // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
        // "too much recursion" error.
        setTimeout(runIfPresent, 0, handle);
      } else {
        var task = tasksByHandle[handle];

        if (task) {
          currentlyRunningATask = true;

          try {
            run(task);
          } finally {
            clearImmediate(handle);
            currentlyRunningATask = false;
          }
        }
      }
    }

    function installNextTickImplementation() {
      registerImmediate = function registerImmediate(handle) {
        process.nextTick(function () {
          runIfPresent(handle);
        });
      };
    }

    function canUsePostMessage() {
      // The test against `importScripts` prevents this implementation from being installed inside a web worker,
      // where `global.postMessage` means something completely different and can't be used for this purpose.
      if (global.postMessage && !global.importScripts) {
        var postMessageIsAsynchronous = true;
        var oldOnMessage = global.onmessage;

        global.onmessage = function () {
          postMessageIsAsynchronous = false;
        };

        global.postMessage("", "*");
        global.onmessage = oldOnMessage;
        return postMessageIsAsynchronous;
      }
    }

    function installPostMessageImplementation() {
      // Installs an event handler on `global` for the `message` event: see
      // * https://developer.mozilla.org/en/DOM/window.postMessage
      // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages
      var messagePrefix = "setImmediate$" + Math.random() + "$";

      var onGlobalMessage = function onGlobalMessage(event) {
        if (event.source === global && typeof event.data === "string" && event.data.indexOf(messagePrefix) === 0) {
          runIfPresent(+event.data.slice(messagePrefix.length));
        }
      };

      if (global.addEventListener) {
        global.addEventListener("message", onGlobalMessage, false);
      } else {
        global.attachEvent("onmessage", onGlobalMessage);
      }

      registerImmediate = function registerImmediate(handle) {
        global.postMessage(messagePrefix + handle, "*");
      };
    }

    function installMessageChannelImplementation() {
      var channel = new MessageChannel();

      channel.port1.onmessage = function (event) {
        var handle = event.data;
        runIfPresent(handle);
      };

      registerImmediate = function registerImmediate(handle) {
        channel.port2.postMessage(handle);
      };
    }

    function installReadyStateChangeImplementation() {
      var html = doc.documentElement;

      registerImmediate = function registerImmediate(handle) {
        // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
        // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
        var script = doc.createElement("script");

        script.onreadystatechange = function () {
          runIfPresent(handle);
          script.onreadystatechange = null;
          html.removeChild(script);
          script = null;
        };

        html.appendChild(script);
      };
    }

    function installSetTimeoutImplementation() {
      registerImmediate = function registerImmediate(handle) {
        setTimeout(runIfPresent, 0, handle);
      };
    } // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.


    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);
    attachTo = attachTo && attachTo.setTimeout ? attachTo : global; // Don't get fooled by e.g. browserify environments.

    if ({}.toString.call(global.process) === "[object process]") {
      // For Node.js before 0.9
      installNextTickImplementation();
    } else if (canUsePostMessage()) {
      // For non-IE10 modern browsers
      installPostMessageImplementation();
    } else if (global.MessageChannel) {
      // For web workers, where supported
      installMessageChannelImplementation();
    } else if (doc && "onreadystatechange" in doc.createElement("script")) {
      // For IE 6–8
      installReadyStateChangeImplementation();
    } else {
      // For older browsers
      installSetTimeoutImplementation();
    }

    attachTo.setImmediate = setImmediate;
    attachTo.clearImmediate = clearImmediate;
  })(typeof self === "undefined" ? typeof global === "undefined" ? this : global : self);
  /* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../process/browser.js */ "./node_modules/process/browser.js")))

  /***/ }),

  /***/ "./node_modules/timers-browserify/main.js":
  /*!************************************************!*\
    !*** ./node_modules/timers-browserify/main.js ***!
    \************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  /* WEBPACK VAR INJECTION */(function(global) {var scope = typeof global !== "undefined" && global || typeof self !== "undefined" && self || window;
  var apply = Function.prototype.apply; // DOM APIs, for completeness

  exports.setTimeout = function () {
    return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);
  };

  exports.setInterval = function () {
    return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);
  };

  exports.clearTimeout = exports.clearInterval = function (timeout) {
    if (timeout) {
      timeout.close();
    }
  };

  function Timeout(id, clearFn) {
    this._id = id;
    this._clearFn = clearFn;
  }

  Timeout.prototype.unref = Timeout.prototype.ref = function () {};

  Timeout.prototype.close = function () {
    this._clearFn.call(scope, this._id);
  }; // Does not start the time, just sets up the members needed.


  exports.enroll = function (item, msecs) {
    clearTimeout(item._idleTimeoutId);
    item._idleTimeout = msecs;
  };

  exports.unenroll = function (item) {
    clearTimeout(item._idleTimeoutId);
    item._idleTimeout = -1;
  };

  exports._unrefActive = exports.active = function (item) {
    clearTimeout(item._idleTimeoutId);
    var msecs = item._idleTimeout;

    if (msecs >= 0) {
      item._idleTimeoutId = setTimeout(function onTimeout() {
        if (item._onTimeout) item._onTimeout();
      }, msecs);
    }
  }; // setimmediate attaches itself to the global object


  __webpack_require__(/*! setimmediate */ "./node_modules/setimmediate/setImmediate.js"); // On some exotic environments, it's not clear which object `setimmediate` was
  // able to install onto.  Search each possibility in the same order as the
  // `setimmediate` library.


  exports.setImmediate = typeof self !== "undefined" && self.setImmediate || typeof global !== "undefined" && global.setImmediate || this && this.setImmediate;
  exports.clearImmediate = typeof self !== "undefined" && self.clearImmediate || typeof global !== "undefined" && global.clearImmediate || this && this.clearImmediate;
  /* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

  /***/ }),

  /***/ "./node_modules/web-vitals/dist/web-vitals.js":
  /*!****************************************************!*\
    !*** ./node_modules/web-vitals/dist/web-vitals.js ***!
    \****************************************************/
  /*! exports provided: getCLS, getFCP, getFID, getLCP, getTTFB */
  /***/ (function(module, __webpack_exports__, __webpack_require__) {

  "use strict";
  __webpack_require__.r(__webpack_exports__);
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCLS", function() { return m; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFCP", function() { return S; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFID", function() { return T; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLCP", function() { return b; });
  /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTTFB", function() { return F; });
  var t,
      e,
      n,
      i,
      a = function a(t, e) {
    return {
      name: t,
      value: void 0 === e ? -1 : e,
      delta: 0,
      entries: [],
      id: "v1-".concat(Date.now(), "-").concat(Math.floor(8999999999999 * Math.random()) + 1e12)
    };
  },
      r = function r(t, e) {
    try {
      if (PerformanceObserver.supportedEntryTypes.includes(t)) {
        var n = new PerformanceObserver(function (t) {
          return t.getEntries().map(e);
        });
        return n.observe({
          type: t,
          buffered: !0
        }), n;
      }
    } catch (t) {}
  },
      o = !1,
      c = function c(t, e) {
    o || "undefined" != typeof InstallTrigger || (addEventListener("beforeunload", function () {}), o = !0);
    addEventListener("visibilitychange", function n(i) {
      "hidden" === document.visibilityState && (t(i), e && removeEventListener("visibilitychange", n, !0));
    }, !0);
  },
      u = function u(t) {
    addEventListener("pageshow", function (e) {
      e.persisted && t(e);
    }, !0);
  },
      f = "function" == typeof WeakSet ? new WeakSet() : new Set(),
      s = function s(t, e, n) {
    var i;
    return function () {
      e.value >= 0 && (n || f.has(e) || "hidden" === document.visibilityState) && (e.delta = e.value - (i || 0), (e.delta || void 0 === i) && (i = e.value, t(e)));
    };
  },
      m = function m(t, e) {
    var n,
        i = a("CLS", 0),
        o = function o(t) {
      t.hadRecentInput || (i.value += t.value, i.entries.push(t), n());
    },
        f = r("layout-shift", o);

    f && (n = s(t, i, e), c(function () {
      f.takeRecords().map(o), n();
    }), u(function () {
      i = a("CLS", 0), n = s(t, i, e);
    }));
  },
      d = -1,
      v = function v() {
    return "hidden" === document.visibilityState ? 0 : 1 / 0;
  },
      p = function p() {
    c(function (t) {
      var e = t.timeStamp;
      d = e;
    }, !0);
  },
      l = function l() {
    return d < 0 && (d = v(), p(), u(function () {
      setTimeout(function () {
        d = v(), p();
      }, 0);
    })), {
      get timeStamp() {
        return d;
      }

    };
  },
      S = function S(t, e) {
    var n,
        i = l(),
        o = a("FCP"),
        c = r("paint", function (t) {
      "first-contentful-paint" === t.name && (c && c.disconnect(), t.startTime < i.timeStamp && (o.value = t.startTime, o.entries.push(t), f.add(o), n()));
    });
    c && (n = s(t, o, e), u(function (i) {
      o = a("FCP"), n = s(t, o, e), requestAnimationFrame(function () {
        requestAnimationFrame(function () {
          o.value = performance.now() - i.timeStamp, f.add(o), n();
        });
      });
    }));
  },
      h = {
    passive: !0,
    capture: !0
  },
      y = new Date(),
      g = function g(i, a) {
    t || (t = a, e = i, n = new Date(), L(removeEventListener), E());
  },
      E = function E() {
    if (e >= 0 && e < n - y) {
      var a = {
        entryType: "first-input",
        name: t.type,
        target: t.target,
        cancelable: t.cancelable,
        startTime: t.timeStamp,
        processingStart: t.timeStamp + e
      };
      i.forEach(function (t) {
        t(a);
      }), i = [];
    }
  },
      w = function w(t) {
    if (t.cancelable) {
      var e = (t.timeStamp > 1e12 ? new Date() : performance.now()) - t.timeStamp;
      "pointerdown" == t.type ? function (t, e) {
        var n = function n() {
          g(t, e), a();
        },
            i = function i() {
          a();
        },
            a = function a() {
          removeEventListener("pointerup", n, h), removeEventListener("pointercancel", i, h);
        };

        addEventListener("pointerup", n, h), addEventListener("pointercancel", i, h);
      }(e, t) : g(e, t);
    }
  },
      L = function L(t) {
    ["mousedown", "keydown", "touchstart", "pointerdown"].forEach(function (e) {
      return t(e, w, h);
    });
  },
      T = function T(n, o) {
    var m,
        d = l(),
        v = a("FID"),
        p = function p(t) {
      t.startTime < d.timeStamp && (v.value = t.processingStart - t.startTime, v.entries.push(t), f.add(v), m());
    },
        S = r("first-input", p);

    m = s(n, v, o), S && c(function () {
      S.takeRecords().map(p), S.disconnect();
    }, !0), S && u(function () {
      var r;
      v = a("FID"), m = s(n, v, o), i = [], e = -1, t = null, L(addEventListener), r = p, i.push(r), E();
    });
  },
      b = function b(t, e) {
    var n,
        i = l(),
        o = a("LCP"),
        m = function m(t) {
      var e = t.startTime;
      e < i.timeStamp && (o.value = e, o.entries.push(t)), n();
    },
        d = r("largest-contentful-paint", m);

    if (d) {
      n = s(t, o, e);

      var v = function v() {
        f.has(o) || (d.takeRecords().map(m), d.disconnect(), f.add(o), n());
      };

      ["keydown", "click"].forEach(function (t) {
        addEventListener(t, v, {
          once: !0,
          capture: !0
        });
      }), c(v, !0), u(function (i) {
        o = a("LCP"), n = s(t, o, e), requestAnimationFrame(function () {
          requestAnimationFrame(function () {
            o.value = performance.now() - i.timeStamp, f.add(o), n();
          });
        });
      });
    }
  },
      F = function F(t) {
    var e,
        n = a("TTFB");
    e = function e() {
      try {
        var e = performance.getEntriesByType("navigation")[0] || function () {
          var t = performance.timing,
              e = {
            entryType: "navigation",
            startTime: 0
          };

          for (var n in t) {
            "navigationStart" !== n && "toJSON" !== n && (e[n] = Math.max(t[n] - t.navigationStart, 0));
          }

          return e;
        }();

        n.value = n.delta = e.responseStart, n.entries = [e], t(n);
      } catch (t) {}
    }, "complete" === document.readyState ? setTimeout(e, 0) : addEventListener("pageshow", e);
  };



  /***/ }),

  /***/ "./node_modules/webpack/buildin/global.js":
  /*!***********************************!*\
    !*** (webpack)/buildin/global.js ***!
    \***********************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  var g; // This works in non-strict mode

  g = function () {
    return this;
  }();

  try {
    // This works if eval is allowed (see CSP)
    g = g || new Function("return this")();
  } catch (e) {
    // This works if the window reference is available
    if ((typeof window === "undefined" ? "undefined" : _typeof(window)) === "object") g = window;
  } // g can still be undefined, but nothing to do about it...
  // We return undefined, instead of nothing here, so it's
  // easier to handle this case. if(!global) { ...}


  module.exports = g;

  /***/ }),

  /***/ "./node_modules/webpack/buildin/module.js":
  /*!***********************************!*\
    !*** (webpack)/buildin/module.js ***!
    \***********************************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = function (module) {
    if (!module.webpackPolyfill) {
      module.deprecate = function () {};

      module.paths = []; // module.parent = undefined by default

      if (!module.children) module.children = [];
      Object.defineProperty(module, "loaded", {
        enumerable: true,
        get: function get() {
          return module.l;
        }
      });
      Object.defineProperty(module, "id", {
        enumerable: true,
        get: function get() {
          return module.i;
        }
      });
      module.webpackPolyfill = 1;
    }

    return module;
  };

  /***/ }),

  /***/ 0:
  /*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
    !*** multi ./app_unison/frontend/stable/components/foundation/base/index.js ./app_unison/frontend/stable/components/site/ad_allowlist/index.js ./app_unison/frontend/stable/components/site/app_nav/index.js ./app_unison/frontend/stable/components/site/archives_load_more/index.js ./app_unison/frontend/stable/components/site/article_footer/index.js ./app_unison/frontend/stable/components/site/breaking_news/index.js ./app_unison/frontend/stable/components/site/byline/index.js ./app_unison/frontend/stable/components/site/call_to_action_button/index.js ./app_unison/frontend/stable/components/site/directory/index.js ./app_unison/frontend/stable/components/site/disclaimer_image/index.js ./app_unison/frontend/stable/components/site/disclaimer/index.js ./app_unison/frontend/stable/components/site/dynamic_size_image/index.js ./app_unison/frontend/stable/components/site/entry_box_grid/index.js ./app_unison/frontend/stable/components/site/entry_box/index.js ./app_unison/frontend/stable/components/site/entry_correction/index.js ./app_unison/frontend/stable/components/site/entry_formatter/index.js ./app_unison/frontend/stable/components/site/entry_group_list/index.js ./app_unison/frontend/stable/components/site/entry_hero_video/index.js ./app_unison/frontend/stable/components/site/entry_hero/index.js ./app_unison/frontend/stable/components/site/entry_image/index.js ./app_unison/frontend/stable/components/site/entry_intro/index.js ./app_unison/frontend/stable/components/site/entry_sidebar/index.js ./app_unison/frontend/stable/components/site/entry_stat/index.js ./app_unison/frontend/stable/components/site/entry_summary/index.js ./app_unison/frontend/stable/components/site/entry_update_bar/index.js ./app_unison/frontend/stable/components/site/feed/index.js ./app_unison/frontend/stable/components/site/filter_list/index.js ./app_unison/frontend/stable/components/site/font_loader/index.js ./app_unison/frontend/stable/components/site/foursquare_button/index.js ./app_unison/frontend/stable/components/site/gifv/index.js ./app_unison/frontend/stable/components/site/global_footer/index.js ./app_unison/frontend/stable/components/site/global_header/index.js ./app_unison/frontend/stable/components/site/group_commerce_disclosure/index.js ./app_unison/frontend/stable/components/site/group_description/index.js ./app_unison/frontend/stable/components/site/group_header/index.js ./app_unison/frontend/stable/components/site/group_subnav/index.js ./app_unison/frontend/stable/components/site/hub_title/index.js ./app_unison/frontend/stable/components/site/image_enlarge/index.js ./app_unison/frontend/stable/components/site/image_mask/index.js ./app_unison/frontend/stable/components/site/input_header/index.js ./app_unison/frontend/stable/components/site/lifetime_view/index.js ./app_unison/frontend/stable/components/site/masthead/index.js ./app_unison/frontend/stable/components/site/nav_list/index.js ./app_unison/frontend/stable/components/site/news_disclaimer/index.js ./app_unison/frontend/stable/components/site/newsletter_signup_box/index.js ./app_unison/frontend/stable/components/site/newsletter_signup_form/index.js ./app_unison/frontend/stable/components/site/off_platform_publish/index.js ./app_unison/frontend/stable/components/site/opentable_button/index.js ./app_unison/frontend/stable/components/site/opinion_flag/index.js ./app_unison/frontend/stable/components/site/overlay_nav/index.js ./app_unison/frontend/stable/components/site/package_cover/index.js ./app_unison/frontend/stable/components/site/package_subnav/index.js ./app_unison/frontend/stable/components/site/page_title/index.js ./app_unison/frontend/stable/components/site/pagination/index.js ./app_unison/frontend/stable/components/site/paywall_logo/index.js ./app_unison/frontend/stable/components/site/piano/index.js ./app_unison/frontend/stable/components/site/picture_element/index.js ./app_unison/frontend/stable/components/site/pinterest_save_button/index.js ./app_unison/frontend/stable/components/site/place_hero/index.js ./app_unison/frontend/stable/components/site/product_card/index.js ./app_unison/frontend/stable/components/site/promo_box/index.js ./app_unison/frontend/stable/components/site/promo_list/index.js ./app_unison/frontend/stable/components/site/recirc_module/index.js ./app_unison/frontend/stable/components/site/related_list/index.js ./app_unison/frontend/stable/components/site/resend_confirmation/index.js ./app_unison/frontend/stable/components/site/review_label/index.js ./app_unison/frontend/stable/components/site/river_section_title/index.js ./app_unison/frontend/stable/components/site/river/index.js ./app_unison/frontend/stable/components/site/scorecard/index.js ./app_unison/frontend/stable/components/site/section_front_block/index.js ./app_unison/frontend/stable/components/site/simple_map/index.js ./app_unison/frontend/stable/components/site/site_switcher/index.js ./app_unison/frontend/stable/components/site/snippet_animation/index.js ./app_unison/frontend/stable/components/site/social_buttons_list/index.js ./app_unison/frontend/stable/components/site/sports_blog_directory/index.js ./app_unison/frontend/stable/components/site/stream_list/index.js ./app_unison/frontend/stable/components/site/subnav/index.js ./app_unison/frontend/stable/components/site/tab_bar/index.js ./app_unison/frontend/stable/components/site/text_hero/index.js ./app_unison/frontend/stable/components/site/toaster/index.js ./app_unison/frontend/stable/components/site/tos_notificaton/index.js ./app_unison/frontend/stable/components/site/user_activity/index.js ./app_unison/frontend/stable/components/site/user_card/index.js ./app_unison/frontend/stable/components/site/user_membership_list/index.js ./app_unison/frontend/stable/components/site/video_embed/index.js ./app_unison/frontend/stable/components/site/video_preview/index.js ./app_unison/frontend/stable/components/entry_boxes/base/index.js ./app_unison/frontend/stable/components/entry_boxes/featured/index.js ./app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.js ./app_unison/frontend/stable/components/entry_boxes/group_entry/index.js ./app_unison/frontend/stable/components/entry_boxes/hero/index.js ./app_unison/frontend/stable/components/entry_boxes/person/index.js ./app_unison/frontend/stable/components/entry_boxes/river/index.js ./app_unison/frontend/stable/components/entry_boxes/sidebar/index.js ./app_unison/frontend/stable/components/entry_boxes/video_layout/index.js ./app_unison/frontend/stable/components/header/header_call_to_action/index.js ./app_unison/frontend/stable/components/header/header_login/index.js ./app_unison/frontend/stable/components/header/header_logo/index.js ./app_unison/frontend/stable/components/header/header_nav/index.js ./app_unison/frontend/stable/components/header/header_primary_community/index.js ./app_unison/frontend/stable/components/header/header_search_trigger/index.js ./app_unison/frontend/stable/components/header/header_social/index.js ./app_unison/frontend/stable/components/snippets/action_box/index.js ./app_unison/frontend/stable/components/snippets/brand_stat/index.js ./app_unison/frontend/stable/components/snippets/contact/index.js ./app_unison/frontend/stable/components/snippets/credit/index.js ./app_unison/frontend/stable/components/snippets/donation_form/index.js ./app_unison/frontend/stable/components/snippets/high_touch_header/index.js ./app_unison/frontend/stable/components/snippets/info_block/index.js ./app_unison/frontend/stable/components/snippets/jobs_list/index.js ./app_unison/frontend/stable/components/snippets/markup/index.js ./app_unison/frontend/stable/components/snippets/pullquote_list/index.js ./app_unison/frontend/stable/components/snippets/pym_embed/index.js ./app_unison/frontend/stable/components/snippets/rating_box/index.js ./app_unison/frontend/stable/components/snippets/read_more/index.js ./app_unison/frontend/stable/components/snippets/river/index.js ./app_unison/frontend/stable/components/snippets/showcase/index.js ./app_unison/frontend/stable/components/snippets/social_count/index.js ./app_unison/frontend/stable/components/snippets/toh_project_details_box/index.js ./app_unison/frontend/stable/components/snippets/toh_tools_box/index.js ./app_unison/frontend/stable/components/snippets/tv_listing/index.js ./app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.js ./app_unison/frontend/stable/components/sidebar_rocks/community_info/index.js ./app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.js ./app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.js ./app_unison/frontend/stable/components/sidebar_rocks/info_box/index.js ./app_unison/frontend/stable/components/sidebar_rocks/link_list/index.js ./app_unison/frontend/stable/components/sidebar_rocks/metabet/index.js ./app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.js ./app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.js ./app_unison/frontend/stable/components/embeds/github_repo/index.js ./app_unison/frontend/stable/components/embeds/must_read/index.js ./app_unison/frontend/stable/components/embeds/place/index.js ./app_unison/frontend/stable/components/apps/ad_survey/index.js ./app_unison/frontend/stable/components/apps/image_gallery/index.js ./app_unison/frontend/stable/components/apps/comment_forum/index.js ./app_unison/frontend/stable/components/apps/nextclick/index.js ./app_unison/frontend/stable/components/apps/poll/index.js ./app_unison/frontend/stable/components/apps/interactive_table/index.js ./app_unison/frontend/stable/components/apps/buying_guide/index.js ./app_unison/frontend/stable/components/apps/imageslider/index.js ./app_unison/frontend/stable/components/apps/coral/index.js ./app_unison/frontend/stable/components/tools/admin/index.js ./app_unison/frontend/stable/components/foundation/print/index.scss ***!
    \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
  /*! no static exports found */
  /***/ (function(module, exports, __webpack_require__) {

  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/foundation/base/index.js */"./app_unison/frontend/stable/components/foundation/base/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/ad_allowlist/index.js */"./app_unison/frontend/stable/components/site/ad_allowlist/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/app_nav/index.js */"./app_unison/frontend/stable/components/site/app_nav/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/archives_load_more/index.js */"./app_unison/frontend/stable/components/site/archives_load_more/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/article_footer/index.js */"./app_unison/frontend/stable/components/site/article_footer/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/breaking_news/index.js */"./app_unison/frontend/stable/components/site/breaking_news/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/byline/index.js */"./app_unison/frontend/stable/components/site/byline/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/call_to_action_button/index.js */"./app_unison/frontend/stable/components/site/call_to_action_button/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/directory/index.js */"./app_unison/frontend/stable/components/site/directory/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/disclaimer_image/index.js */"./app_unison/frontend/stable/components/site/disclaimer_image/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/disclaimer/index.js */"./app_unison/frontend/stable/components/site/disclaimer/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/dynamic_size_image/index.js */"./app_unison/frontend/stable/components/site/dynamic_size_image/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_box_grid/index.js */"./app_unison/frontend/stable/components/site/entry_box_grid/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_box/index.js */"./app_unison/frontend/stable/components/site/entry_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_correction/index.js */"./app_unison/frontend/stable/components/site/entry_correction/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_formatter/index.js */"./app_unison/frontend/stable/components/site/entry_formatter/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_group_list/index.js */"./app_unison/frontend/stable/components/site/entry_group_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_hero_video/index.js */"./app_unison/frontend/stable/components/site/entry_hero_video/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_hero/index.js */"./app_unison/frontend/stable/components/site/entry_hero/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_image/index.js */"./app_unison/frontend/stable/components/site/entry_image/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_intro/index.js */"./app_unison/frontend/stable/components/site/entry_intro/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_sidebar/index.js */"./app_unison/frontend/stable/components/site/entry_sidebar/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_stat/index.js */"./app_unison/frontend/stable/components/site/entry_stat/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_summary/index.js */"./app_unison/frontend/stable/components/site/entry_summary/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/entry_update_bar/index.js */"./app_unison/frontend/stable/components/site/entry_update_bar/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/feed/index.js */"./app_unison/frontend/stable/components/site/feed/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/filter_list/index.js */"./app_unison/frontend/stable/components/site/filter_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/font_loader/index.js */"./app_unison/frontend/stable/components/site/font_loader/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/foursquare_button/index.js */"./app_unison/frontend/stable/components/site/foursquare_button/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/gifv/index.js */"./app_unison/frontend/stable/components/site/gifv/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/global_footer/index.js */"./app_unison/frontend/stable/components/site/global_footer/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/global_header/index.js */"./app_unison/frontend/stable/components/site/global_header/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/group_commerce_disclosure/index.js */"./app_unison/frontend/stable/components/site/group_commerce_disclosure/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/group_description/index.js */"./app_unison/frontend/stable/components/site/group_description/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/group_header/index.js */"./app_unison/frontend/stable/components/site/group_header/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/group_subnav/index.js */"./app_unison/frontend/stable/components/site/group_subnav/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/hub_title/index.js */"./app_unison/frontend/stable/components/site/hub_title/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/image_enlarge/index.js */"./app_unison/frontend/stable/components/site/image_enlarge/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/image_mask/index.js */"./app_unison/frontend/stable/components/site/image_mask/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/input_header/index.js */"./app_unison/frontend/stable/components/site/input_header/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/lifetime_view/index.js */"./app_unison/frontend/stable/components/site/lifetime_view/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/masthead/index.js */"./app_unison/frontend/stable/components/site/masthead/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/nav_list/index.js */"./app_unison/frontend/stable/components/site/nav_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/news_disclaimer/index.js */"./app_unison/frontend/stable/components/site/news_disclaimer/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/newsletter_signup_box/index.js */"./app_unison/frontend/stable/components/site/newsletter_signup_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/newsletter_signup_form/index.js */"./app_unison/frontend/stable/components/site/newsletter_signup_form/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/off_platform_publish/index.js */"./app_unison/frontend/stable/components/site/off_platform_publish/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/opentable_button/index.js */"./app_unison/frontend/stable/components/site/opentable_button/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/opinion_flag/index.js */"./app_unison/frontend/stable/components/site/opinion_flag/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/overlay_nav/index.js */"./app_unison/frontend/stable/components/site/overlay_nav/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/package_cover/index.js */"./app_unison/frontend/stable/components/site/package_cover/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/package_subnav/index.js */"./app_unison/frontend/stable/components/site/package_subnav/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/page_title/index.js */"./app_unison/frontend/stable/components/site/page_title/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/pagination/index.js */"./app_unison/frontend/stable/components/site/pagination/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/paywall_logo/index.js */"./app_unison/frontend/stable/components/site/paywall_logo/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/piano/index.js */"./app_unison/frontend/stable/components/site/piano/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/picture_element/index.js */"./app_unison/frontend/stable/components/site/picture_element/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/pinterest_save_button/index.js */"./app_unison/frontend/stable/components/site/pinterest_save_button/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/place_hero/index.js */"./app_unison/frontend/stable/components/site/place_hero/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/product_card/index.js */"./app_unison/frontend/stable/components/site/product_card/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/promo_box/index.js */"./app_unison/frontend/stable/components/site/promo_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/promo_list/index.js */"./app_unison/frontend/stable/components/site/promo_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/recirc_module/index.js */"./app_unison/frontend/stable/components/site/recirc_module/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/related_list/index.js */"./app_unison/frontend/stable/components/site/related_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/resend_confirmation/index.js */"./app_unison/frontend/stable/components/site/resend_confirmation/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/review_label/index.js */"./app_unison/frontend/stable/components/site/review_label/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/river_section_title/index.js */"./app_unison/frontend/stable/components/site/river_section_title/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/river/index.js */"./app_unison/frontend/stable/components/site/river/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/scorecard/index.js */"./app_unison/frontend/stable/components/site/scorecard/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/section_front_block/index.js */"./app_unison/frontend/stable/components/site/section_front_block/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/simple_map/index.js */"./app_unison/frontend/stable/components/site/simple_map/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/site_switcher/index.js */"./app_unison/frontend/stable/components/site/site_switcher/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/snippet_animation/index.js */"./app_unison/frontend/stable/components/site/snippet_animation/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/social_buttons_list/index.js */"./app_unison/frontend/stable/components/site/social_buttons_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/sports_blog_directory/index.js */"./app_unison/frontend/stable/components/site/sports_blog_directory/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/stream_list/index.js */"./app_unison/frontend/stable/components/site/stream_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/subnav/index.js */"./app_unison/frontend/stable/components/site/subnav/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/tab_bar/index.js */"./app_unison/frontend/stable/components/site/tab_bar/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/text_hero/index.js */"./app_unison/frontend/stable/components/site/text_hero/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/toaster/index.js */"./app_unison/frontend/stable/components/site/toaster/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/tos_notificaton/index.js */"./app_unison/frontend/stable/components/site/tos_notificaton/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/user_activity/index.js */"./app_unison/frontend/stable/components/site/user_activity/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/user_card/index.js */"./app_unison/frontend/stable/components/site/user_card/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/user_membership_list/index.js */"./app_unison/frontend/stable/components/site/user_membership_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/video_embed/index.js */"./app_unison/frontend/stable/components/site/video_embed/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/site/video_preview/index.js */"./app_unison/frontend/stable/components/site/video_preview/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/base/index.js */"./app_unison/frontend/stable/components/entry_boxes/base/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/featured/index.js */"./app_unison/frontend/stable/components/entry_boxes/featured/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.js */"./app_unison/frontend/stable/components/entry_boxes/group_entry_robust/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/group_entry/index.js */"./app_unison/frontend/stable/components/entry_boxes/group_entry/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/hero/index.js */"./app_unison/frontend/stable/components/entry_boxes/hero/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/person/index.js */"./app_unison/frontend/stable/components/entry_boxes/person/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/river/index.js */"./app_unison/frontend/stable/components/entry_boxes/river/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/sidebar/index.js */"./app_unison/frontend/stable/components/entry_boxes/sidebar/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/entry_boxes/video_layout/index.js */"./app_unison/frontend/stable/components/entry_boxes/video_layout/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/header/header_call_to_action/index.js */"./app_unison/frontend/stable/components/header/header_call_to_action/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/header/header_login/index.js */"./app_unison/frontend/stable/components/header/header_login/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/header/header_logo/index.js */"./app_unison/frontend/stable/components/header/header_logo/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/header/header_nav/index.js */"./app_unison/frontend/stable/components/header/header_nav/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/header/header_primary_community/index.js */"./app_unison/frontend/stable/components/header/header_primary_community/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/header/header_search_trigger/index.js */"./app_unison/frontend/stable/components/header/header_search_trigger/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/header/header_social/index.js */"./app_unison/frontend/stable/components/header/header_social/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/action_box/index.js */"./app_unison/frontend/stable/components/snippets/action_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/brand_stat/index.js */"./app_unison/frontend/stable/components/snippets/brand_stat/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/contact/index.js */"./app_unison/frontend/stable/components/snippets/contact/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/credit/index.js */"./app_unison/frontend/stable/components/snippets/credit/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/donation_form/index.js */"./app_unison/frontend/stable/components/snippets/donation_form/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/high_touch_header/index.js */"./app_unison/frontend/stable/components/snippets/high_touch_header/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/info_block/index.js */"./app_unison/frontend/stable/components/snippets/info_block/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/jobs_list/index.js */"./app_unison/frontend/stable/components/snippets/jobs_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/markup/index.js */"./app_unison/frontend/stable/components/snippets/markup/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/pullquote_list/index.js */"./app_unison/frontend/stable/components/snippets/pullquote_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/pym_embed/index.js */"./app_unison/frontend/stable/components/snippets/pym_embed/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/rating_box/index.js */"./app_unison/frontend/stable/components/snippets/rating_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/read_more/index.js */"./app_unison/frontend/stable/components/snippets/read_more/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/river/index.js */"./app_unison/frontend/stable/components/snippets/river/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/showcase/index.js */"./app_unison/frontend/stable/components/snippets/showcase/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/social_count/index.js */"./app_unison/frontend/stable/components/snippets/social_count/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/toh_project_details_box/index.js */"./app_unison/frontend/stable/components/snippets/toh_project_details_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/toh_tools_box/index.js */"./app_unison/frontend/stable/components/snippets/toh_tools_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/tv_listing/index.js */"./app_unison/frontend/stable/components/snippets/tv_listing/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.js */"./app_unison/frontend/stable/components/snippets/vertical_thumbnail_grid/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/community_info/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/community_info/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/coral_active_conversation/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/fanshot_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/info_box/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/info_box/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/link_list/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/link_list/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/metabet/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/metabet/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/news_now_sponsorship/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.js */"./app_unison/frontend/stable/components/sidebar_rocks/single_entry/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/embeds/github_repo/index.js */"./app_unison/frontend/stable/components/embeds/github_repo/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/embeds/must_read/index.js */"./app_unison/frontend/stable/components/embeds/must_read/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/embeds/place/index.js */"./app_unison/frontend/stable/components/embeds/place/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/ad_survey/index.js */"./app_unison/frontend/stable/components/apps/ad_survey/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/image_gallery/index.js */"./app_unison/frontend/stable/components/apps/image_gallery/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/comment_forum/index.js */"./app_unison/frontend/stable/components/apps/comment_forum/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/nextclick/index.js */"./app_unison/frontend/stable/components/apps/nextclick/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/poll/index.js */"./app_unison/frontend/stable/components/apps/poll/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/interactive_table/index.js */"./app_unison/frontend/stable/components/apps/interactive_table/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/buying_guide/index.js */"./app_unison/frontend/stable/components/apps/buying_guide/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/imageslider/index.js */"./app_unison/frontend/stable/components/apps/imageslider/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/apps/coral/index.js */"./app_unison/frontend/stable/components/apps/coral/index.js");
  __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/tools/admin/index.js */"./app_unison/frontend/stable/components/tools/admin/index.js");
  module.exports = __webpack_require__(/*! /sbn/app_unison/frontend/stable/components/foundation/print/index.scss */"./app_unison/frontend/stable/components/foundation/print/index.scss");


  /***/ }),

  /***/ "underscore":
  /*!*******************!*\
    !*** external [] ***!
    \*******************/
  /*! no static exports found */
  /***/ (function(module, exports) {

  module.exports = undefined;

  /***/ })

  /******/ });
